(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function Oy(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Tf={exports:{}},ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function fS(){if(f_)return ul;f_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(l,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:a,type:l,key:h,ref:o!==void 0?o:null,props:u}}return ul.Fragment=t,ul.jsx=i,ul.jsxs=i,ul}var h_;function hS(){return h_||(h_=1,Tf.exports=fS()),Tf.exports}var S=hS(),Cf={exports:{}},$={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function dS(){if(d_)return $;d_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),E=Symbol.iterator;function L(C){return C===null||typeof C!="object"?null:(C=E&&C[E]||C["@@iterator"],typeof C=="function"?C:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,Q={};function he(C,k,q){this.props=C,this.context=k,this.refs=Q,this.updater=q||U}he.prototype.isReactComponent={},he.prototype.setState=function(C,k){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,k,"setState")},he.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function be(){}be.prototype=he.prototype;function W(C,k,q){this.props=C,this.context=k,this.refs=Q,this.updater=q||U}var _e=W.prototype=new be;_e.constructor=W,z(_e,he.prototype),_e.isPureReactComponent=!0;var Oe=Array.isArray;function De(){}var H={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function Te(C,k,q){var G=q.ref;return{$$typeof:a,type:C,key:k,ref:G!==void 0?G:null,props:q}}function Be(C,k){return Te(C.type,k,C.props)}function Me(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function Je(C){var k={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(q){return k[q]})}var Bt=/\/+/g;function Rt(C,k){return typeof C=="object"&&C!==null&&C.key!=null?Je(""+C.key):k.toString(36)}function $t(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(De,De):(C.status="pending",C.then(function(k){C.status==="pending"&&(C.status="fulfilled",C.value=k)},function(k){C.status==="pending"&&(C.status="rejected",C.reason=k)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function D(C,k,q,G,ee){var ae=typeof C;(ae==="undefined"||ae==="boolean")&&(C=null);var ve=!1;if(C===null)ve=!0;else switch(ae){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(C.$$typeof){case a:case t:ve=!0;break;case b:return ve=C._init,D(ve(C._payload),k,q,G,ee)}}if(ve)return ee=ee(C),ve=G===""?"."+Rt(C,0):G,Oe(ee)?(q="",ve!=null&&(q=ve.replace(Bt,"$&/")+"/"),D(ee,k,q,"",function(_a){return _a})):ee!=null&&(Me(ee)&&(ee=Be(ee,q+(ee.key==null||C&&C.key===ee.key?"":(""+ee.key).replace(Bt,"$&/")+"/")+ve)),k.push(ee)),1;ve=0;var mt=G===""?".":G+":";if(Oe(C))for(var Ye=0;Ye<C.length;Ye++)G=C[Ye],ae=mt+Rt(G,Ye),ve+=D(G,k,q,ae,ee);else if(Ye=L(C),typeof Ye=="function")for(C=Ye.call(C),Ye=0;!(G=C.next()).done;)G=G.value,ae=mt+Rt(G,Ye++),ve+=D(G,k,q,ae,ee);else if(ae==="object"){if(typeof C.then=="function")return D($t(C),k,q,G,ee);throw k=String(C),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return ve}function B(C,k,q){if(C==null)return C;var G=[],ee=0;return D(C,G,"","",function(ae){return k.call(q,ae,ee++)}),G}function Z(C){if(C._status===-1){var k=C._result;k=k(),k.then(function(q){(C._status===0||C._status===-1)&&(C._status=1,C._result=q)},function(q){(C._status===0||C._status===-1)&&(C._status=2,C._result=q)}),C._status===-1&&(C._status=0,C._result=k)}if(C._status===1)return C._result.default;throw C._result}var Ce=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Ie={map:B,forEach:function(C,k,q){B(C,function(){k.apply(this,arguments)},q)},count:function(C){var k=0;return B(C,function(){k++}),k},toArray:function(C){return B(C,function(k){return k})||[]},only:function(C){if(!Me(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return $.Activity=y,$.Children=Ie,$.Component=he,$.Fragment=i,$.Profiler=o,$.PureComponent=W,$.StrictMode=l,$.Suspense=p,$.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,$.__COMPILER_RUNTIME={__proto__:null,c:function(C){return H.H.useMemoCache(C)}},$.cache=function(C){return function(){return C.apply(null,arguments)}},$.cacheSignal=function(){return null},$.cloneElement=function(C,k,q){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var G=z({},C.props),ee=C.key;if(k!=null)for(ae in k.key!==void 0&&(ee=""+k.key),k)!F.call(k,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&k.ref===void 0||(G[ae]=k[ae]);var ae=arguments.length-2;if(ae===1)G.children=q;else if(1<ae){for(var ve=Array(ae),mt=0;mt<ae;mt++)ve[mt]=arguments[mt+2];G.children=ve}return Te(C.type,ee,G)},$.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},$.createElement=function(C,k,q){var G,ee={},ae=null;if(k!=null)for(G in k.key!==void 0&&(ae=""+k.key),k)F.call(k,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(ee[G]=k[G]);var ve=arguments.length-2;if(ve===1)ee.children=q;else if(1<ve){for(var mt=Array(ve),Ye=0;Ye<ve;Ye++)mt[Ye]=arguments[Ye+2];ee.children=mt}if(C&&C.defaultProps)for(G in ve=C.defaultProps,ve)ee[G]===void 0&&(ee[G]=ve[G]);return Te(C,ae,ee)},$.createRef=function(){return{current:null}},$.forwardRef=function(C){return{$$typeof:m,render:C}},$.isValidElement=Me,$.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:Z}},$.memo=function(C,k){return{$$typeof:g,type:C,compare:k===void 0?null:k}},$.startTransition=function(C){var k=H.T,q={};H.T=q;try{var G=C(),ee=H.S;ee!==null&&ee(q,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(De,Ce)}catch(ae){Ce(ae)}finally{k!==null&&q.types!==null&&(k.types=q.types),H.T=k}},$.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},$.use=function(C){return H.H.use(C)},$.useActionState=function(C,k,q){return H.H.useActionState(C,k,q)},$.useCallback=function(C,k){return H.H.useCallback(C,k)},$.useContext=function(C){return H.H.useContext(C)},$.useDebugValue=function(){},$.useDeferredValue=function(C,k){return H.H.useDeferredValue(C,k)},$.useEffect=function(C,k){return H.H.useEffect(C,k)},$.useEffectEvent=function(C){return H.H.useEffectEvent(C)},$.useId=function(){return H.H.useId()},$.useImperativeHandle=function(C,k,q){return H.H.useImperativeHandle(C,k,q)},$.useInsertionEffect=function(C,k){return H.H.useInsertionEffect(C,k)},$.useLayoutEffect=function(C,k){return H.H.useLayoutEffect(C,k)},$.useMemo=function(C,k){return H.H.useMemo(C,k)},$.useOptimistic=function(C,k){return H.H.useOptimistic(C,k)},$.useReducer=function(C,k,q){return H.H.useReducer(C,k,q)},$.useRef=function(C){return H.H.useRef(C)},$.useState=function(C){return H.H.useState(C)},$.useSyncExternalStore=function(C,k,q){return H.H.useSyncExternalStore(C,k,q)},$.useTransition=function(){return H.H.useTransition()},$.version="19.2.4",$}var m_;function dh(){return m_||(m_=1,Cf.exports=dS()),Cf.exports}var oe=dh();const mS=Oy(oe);var wf={exports:{}},fl={},xf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function pS(){return p_||(p_=1,(function(a){function t(D,B){var Z=D.length;D.push(B);e:for(;0<Z;){var Ce=Z-1>>>1,Ie=D[Ce];if(0<o(Ie,B))D[Ce]=B,D[Z]=Ie,Z=Ce;else break e}}function i(D){return D.length===0?null:D[0]}function l(D){if(D.length===0)return null;var B=D[0],Z=D.pop();if(Z!==B){D[0]=Z;e:for(var Ce=0,Ie=D.length,C=Ie>>>1;Ce<C;){var k=2*(Ce+1)-1,q=D[k],G=k+1,ee=D[G];if(0>o(q,Z))G<Ie&&0>o(ee,q)?(D[Ce]=ee,D[G]=Z,Ce=G):(D[Ce]=q,D[k]=Z,Ce=k);else if(G<Ie&&0>o(ee,Z))D[Ce]=ee,D[G]=Z,Ce=G;else break e}}return B}function o(D,B){var Z=D.sortIndex-B.sortIndex;return Z!==0?Z:D.id-B.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var p=[],g=[],b=1,y=null,E=3,L=!1,U=!1,z=!1,Q=!1,he=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function _e(D){for(var B=i(g);B!==null;){if(B.callback===null)l(g);else if(B.startTime<=D)l(g),B.sortIndex=B.expirationTime,t(p,B);else break;B=i(g)}}function Oe(D){if(z=!1,_e(D),!U)if(i(p)!==null)U=!0,De||(De=!0,Je());else{var B=i(g);B!==null&&$t(Oe,B.startTime-D)}}var De=!1,H=-1,F=5,Te=-1;function Be(){return Q?!0:!(a.unstable_now()-Te<F)}function Me(){if(Q=!1,De){var D=a.unstable_now();Te=D;var B=!0;try{e:{U=!1,z&&(z=!1,be(H),H=-1),L=!0;var Z=E;try{t:{for(_e(D),y=i(p);y!==null&&!(y.expirationTime>D&&Be());){var Ce=y.callback;if(typeof Ce=="function"){y.callback=null,E=y.priorityLevel;var Ie=Ce(y.expirationTime<=D);if(D=a.unstable_now(),typeof Ie=="function"){y.callback=Ie,_e(D),B=!0;break t}y===i(p)&&l(p),_e(D)}else l(p);y=i(p)}if(y!==null)B=!0;else{var C=i(g);C!==null&&$t(Oe,C.startTime-D),B=!1}}break e}finally{y=null,E=Z,L=!1}B=void 0}}finally{B?Je():De=!1}}}var Je;if(typeof W=="function")Je=function(){W(Me)};else if(typeof MessageChannel<"u"){var Bt=new MessageChannel,Rt=Bt.port2;Bt.port1.onmessage=Me,Je=function(){Rt.postMessage(null)}}else Je=function(){he(Me,0)};function $t(D,B){H=he(function(){D(a.unstable_now())},B)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(D){D.callback=null},a.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<D?Math.floor(1e3/D):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function(D){switch(E){case 1:case 2:case 3:var B=3;break;default:B=E}var Z=E;E=B;try{return D()}finally{E=Z}},a.unstable_requestPaint=function(){Q=!0},a.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Z=E;E=D;try{return B()}finally{E=Z}},a.unstable_scheduleCallback=function(D,B,Z){var Ce=a.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Ce+Z:Ce):Z=Ce,D){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=Z+Ie,D={id:b++,callback:B,priorityLevel:D,startTime:Z,expirationTime:Ie,sortIndex:-1},Z>Ce?(D.sortIndex=Z,t(g,D),i(p)===null&&D===i(g)&&(z?(be(H),H=-1):z=!0,$t(Oe,Z-Ce))):(D.sortIndex=Ie,t(p,D),U||L||(U=!0,De||(De=!0,Je()))),D},a.unstable_shouldYield=Be,a.unstable_wrapCallback=function(D){var B=E;return function(){var Z=E;E=B;try{return D.apply(this,arguments)}finally{E=Z}}}})(Af)),Af}var g_;function gS(){return g_||(g_=1,xf.exports=pS()),xf.exports}var Nf={exports:{}},dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function _S(){if(__)return dt;__=1;var a=dh();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:p,containerInfo:g,implementation:b}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,dt.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,b)},dt.flushSync=function(p){var g=h.T,b=l.p;try{if(h.T=null,l.p=2,p)return p()}finally{h.T=g,l.p=b,l.d.f()}},dt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(p,g))},dt.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},dt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,y=m(b,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,L=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?l.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:E,fetchPriority:L}):b==="script"&&l.d.X(p,{crossOrigin:y,integrity:E,fetchPriority:L,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);l.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(p)},dt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,y=m(b,g.crossOrigin);l.d.L(p,b,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dt.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=m(g.as,g.crossOrigin);l.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(p)},dt.requestFormReset=function(p){l.d.r(p)},dt.unstable_batchedUpdates=function(p,g){return p(g)},dt.useFormState=function(p,g,b){return h.H.useFormState(p,g,b)},dt.useFormStatus=function(){return h.H.useHostTransitionStatus()},dt.version="19.2.4",dt}var y_;function yS(){if(y_)return Nf.exports;y_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Nf.exports=_S(),Nf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function vS(){if(v_)return fl;v_=1;var a=gS(),t=dh(),i=yS();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(l(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(l(188));return n!==e?null:e}for(var s=e,r=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(r=c.return,r!==null){s=r;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return p(c),e;if(f===r)return p(c),n;f=f.sibling}throw Error(l(188))}if(s.return!==r.return)s=c,r=f;else{for(var d=!1,_=c.child;_;){if(_===s){d=!0,s=c,r=f;break}if(_===r){d=!0,r=c,s=f;break}_=_.sibling}if(!d){for(_=f.child;_;){if(_===s){d=!0,s=f,r=c;break}if(_===r){d=!0,r=f,s=c;break}_=_.sibling}if(!d)throw Error(l(189))}}if(s.alternate!==r)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),be=Symbol.for("react.consumer"),W=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),Te=Symbol.for("react.activity"),Be=Symbol.for("react.memo_cache_sentinel"),Me=Symbol.iterator;function Je(e){return e===null||typeof e!="object"?null:(e=Me&&e[Me]||e["@@iterator"],typeof e=="function"?e:null)}var Bt=Symbol.for("react.client.reference");function Rt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Bt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case he:return"Profiler";case Q:return"StrictMode";case Oe:return"Suspense";case De:return"SuspenseList";case Te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case W:return e.displayName||"Context";case be:return(e._context.displayName||"Context")+".Consumer";case _e:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return n=e.displayName||null,n!==null?n:Rt(e.type)||"Memo";case F:n=e._payload,e=e._init;try{return Rt(e(n))}catch{}}return null}var $t=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},Ce=[],Ie=-1;function C(e){return{current:e}}function k(e){0>Ie||(e.current=Ce[Ie],Ce[Ie]=null,Ie--)}function q(e,n){Ie++,Ce[Ie]=e.current,e.current=n}var G=C(null),ee=C(null),ae=C(null),ve=C(null);function mt(e,n){switch(q(ae,n),q(ee,e),q(G,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?kg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=kg(n),e=Lg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(G),q(G,e)}function Ye(){k(G),k(ee),k(ae)}function _a(e){e.memoizedState!==null&&q(ve,e);var n=G.current,s=Lg(n,e.type);n!==s&&(q(ee,e),q(G,s))}function Ql(e){ee.current===e&&(k(G),k(ee)),ve.current===e&&(k(ve),ll._currentValue=Z)}var sc,ud;function Oi(e){if(sc===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);sc=n&&n[1]||"",ud=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sc+e+ud}var ac=!1;function lc(e,n){if(!e||ac)return"";ac=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(R){var N=R}Reflect.construct(e,[],I)}else{try{I.call()}catch(R){N=R}e.call(I.prototype)}}else{try{throw Error()}catch(R){N=R}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(R){if(R&&N&&typeof R.stack=="string")return[R.stack,N.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),d=f[0],_=f[1];if(d&&_){var v=d.split(`
`),A=_.split(`
`);for(c=r=0;r<v.length&&!v[r].includes("DetermineComponentFrameRoot");)r++;for(;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;if(r===v.length||c===A.length)for(r=v.length-1,c=A.length-1;1<=r&&0<=c&&v[r]!==A[c];)c--;for(;1<=r&&0<=c;r--,c--)if(v[r]!==A[c]){if(r!==1||c!==1)do if(r--,c--,0>c||v[r]!==A[c]){var O=`
`+v[r].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=r&&0<=c);break}}}finally{ac=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Oi(s):""}function V0(e,n){switch(e.tag){case 26:case 27:case 5:return Oi(e.type);case 16:return Oi("Lazy");case 13:return e.child!==n&&n!==null?Oi("Suspense Fallback"):Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return lc(e.type,!1);case 11:return lc(e.type.render,!1);case 1:return lc(e.type,!0);case 31:return Oi("Activity");default:return""}}function fd(e){try{var n="",s=null;do n+=V0(e,s),s=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var rc=Object.prototype.hasOwnProperty,oc=a.unstable_scheduleCallback,cc=a.unstable_cancelCallback,G0=a.unstable_shouldYield,P0=a.unstable_requestPaint,Ot=a.unstable_now,Y0=a.unstable_getCurrentPriorityLevel,hd=a.unstable_ImmediatePriority,dd=a.unstable_UserBlockingPriority,Fl=a.unstable_NormalPriority,Q0=a.unstable_LowPriority,md=a.unstable_IdlePriority,F0=a.log,K0=a.unstable_setDisableYieldValue,ya=null,Dt=null;function Yn(e){if(typeof F0=="function"&&K0(e),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(ya,e)}catch{}}var Mt=Math.clz32?Math.clz32:Z0,X0=Math.log,W0=Math.LN2;function Z0(e){return e>>>=0,e===0?32:31-(X0(e)/W0|0)|0}var Kl=256,Xl=262144,Wl=4194304;function Di(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zl(e,n,s){var r=e.pendingLanes;if(r===0)return 0;var c=0,f=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~f,r!==0?c=Di(r):(d&=_,d!==0?c=Di(d):s||(s=_&~e,s!==0&&(c=Di(s))))):(_=r&~f,_!==0?c=Di(_):d!==0?c=Di(d):s||(s=r&~e,s!==0&&(c=Di(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function va(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function J0(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pd(){var e=Wl;return Wl<<=1,(Wl&62914560)===0&&(Wl=4194304),e}function uc(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ba(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $0(e,n,s,r,c,f){var d=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var _=e.entanglements,v=e.expirationTimes,A=e.hiddenUpdates;for(s=d&~s;0<s;){var O=31-Mt(s),I=1<<O;_[O]=0,v[O]=-1;var N=A[O];if(N!==null)for(A[O]=null,O=0;O<N.length;O++){var R=N[O];R!==null&&(R.lane&=-536870913)}s&=~I}r!==0&&gd(e,r,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(d&~n))}function gd(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-Mt(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|s&261930}function _d(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var r=31-Mt(s),c=1<<r;c&n|e[r]&n&&(e[r]|=n),s&=~c}}function yd(e,n){var s=n&-n;return s=(s&42)!==0?1:fc(s),(s&(e.suspendedLanes|n))!==0?0:s}function fc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function hc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vd(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:s_(e.type))}function bd(e,n){var s=B.p;try{return B.p=e,n()}finally{B.p=s}}var Qn=Math.random().toString(36).slice(2),lt="__reactFiber$"+Qn,St="__reactProps$"+Qn,os="__reactContainer$"+Qn,dc="__reactEvents$"+Qn,eb="__reactListeners$"+Qn,tb="__reactHandles$"+Qn,Sd="__reactResources$"+Qn,Sa="__reactMarker$"+Qn;function mc(e){delete e[lt],delete e[St],delete e[dc],delete e[eb],delete e[tb]}function cs(e){var n=e[lt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[os]||s[lt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Vg(e);e!==null;){if(s=e[lt])return s;e=Vg(e)}return n}e=s,s=e.parentNode}return null}function us(e){if(e=e[lt]||e[os]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ea(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function fs(e){var n=e[Sd];return n||(n=e[Sd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function nt(e){e[Sa]=!0}var Ed=new Set,Td={};function Mi(e,n){hs(e,n),hs(e+"Capture",n)}function hs(e,n){for(Td[e]=n,e=0;e<n.length;e++)Ed.add(n[e])}var nb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cd={},wd={};function ib(e){return rc.call(wd,e)?!0:rc.call(Cd,e)?!1:nb.test(e)?wd[e]=!0:(Cd[e]=!0,!1)}function Jl(e,n,s){if(ib(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function $l(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function _n(e,n,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+r)}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function sb(e,n,s){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(d){s=""+d,f.call(this,d)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function pc(e){if(!e._valueTracker){var n=xd(e)?"checked":"value";e._valueTracker=sb(e,n,""+e[n])}}function Ad(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return e&&(r=xd(e)?e.checked?"true":"false":e.value),e=r,e!==s?(n.setValue(e),!0):!1}function er(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ab=/[\n"\\]/g;function Vt(e){return e.replace(ab,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function gc(e,n,s,r,c,f,d,_){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),n!=null?d==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qt(n)):e.value!==""+qt(n)&&(e.value=""+qt(n)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),n!=null?_c(e,d,qt(n)):s!=null?_c(e,d,qt(s)):r!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+qt(_):e.removeAttribute("name")}function Nd(e,n,s,r,c,f,d,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){pc(e);return}s=s!=null?""+qt(s):"",n=n!=null?""+qt(n):s,_||n===e.value||(e.value=n),e.defaultValue=n}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),pc(e)}function _c(e,n,s){n==="number"&&er(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ds(e,n,s,r){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&r&&(e[s].defaultSelected=!0)}else{for(s=""+qt(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Rd(e,n,s){if(n!=null&&(n=""+qt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+qt(s):""}function Od(e,n,s,r){if(n==null){if(r!=null){if(s!=null)throw Error(l(92));if($t(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),n=s}s=qt(n),e.defaultValue=s,r=e.textContent,r===s&&r!==""&&r!==null&&(e.value=r),pc(e)}function ms(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var lb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dd(e,n,s){var r=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,s):typeof s!="number"||s===0||lb.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Md(e,n,s){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in n)r=n[c],n.hasOwnProperty(c)&&s[c]!==r&&Dd(e,c,r)}else for(var f in n)n.hasOwnProperty(f)&&Dd(e,f,n[f])}function yc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ob=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tr(e){return ob.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function yn(){}var vc=null;function bc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ps=null,gs=null;function Id(e){var n=us(e);if(n&&(e=n.stateNode)){var s=e[St]||null;e:switch(e=n.stateNode,n.type){case"input":if(gc(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Vt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==e&&r.form===e.form){var c=r[St]||null;if(!c)throw Error(l(90));gc(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)r=s[n],r.form===e.form&&Ad(r)}break e;case"textarea":Rd(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&ds(e,!!s.multiple,n,!1)}}}var Sc=!1;function kd(e,n,s){if(Sc)return e(n,s);Sc=!0;try{var r=e(n);return r}finally{if(Sc=!1,(ps!==null||gs!==null)&&(Vr(),ps&&(n=ps,e=gs,gs=ps=null,Id(n),e)))for(n=0;n<e.length;n++)Id(e[n])}}function Ta(e,n){var s=e.stateNode;if(s===null)return null;var r=s[St]||null;if(r===null)return null;s=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ec=!1;if(vn)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){Ec=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{Ec=!1}var Fn=null,Tc=null,nr=null;function Ld(){if(nr)return nr;var e,n=Tc,s=n.length,r,c="value"in Fn?Fn.value:Fn.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var d=s-e;for(r=1;r<=d&&n[s-r]===c[f-r];r++);return nr=c.slice(e,1<r?1-r:void 0)}function ir(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function sr(){return!0}function Ud(){return!1}function Et(e){function n(s,r,c,f,d){this._reactName=s,this._targetInst=c,this.type=r,this.nativeEvent=f,this.target=d,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?sr:Ud,this.isPropagationStopped=Ud,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),n}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ar=Et(Ii),wa=y({},Ii,{view:0,detail:0}),cb=Et(wa),Cc,wc,xa,lr=y({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ac,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xa&&(xa&&e.type==="mousemove"?(Cc=e.screenX-xa.screenX,wc=e.screenY-xa.screenY):wc=Cc=0,xa=e),Cc)},movementY:function(e){return"movementY"in e?e.movementY:wc}}),zd=Et(lr),ub=y({},lr,{dataTransfer:0}),fb=Et(ub),hb=y({},wa,{relatedTarget:0}),xc=Et(hb),db=y({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),mb=Et(db),pb=y({},Ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gb=Et(pb),_b=y({},Ii,{data:0}),jd=Et(_b),yb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sb(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bb[e])?!!n[e]:!1}function Ac(){return Sb}var Eb=y({},wa,{key:function(e){if(e.key){var n=yb[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ir(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ac,charCode:function(e){return e.type==="keypress"?ir(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ir(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tb=Et(Eb),Cb=y({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hd=Et(Cb),wb=y({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ac}),xb=Et(wb),Ab=y({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nb=Et(Ab),Rb=y({},lr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ob=Et(Rb),Db=y({},Ii,{newState:0,oldState:0}),Mb=Et(Db),Ib=[9,13,27,32],Nc=vn&&"CompositionEvent"in window,Aa=null;vn&&"documentMode"in document&&(Aa=document.documentMode);var kb=vn&&"TextEvent"in window&&!Aa,Bd=vn&&(!Nc||Aa&&8<Aa&&11>=Aa),qd=" ",Vd=!1;function Gd(e,n){switch(e){case"keyup":return Ib.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _s=!1;function Lb(e,n){switch(e){case"compositionend":return Pd(n);case"keypress":return n.which!==32?null:(Vd=!0,qd);case"textInput":return e=n.data,e===qd&&Vd?null:e;default:return null}}function Ub(e,n){if(_s)return e==="compositionend"||!Nc&&Gd(e,n)?(e=Ld(),nr=Tc=Fn=null,_s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bd&&n.locale!=="ko"?null:n.data;default:return null}}var zb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!zb[e.type]:n==="textarea"}function Qd(e,n,s,r){ps?gs?gs.push(r):gs=[r]:ps=r,n=Xr(n,"onChange"),0<n.length&&(s=new ar("onChange","change",null,s,r),e.push({event:s,listeners:n}))}var Na=null,Ra=null;function jb(e){Ng(e,0)}function rr(e){var n=Ea(e);if(Ad(n))return e}function Fd(e,n){if(e==="change")return n}var Kd=!1;if(vn){var Rc;if(vn){var Oc="oninput"in document;if(!Oc){var Xd=document.createElement("div");Xd.setAttribute("oninput","return;"),Oc=typeof Xd.oninput=="function"}Rc=Oc}else Rc=!1;Kd=Rc&&(!document.documentMode||9<document.documentMode)}function Wd(){Na&&(Na.detachEvent("onpropertychange",Zd),Ra=Na=null)}function Zd(e){if(e.propertyName==="value"&&rr(Ra)){var n=[];Qd(n,Ra,e,bc(e)),kd(jb,n)}}function Hb(e,n,s){e==="focusin"?(Wd(),Na=n,Ra=s,Na.attachEvent("onpropertychange",Zd)):e==="focusout"&&Wd()}function Bb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rr(Ra)}function qb(e,n){if(e==="click")return rr(n)}function Vb(e,n){if(e==="input"||e==="change")return rr(n)}function Gb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var It=typeof Object.is=="function"?Object.is:Gb;function Oa(e,n){if(It(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var c=s[r];if(!rc.call(n,c)||!It(e[c],n[c]))return!1}return!0}function Jd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $d(e,n){var s=Jd(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=n&&r>=n)return{node:s,offset:n-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Jd(s)}}function em(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?em(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function tm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=er(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=er(e.document)}return n}function Dc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Pb=vn&&"documentMode"in document&&11>=document.documentMode,ys=null,Mc=null,Da=null,Ic=!1;function nm(e,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ic||ys==null||ys!==er(r)||(r=ys,"selectionStart"in r&&Dc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Da&&Oa(Da,r)||(Da=r,r=Xr(Mc,"onSelect"),0<r.length&&(n=new ar("onSelect","select",null,n,s),e.push({event:n,listeners:r}),n.target=ys)))}function ki(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var vs={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionrun:ki("Transition","TransitionRun"),transitionstart:ki("Transition","TransitionStart"),transitioncancel:ki("Transition","TransitionCancel"),transitionend:ki("Transition","TransitionEnd")},kc={},im={};vn&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Li(e){if(kc[e])return kc[e];if(!vs[e])return e;var n=vs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in im)return kc[e]=n[s];return e}var sm=Li("animationend"),am=Li("animationiteration"),lm=Li("animationstart"),Yb=Li("transitionrun"),Qb=Li("transitionstart"),Fb=Li("transitioncancel"),rm=Li("transitionend"),om=new Map,Lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lc.push("scrollEnd");function en(e,n){om.set(e,n),Mi(n,[e])}var or=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gt=[],bs=0,Uc=0;function cr(){for(var e=bs,n=Uc=bs=0;n<e;){var s=Gt[n];Gt[n++]=null;var r=Gt[n];Gt[n++]=null;var c=Gt[n];Gt[n++]=null;var f=Gt[n];if(Gt[n++]=null,r!==null&&c!==null){var d=r.pending;d===null?c.next=c:(c.next=d.next,d.next=c),r.pending=c}f!==0&&cm(s,c,f)}}function ur(e,n,s,r){Gt[bs++]=e,Gt[bs++]=n,Gt[bs++]=s,Gt[bs++]=r,Uc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function zc(e,n,s,r){return ur(e,n,s,r),fr(e)}function Ui(e,n){return ur(e,null,null,n),fr(e)}function cm(e,n,s){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,r=f.alternate,r!==null&&(r.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-Mt(s),e=f.hiddenUpdates,r=e[c],r===null?e[c]=[n]:r.push(n),n.lane=s|536870912),f):null}function fr(e){if(50<$a)throw $a=0,Qu=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ss={};function Kb(e,n,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,n,s,r){return new Kb(e,n,s,r)}function jc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bn(e,n){var s=e.alternate;return s===null?(s=kt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function um(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function hr(e,n,s,r,c,f){var d=0;if(r=e,typeof e=="function")jc(e)&&(d=1);else if(typeof e=="string")d=$1(e,s,G.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Te:return e=kt(31,s,n,c),e.elementType=Te,e.lanes=f,e;case z:return zi(s.children,c,f,n);case Q:d=8,c|=24;break;case he:return e=kt(12,s,n,c|2),e.elementType=he,e.lanes=f,e;case Oe:return e=kt(13,s,n,c),e.elementType=Oe,e.lanes=f,e;case De:return e=kt(19,s,n,c),e.elementType=De,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:d=10;break e;case be:d=9;break e;case _e:d=11;break e;case H:d=14;break e;case F:d=16,r=null;break e}d=29,s=Error(l(130,e===null?"null":typeof e,"")),r=null}return n=kt(d,s,n,c),n.elementType=e,n.type=r,n.lanes=f,n}function zi(e,n,s,r){return e=kt(7,e,r,n),e.lanes=s,e}function Hc(e,n,s){return e=kt(6,e,null,n),e.lanes=s,e}function fm(e){var n=kt(18,null,null,0);return n.stateNode=e,n}function Bc(e,n,s){return n=kt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var hm=new WeakMap;function Pt(e,n){if(typeof e=="object"&&e!==null){var s=hm.get(e);return s!==void 0?s:(n={value:e,source:n,stack:fd(n)},hm.set(e,n),n)}return{value:e,source:n,stack:fd(n)}}var Es=[],Ts=0,dr=null,Ma=0,Yt=[],Qt=0,Kn=null,un=1,fn="";function Sn(e,n){Es[Ts++]=Ma,Es[Ts++]=dr,dr=e,Ma=n}function dm(e,n,s){Yt[Qt++]=un,Yt[Qt++]=fn,Yt[Qt++]=Kn,Kn=e;var r=un;e=fn;var c=32-Mt(r)-1;r&=~(1<<c),s+=1;var f=32-Mt(n)+c;if(30<f){var d=c-c%5;f=(r&(1<<d)-1).toString(32),r>>=d,c-=d,un=1<<32-Mt(n)+c|s<<c|r,fn=f+e}else un=1<<f|s<<c|r,fn=e}function qc(e){e.return!==null&&(Sn(e,1),dm(e,1,0))}function Vc(e){for(;e===dr;)dr=Es[--Ts],Es[Ts]=null,Ma=Es[--Ts],Es[Ts]=null;for(;e===Kn;)Kn=Yt[--Qt],Yt[Qt]=null,fn=Yt[--Qt],Yt[Qt]=null,un=Yt[--Qt],Yt[Qt]=null}function mm(e,n){Yt[Qt++]=un,Yt[Qt++]=fn,Yt[Qt++]=Kn,un=n.id,fn=n.overflow,Kn=e}var rt=null,ze=null,de=!1,Xn=null,Ft=!1,Gc=Error(l(519));function Wn(e){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ia(Pt(n,e)),Gc}function pm(e){var n=e.stateNode,s=e.type,r=e.memoizedProps;switch(n[lt]=e,n[St]=r,s){case"dialog":re("cancel",n),re("close",n);break;case"iframe":case"object":case"embed":re("load",n);break;case"video":case"audio":for(s=0;s<tl.length;s++)re(tl[s],n);break;case"source":re("error",n);break;case"img":case"image":case"link":re("error",n),re("load",n);break;case"details":re("toggle",n);break;case"input":re("invalid",n),Nd(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":re("invalid",n);break;case"textarea":re("invalid",n),Od(n,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||r.suppressHydrationWarning===!0||Mg(n.textContent,s)?(r.popover!=null&&(re("beforetoggle",n),re("toggle",n)),r.onScroll!=null&&re("scroll",n),r.onScrollEnd!=null&&re("scrollend",n),r.onClick!=null&&(n.onclick=yn),n=!0):n=!1,n||Wn(e,!0)}function gm(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:Ft=!1;return;case 27:case 3:Ft=!0;return;default:rt=rt.return}}function Cs(e){if(e!==rt)return!1;if(!de)return gm(e),de=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||of(e.type,e.memoizedProps)),s=!s),s&&ze&&Wn(e),gm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));ze=qg(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));ze=qg(e)}else n===27?(n=ze,ui(e.type)?(e=df,df=null,ze=e):ze=n):ze=rt?Xt(e.stateNode.nextSibling):null;return!0}function ji(){ze=rt=null,de=!1}function Pc(){var e=Xn;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),Xn=null),e}function Ia(e){Xn===null?Xn=[e]:Xn.push(e)}var Yc=C(null),Hi=null,En=null;function Zn(e,n,s){q(Yc,n._currentValue),n._currentValue=s}function Tn(e){e._currentValue=Yc.current,k(Yc)}function Qc(e,n,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===s)break;e=e.return}}function Fc(e,n,s,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var d=c.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=c;for(var v=0;v<n.length;v++)if(_.context===n[v]){f.lanes|=s,_=f.alternate,_!==null&&(_.lanes|=s),Qc(f.return,s,e),r||(d=null);break e}f=_.next}}else if(c.tag===18){if(d=c.return,d===null)throw Error(l(341));d.lanes|=s,f=d.alternate,f!==null&&(f.lanes|=s),Qc(d,s,e),d=null}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===e){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}}function ws(e,n,s,r){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var d=c.alternate;if(d===null)throw Error(l(387));if(d=d.memoizedProps,d!==null){var _=c.type;It(c.pendingProps.value,d.value)||(e!==null?e.push(_):e=[_])}}else if(c===ve.current){if(d=c.alternate,d===null)throw Error(l(387));d.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ll):e=[ll])}c=c.return}e!==null&&Fc(n,e,s,r),n.flags|=262144}function mr(e){for(e=e.firstContext;e!==null;){if(!It(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bi(e){Hi=e,En=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return _m(Hi,e)}function pr(e,n){return Hi===null&&Bi(e),_m(e,n)}function _m(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},En===null){if(e===null)throw Error(l(308));En=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else En=En.next=n;return s}var Xb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},Wb=a.unstable_scheduleCallback,Zb=a.unstable_NormalPriority,Ke={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kc(){return{controller:new Xb,data:new Map,refCount:0}}function ka(e){e.refCount--,e.refCount===0&&Wb(Zb,function(){e.controller.abort()})}var La=null,Xc=0,xs=0,As=null;function Jb(e,n){if(La===null){var s=La=[];Xc=0,xs=Ju(),As={status:"pending",value:void 0,then:function(r){s.push(r)}}}return Xc++,n.then(ym,ym),n}function ym(){if(--Xc===0&&La!==null){As!==null&&(As.status="fulfilled");var e=La;La=null,xs=0,As=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function $b(e,n){var s=[],r={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(r.status="rejected",r.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),r}var vm=D.S;D.S=function(e,n){ng=Ot(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Jb(e,n),vm!==null&&vm(e,n)};var qi=C(null);function Wc(){var e=qi.current;return e!==null?e:ke.pooledCache}function gr(e,n){n===null?q(qi,qi.current):q(qi,n.pool)}function bm(){var e=Wc();return e===null?null:{parent:Ke._currentValue,pool:e}}var Ns=Error(l(460)),Zc=Error(l(474)),_r=Error(l(542)),yr={then:function(){}};function Sm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Em(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(yn,yn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cm(e),e;default:if(typeof n.status=="string")n.then(yn,yn);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=r}},function(r){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cm(e),e}throw Gi=n,Ns}}function Vi(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Gi=s,Ns):s}}var Gi=null;function Tm(){if(Gi===null)throw Error(l(459));var e=Gi;return Gi=null,e}function Cm(e){if(e===Ns||e===_r)throw Error(l(483))}var Rs=null,Ua=0;function vr(e){var n=Ua;return Ua+=1,Rs===null&&(Rs=[]),Em(Rs,e,n)}function za(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function br(e,n){throw n.$$typeof===E?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function wm(e){function n(w,T){if(e){var x=w.deletions;x===null?(w.deletions=[T],w.flags|=16):x.push(T)}}function s(w,T){if(!e)return null;for(;T!==null;)n(w,T),T=T.sibling;return null}function r(w){for(var T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function c(w,T){return w=bn(w,T),w.index=0,w.sibling=null,w}function f(w,T,x){return w.index=x,e?(x=w.alternate,x!==null?(x=x.index,x<T?(w.flags|=67108866,T):x):(w.flags|=67108866,T)):(w.flags|=1048576,T)}function d(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function _(w,T,x,M){return T===null||T.tag!==6?(T=Hc(x,w.mode,M),T.return=w,T):(T=c(T,x),T.return=w,T)}function v(w,T,x,M){var Y=x.type;return Y===z?O(w,T,x.props.children,M,x.key):T!==null&&(T.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===F&&Vi(Y)===T.type)?(T=c(T,x.props),za(T,x),T.return=w,T):(T=hr(x.type,x.key,x.props,null,w.mode,M),za(T,x),T.return=w,T)}function A(w,T,x,M){return T===null||T.tag!==4||T.stateNode.containerInfo!==x.containerInfo||T.stateNode.implementation!==x.implementation?(T=Bc(x,w.mode,M),T.return=w,T):(T=c(T,x.children||[]),T.return=w,T)}function O(w,T,x,M,Y){return T===null||T.tag!==7?(T=zi(x,w.mode,M,Y),T.return=w,T):(T=c(T,x),T.return=w,T)}function I(w,T,x){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Hc(""+T,w.mode,x),T.return=w,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case L:return x=hr(T.type,T.key,T.props,null,w.mode,x),za(x,T),x.return=w,x;case U:return T=Bc(T,w.mode,x),T.return=w,T;case F:return T=Vi(T),I(w,T,x)}if($t(T)||Je(T))return T=zi(T,w.mode,x,null),T.return=w,T;if(typeof T.then=="function")return I(w,vr(T),x);if(T.$$typeof===W)return I(w,pr(w,T),x);br(w,T)}return null}function N(w,T,x,M){var Y=T!==null?T.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return Y!==null?null:_(w,T,""+x,M);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case L:return x.key===Y?v(w,T,x,M):null;case U:return x.key===Y?A(w,T,x,M):null;case F:return x=Vi(x),N(w,T,x,M)}if($t(x)||Je(x))return Y!==null?null:O(w,T,x,M,null);if(typeof x.then=="function")return N(w,T,vr(x),M);if(x.$$typeof===W)return N(w,T,pr(w,x),M);br(w,x)}return null}function R(w,T,x,M,Y){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return w=w.get(x)||null,_(T,w,""+M,Y);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L:return w=w.get(M.key===null?x:M.key)||null,v(T,w,M,Y);case U:return w=w.get(M.key===null?x:M.key)||null,A(T,w,M,Y);case F:return M=Vi(M),R(w,T,x,M,Y)}if($t(M)||Je(M))return w=w.get(x)||null,O(T,w,M,Y,null);if(typeof M.then=="function")return R(w,T,x,vr(M),Y);if(M.$$typeof===W)return R(w,T,x,pr(T,M),Y);br(T,M)}return null}function V(w,T,x,M){for(var Y=null,me=null,P=T,ne=T=0,fe=null;P!==null&&ne<x.length;ne++){P.index>ne?(fe=P,P=null):fe=P.sibling;var pe=N(w,P,x[ne],M);if(pe===null){P===null&&(P=fe);break}e&&P&&pe.alternate===null&&n(w,P),T=f(pe,T,ne),me===null?Y=pe:me.sibling=pe,me=pe,P=fe}if(ne===x.length)return s(w,P),de&&Sn(w,ne),Y;if(P===null){for(;ne<x.length;ne++)P=I(w,x[ne],M),P!==null&&(T=f(P,T,ne),me===null?Y=P:me.sibling=P,me=P);return de&&Sn(w,ne),Y}for(P=r(P);ne<x.length;ne++)fe=R(P,w,ne,x[ne],M),fe!==null&&(e&&fe.alternate!==null&&P.delete(fe.key===null?ne:fe.key),T=f(fe,T,ne),me===null?Y=fe:me.sibling=fe,me=fe);return e&&P.forEach(function(pi){return n(w,pi)}),de&&Sn(w,ne),Y}function K(w,T,x,M){if(x==null)throw Error(l(151));for(var Y=null,me=null,P=T,ne=T=0,fe=null,pe=x.next();P!==null&&!pe.done;ne++,pe=x.next()){P.index>ne?(fe=P,P=null):fe=P.sibling;var pi=N(w,P,pe.value,M);if(pi===null){P===null&&(P=fe);break}e&&P&&pi.alternate===null&&n(w,P),T=f(pi,T,ne),me===null?Y=pi:me.sibling=pi,me=pi,P=fe}if(pe.done)return s(w,P),de&&Sn(w,ne),Y;if(P===null){for(;!pe.done;ne++,pe=x.next())pe=I(w,pe.value,M),pe!==null&&(T=f(pe,T,ne),me===null?Y=pe:me.sibling=pe,me=pe);return de&&Sn(w,ne),Y}for(P=r(P);!pe.done;ne++,pe=x.next())pe=R(P,w,ne,pe.value,M),pe!==null&&(e&&pe.alternate!==null&&P.delete(pe.key===null?ne:pe.key),T=f(pe,T,ne),me===null?Y=pe:me.sibling=pe,me=pe);return e&&P.forEach(function(uS){return n(w,uS)}),de&&Sn(w,ne),Y}function Ae(w,T,x,M){if(typeof x=="object"&&x!==null&&x.type===z&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case L:e:{for(var Y=x.key;T!==null;){if(T.key===Y){if(Y=x.type,Y===z){if(T.tag===7){s(w,T.sibling),M=c(T,x.props.children),M.return=w,w=M;break e}}else if(T.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===F&&Vi(Y)===T.type){s(w,T.sibling),M=c(T,x.props),za(M,x),M.return=w,w=M;break e}s(w,T);break}else n(w,T);T=T.sibling}x.type===z?(M=zi(x.props.children,w.mode,M,x.key),M.return=w,w=M):(M=hr(x.type,x.key,x.props,null,w.mode,M),za(M,x),M.return=w,w=M)}return d(w);case U:e:{for(Y=x.key;T!==null;){if(T.key===Y)if(T.tag===4&&T.stateNode.containerInfo===x.containerInfo&&T.stateNode.implementation===x.implementation){s(w,T.sibling),M=c(T,x.children||[]),M.return=w,w=M;break e}else{s(w,T);break}else n(w,T);T=T.sibling}M=Bc(x,w.mode,M),M.return=w,w=M}return d(w);case F:return x=Vi(x),Ae(w,T,x,M)}if($t(x))return V(w,T,x,M);if(Je(x)){if(Y=Je(x),typeof Y!="function")throw Error(l(150));return x=Y.call(x),K(w,T,x,M)}if(typeof x.then=="function")return Ae(w,T,vr(x),M);if(x.$$typeof===W)return Ae(w,T,pr(w,x),M);br(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,T!==null&&T.tag===6?(s(w,T.sibling),M=c(T,x),M.return=w,w=M):(s(w,T),M=Hc(x,w.mode,M),M.return=w,w=M),d(w)):s(w,T)}return function(w,T,x,M){try{Ua=0;var Y=Ae(w,T,x,M);return Rs=null,Y}catch(P){if(P===Ns||P===_r)throw P;var me=kt(29,P,null,w.mode);return me.lanes=M,me.return=w,me}finally{}}}var Pi=wm(!0),xm=wm(!1),Jn=!1;function Jc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $c(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $n(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ei(e,n,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ye&2)!==0){var c=r.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),r.pending=n,n=fr(e),cm(e,null,s),n}return ur(e,r,n,s),fr(e)}function ja(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,_d(e,s)}}function eu(e,n){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var d={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=d:f=f.next=d,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var tu=!1;function Ha(){if(tu){var e=As;if(e!==null)throw e}}function Ba(e,n,s,r){tu=!1;var c=e.updateQueue;Jn=!1;var f=c.firstBaseUpdate,d=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var v=_,A=v.next;v.next=null,d===null?f=A:d.next=A,d=v;var O=e.alternate;O!==null&&(O=O.updateQueue,_=O.lastBaseUpdate,_!==d&&(_===null?O.firstBaseUpdate=A:_.next=A,O.lastBaseUpdate=v))}if(f!==null){var I=c.baseState;d=0,O=A=v=null,_=f;do{var N=_.lane&-536870913,R=N!==_.lane;if(R?(ue&N)===N:(r&N)===N){N!==0&&N===xs&&(tu=!0),O!==null&&(O=O.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var V=e,K=_;N=n;var Ae=s;switch(K.tag){case 1:if(V=K.payload,typeof V=="function"){I=V.call(Ae,I,N);break e}I=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=K.payload,N=typeof V=="function"?V.call(Ae,I,N):V,N==null)break e;I=y({},I,N);break e;case 2:Jn=!0}}N=_.callback,N!==null&&(e.flags|=64,R&&(e.flags|=8192),R=c.callbacks,R===null?c.callbacks=[N]:R.push(N))}else R={lane:N,tag:_.tag,payload:_.payload,callback:_.callback,next:null},O===null?(A=O=R,v=I):O=O.next=R,d|=N;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;R=_,_=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);O===null&&(v=I),c.baseState=v,c.firstBaseUpdate=A,c.lastBaseUpdate=O,f===null&&(c.shared.lanes=0),ai|=d,e.lanes=d,e.memoizedState=I}}function Am(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function Nm(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Am(s[e],n)}var Os=C(null),Sr=C(0);function Rm(e,n){e=Mn,q(Sr,e),q(Os,n),Mn=e|n.baseLanes}function nu(){q(Sr,Mn),q(Os,Os.current)}function iu(){Mn=Sr.current,k(Os),k(Sr)}var Lt=C(null),Kt=null;function ti(e){var n=e.alternate;q(Qe,Qe.current&1),q(Lt,e),Kt===null&&(n===null||Os.current!==null||n.memoizedState!==null)&&(Kt=e)}function su(e){q(Qe,Qe.current),q(Lt,e),Kt===null&&(Kt=e)}function Om(e){e.tag===22?(q(Qe,Qe.current),q(Lt,e),Kt===null&&(Kt=e)):ni()}function ni(){q(Qe,Qe.current),q(Lt,Lt.current)}function Ut(e){k(Lt),Kt===e&&(Kt=null),k(Qe)}var Qe=C(0);function Er(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ff(s)||hf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Cn=0,te=null,we=null,Xe=null,Tr=!1,Ds=!1,Yi=!1,Cr=0,qa=0,Ms=null,e1=0;function qe(){throw Error(l(321))}function au(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!It(e[s],n[s]))return!1;return!0}function lu(e,n,s,r,c,f){return Cn=f,te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=e===null||e.memoizedState===null?dp:Su,Yi=!1,f=s(r,c),Yi=!1,Ds&&(f=Mm(n,s,r,c)),Dm(e),f}function Dm(e){D.H=Pa;var n=we!==null&&we.next!==null;if(Cn=0,Xe=we=te=null,Tr=!1,qa=0,Ms=null,n)throw Error(l(300));e===null||We||(e=e.dependencies,e!==null&&mr(e)&&(We=!0))}function Mm(e,n,s,r){te=e;var c=0;do{if(Ds&&(Ms=null),qa=0,Ds=!1,25<=c)throw Error(l(301));if(c+=1,Xe=we=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}D.H=mp,f=n(s,r)}while(Ds);return f}function t1(){var e=D.H,n=e.useState()[0];return n=typeof n.then=="function"?Va(n):n,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(te.flags|=1024),n}function ru(){var e=Cr!==0;return Cr=0,e}function ou(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function cu(e){if(Tr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Tr=!1}Cn=0,Xe=we=te=null,Ds=!1,qa=Cr=0,Ms=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?te.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Fe(){if(we===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var n=Xe===null?te.memoizedState:Xe.next;if(n!==null)Xe=n,we=e;else{if(e===null)throw te.alternate===null?Error(l(467)):Error(l(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Xe===null?te.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function wr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Va(e){var n=qa;return qa+=1,Ms===null&&(Ms=[]),e=Em(Ms,e,n),n=te,(Xe===null?n.memoizedState:Xe.next)===null&&(n=n.alternate,D.H=n===null||n.memoizedState===null?dp:Su),e}function xr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Va(e);if(e.$$typeof===W)return ot(e)}throw Error(l(438,String(e)))}function uu(e){var n=null,s=te.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var r=te.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=wr(),te.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),r=0;r<e;r++)s[r]=Be;return n.index++,s}function wn(e,n){return typeof n=="function"?n(e):n}function Ar(e){var n=Fe();return fu(n,we,e)}function fu(e,n,s){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=s;var c=e.baseQueue,f=r.pending;if(f!==null){if(c!==null){var d=c.next;c.next=f.next,f.next=d}n.baseQueue=c=f,r.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var _=d=null,v=null,A=n,O=!1;do{var I=A.lane&-536870913;if(I!==A.lane?(ue&I)===I:(Cn&I)===I){var N=A.revertLane;if(N===0)v!==null&&(v=v.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),I===xs&&(O=!0);else if((Cn&N)===N){A=A.next,N===xs&&(O=!0);continue}else I={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},v===null?(_=v=I,d=f):v=v.next=I,te.lanes|=N,ai|=N;I=A.action,Yi&&s(f,I),f=A.hasEagerState?A.eagerState:s(f,I)}else N={lane:I,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},v===null?(_=v=N,d=f):v=v.next=N,te.lanes|=I,ai|=I;A=A.next}while(A!==null&&A!==n);if(v===null?d=f:v.next=_,!It(f,e.memoizedState)&&(We=!0,O&&(s=As,s!==null)))throw s;e.memoizedState=f,e.baseState=d,e.baseQueue=v,r.lastRenderedState=f}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function hu(e){var n=Fe(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var r=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var d=c=c.next;do f=e(f,d.action),d=d.next;while(d!==c);It(f,n.memoizedState)||(We=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,r]}function Im(e,n,s){var r=te,c=Fe(),f=de;if(f){if(s===void 0)throw Error(l(407));s=s()}else s=n();var d=!It((we||c).memoizedState,s);if(d&&(c.memoizedState=s,We=!0),c=c.queue,pu(Um.bind(null,r,c,e),[e]),c.getSnapshot!==n||d||Xe!==null&&Xe.memoizedState.tag&1){if(r.flags|=2048,Is(9,{destroy:void 0},Lm.bind(null,r,c,s,n),null),ke===null)throw Error(l(349));f||(Cn&127)!==0||km(r,n,s)}return s}function km(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=te.updateQueue,n===null?(n=wr(),te.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Lm(e,n,s,r){n.value=s,n.getSnapshot=r,zm(n)&&jm(e)}function Um(e,n,s){return s(function(){zm(n)&&jm(e)})}function zm(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!It(e,s)}catch{return!0}}function jm(e){var n=Ui(e,2);n!==null&&At(n,e,2)}function du(e){var n=pt();if(typeof e=="function"){var s=e;if(e=s(),Yi){Yn(!0);try{s()}finally{Yn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:e},n}function Hm(e,n,s,r){return e.baseState=s,fu(e,we,typeof r=="function"?r:wn)}function n1(e,n,s,r,c){if(Or(e))throw Error(l(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){f.listeners.push(d)}};D.T!==null?s(!0):f.isTransition=!1,r(f),s=n.pending,s===null?(f.next=n.pending=f,Bm(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Bm(e,n){var s=n.action,r=n.payload,c=e.state;if(n.isTransition){var f=D.T,d={};D.T=d;try{var _=s(c,r),v=D.S;v!==null&&v(d,_),qm(e,n,_)}catch(A){mu(e,n,A)}finally{f!==null&&d.types!==null&&(f.types=d.types),D.T=f}}else try{f=s(c,r),qm(e,n,f)}catch(A){mu(e,n,A)}}function qm(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){Vm(e,n,r)},function(r){return mu(e,n,r)}):Vm(e,n,s)}function Vm(e,n,s){n.status="fulfilled",n.value=s,Gm(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Bm(e,s)))}function mu(e,n,s){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=s,Gm(n),n=n.next;while(n!==r)}e.action=null}function Gm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Pm(e,n){return n}function Ym(e,n){if(de){var s=ke.formState;if(s!==null){e:{var r=te;if(de){if(ze){t:{for(var c=ze,f=Ft;c.nodeType!==8;){if(!f){c=null;break t}if(c=Xt(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ze=Xt(c.nextSibling),r=c.data==="F!";break e}}Wn(r)}r=!1}r&&(n=s[0])}}return s=pt(),s.memoizedState=s.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:n},s.queue=r,s=up.bind(null,te,r),r.dispatch=s,r=du(!1),f=bu.bind(null,te,!1,r.queue),r=pt(),c={state:n,dispatch:null,action:e,pending:null},r.queue=c,s=n1.bind(null,te,c,f,s),c.dispatch=s,r.memoizedState=e,[n,s,!1]}function Qm(e){var n=Fe();return Fm(n,we,e)}function Fm(e,n,s){if(n=fu(e,n,Pm)[0],e=Ar(wn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=Va(n)}catch(d){throw d===Ns?_r:d}else r=n;n=Fe();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(te.flags|=2048,Is(9,{destroy:void 0},i1.bind(null,c,s),null)),[r,f,e]}function i1(e,n){e.action=n}function Km(e){var n=Fe(),s=we;if(s!==null)return Fm(n,s,e);Fe(),n=n.memoizedState,s=Fe();var r=s.queue.dispatch;return s.memoizedState=e,[n,r,!1]}function Is(e,n,s,r){return e={tag:e,create:s,deps:r,inst:n,next:null},n=te.updateQueue,n===null&&(n=wr(),te.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,n.lastEffect=e),e}function Xm(){return Fe().memoizedState}function Nr(e,n,s,r){var c=pt();te.flags|=e,c.memoizedState=Is(1|n,{destroy:void 0},s,r===void 0?null:r)}function Rr(e,n,s,r){var c=Fe();r=r===void 0?null:r;var f=c.memoizedState.inst;we!==null&&r!==null&&au(r,we.memoizedState.deps)?c.memoizedState=Is(n,f,s,r):(te.flags|=e,c.memoizedState=Is(1|n,f,s,r))}function Wm(e,n){Nr(8390656,8,e,n)}function pu(e,n){Rr(2048,8,e,n)}function s1(e){te.flags|=4;var n=te.updateQueue;if(n===null)n=wr(),te.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Zm(e){var n=Fe().memoizedState;return s1({ref:n,nextImpl:e}),function(){if((ye&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function Jm(e,n){return Rr(4,2,e,n)}function $m(e,n){return Rr(4,4,e,n)}function ep(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function tp(e,n,s){s=s!=null?s.concat([e]):null,Rr(4,4,ep.bind(null,n,e),s)}function gu(){}function np(e,n){var s=Fe();n=n===void 0?null:n;var r=s.memoizedState;return n!==null&&au(n,r[1])?r[0]:(s.memoizedState=[e,n],e)}function ip(e,n){var s=Fe();n=n===void 0?null:n;var r=s.memoizedState;if(n!==null&&au(n,r[1]))return r[0];if(r=e(),Yi){Yn(!0);try{e()}finally{Yn(!1)}}return s.memoizedState=[r,n],r}function _u(e,n,s){return s===void 0||(Cn&1073741824)!==0&&(ue&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=sg(),te.lanes|=e,ai|=e,s)}function sp(e,n,s,r){return It(s,n)?s:Os.current!==null?(e=_u(e,s,r),It(e,n)||(We=!0),e):(Cn&42)===0||(Cn&1073741824)!==0&&(ue&261930)===0?(We=!0,e.memoizedState=s):(e=sg(),te.lanes|=e,ai|=e,n)}function ap(e,n,s,r,c){var f=B.p;B.p=f!==0&&8>f?f:8;var d=D.T,_={};D.T=_,bu(e,!1,n,s);try{var v=c(),A=D.S;if(A!==null&&A(_,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var O=$b(v,r);Ga(e,n,O,Ht(e))}else Ga(e,n,r,Ht(e))}catch(I){Ga(e,n,{then:function(){},status:"rejected",reason:I},Ht())}finally{B.p=f,d!==null&&_.types!==null&&(d.types=_.types),D.T=d}}function a1(){}function yu(e,n,s,r){if(e.tag!==5)throw Error(l(476));var c=lp(e).queue;ap(e,c,n,Z,s===null?a1:function(){return rp(e),s(r)})}function lp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:Z},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function rp(e){var n=lp(e);n.next===null&&(n=e.alternate.memoizedState),Ga(e,n.next.queue,{},Ht())}function vu(){return ot(ll)}function op(){return Fe().memoizedState}function cp(){return Fe().memoizedState}function l1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Ht();e=$n(s);var r=ei(n,e,s);r!==null&&(At(r,n,s),ja(r,n,s)),n={cache:Kc()},e.payload=n;return}n=n.return}}function r1(e,n,s){var r=Ht();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Or(e)?fp(n,s):(s=zc(e,n,s,r),s!==null&&(At(s,e,r),hp(s,n,r)))}function up(e,n,s){var r=Ht();Ga(e,n,s,r)}function Ga(e,n,s,r){var c={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Or(e))fp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var d=n.lastRenderedState,_=f(d,s);if(c.hasEagerState=!0,c.eagerState=_,It(_,d))return ur(e,n,c,0),ke===null&&cr(),!1}catch{}finally{}if(s=zc(e,n,c,r),s!==null)return At(s,e,r),hp(s,n,r),!0}return!1}function bu(e,n,s,r){if(r={lane:2,revertLane:Ju(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Or(e)){if(n)throw Error(l(479))}else n=zc(e,s,r,2),n!==null&&At(n,e,2)}function Or(e){var n=e.alternate;return e===te||n!==null&&n===te}function fp(e,n){Ds=Tr=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function hp(e,n,s){if((s&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,_d(e,s)}}var Pa={readContext:ot,use:xr,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};Pa.useEffectEvent=qe;var dp={readContext:ot,use:xr,useCallback:function(e,n){return pt().memoizedState=[e,n===void 0?null:n],e},useContext:ot,useEffect:Wm,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Nr(4194308,4,ep.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Nr(4194308,4,e,n)},useInsertionEffect:function(e,n){Nr(4,2,e,n)},useMemo:function(e,n){var s=pt();n=n===void 0?null:n;var r=e();if(Yi){Yn(!0);try{e()}finally{Yn(!1)}}return s.memoizedState=[r,n],r},useReducer:function(e,n,s){var r=pt();if(s!==void 0){var c=s(n);if(Yi){Yn(!0);try{s(n)}finally{Yn(!1)}}}else c=n;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=r1.bind(null,te,e),[r.memoizedState,e]},useRef:function(e){var n=pt();return e={current:e},n.memoizedState=e},useState:function(e){e=du(e);var n=e.queue,s=up.bind(null,te,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:gu,useDeferredValue:function(e,n){var s=pt();return _u(s,e,n)},useTransition:function(){var e=du(!1);return e=ap.bind(null,te,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var r=te,c=pt();if(de){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),ke===null)throw Error(l(349));(ue&127)!==0||km(r,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Wm(Um.bind(null,r,f,e),[e]),r.flags|=2048,Is(9,{destroy:void 0},Lm.bind(null,r,f,s,n),null),s},useId:function(){var e=pt(),n=ke.identifierPrefix;if(de){var s=fn,r=un;s=(r&~(1<<32-Mt(r)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Cr++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=e1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:vu,useFormState:Ym,useActionState:Ym,useOptimistic:function(e){var n=pt();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=bu.bind(null,te,!0,s),s.dispatch=n,[e,n]},useMemoCache:uu,useCacheRefresh:function(){return pt().memoizedState=l1.bind(null,te)},useEffectEvent:function(e){var n=pt(),s={impl:e};return n.memoizedState=s,function(){if((ye&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},Su={readContext:ot,use:xr,useCallback:np,useContext:ot,useEffect:pu,useImperativeHandle:tp,useInsertionEffect:Jm,useLayoutEffect:$m,useMemo:ip,useReducer:Ar,useRef:Xm,useState:function(){return Ar(wn)},useDebugValue:gu,useDeferredValue:function(e,n){var s=Fe();return sp(s,we.memoizedState,e,n)},useTransition:function(){var e=Ar(wn)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:Va(e),n]},useSyncExternalStore:Im,useId:op,useHostTransitionStatus:vu,useFormState:Qm,useActionState:Qm,useOptimistic:function(e,n){var s=Fe();return Hm(s,we,e,n)},useMemoCache:uu,useCacheRefresh:cp};Su.useEffectEvent=Zm;var mp={readContext:ot,use:xr,useCallback:np,useContext:ot,useEffect:pu,useImperativeHandle:tp,useInsertionEffect:Jm,useLayoutEffect:$m,useMemo:ip,useReducer:hu,useRef:Xm,useState:function(){return hu(wn)},useDebugValue:gu,useDeferredValue:function(e,n){var s=Fe();return we===null?_u(s,e,n):sp(s,we.memoizedState,e,n)},useTransition:function(){var e=hu(wn)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:Va(e),n]},useSyncExternalStore:Im,useId:op,useHostTransitionStatus:vu,useFormState:Km,useActionState:Km,useOptimistic:function(e,n){var s=Fe();return we!==null?Hm(s,we,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:uu,useCacheRefresh:cp};mp.useEffectEvent=Zm;function Eu(e,n,s,r){n=e.memoizedState,s=s(r,n),s=s==null?n:y({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Tu={enqueueSetState:function(e,n,s){e=e._reactInternals;var r=Ht(),c=$n(r);c.payload=n,s!=null&&(c.callback=s),n=ei(e,c,r),n!==null&&(At(n,e,r),ja(n,e,r))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var r=Ht(),c=$n(r);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=ei(e,c,r),n!==null&&(At(n,e,r),ja(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Ht(),r=$n(s);r.tag=2,n!=null&&(r.callback=n),n=ei(e,r,s),n!==null&&(At(n,e,s),ja(n,e,s))}};function pp(e,n,s,r,c,f,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,d):n.prototype&&n.prototype.isPureReactComponent?!Oa(s,r)||!Oa(c,f):!0}function gp(e,n,s,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==e&&Tu.enqueueReplaceState(n,n.state,null)}function Qi(e,n){var s=n;if("ref"in n){s={};for(var r in n)r!=="ref"&&(s[r]=n[r])}if(e=e.defaultProps){s===n&&(s=y({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function _p(e){or(e)}function yp(e){console.error(e)}function vp(e){or(e)}function Dr(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function bp(e,n,s){try{var r=e.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Cu(e,n,s){return s=$n(s),s.tag=3,s.payload={element:null},s.callback=function(){Dr(e,n)},s}function Sp(e){return e=$n(e),e.tag=3,e}function Ep(e,n,s,r){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;e.payload=function(){return c(f)},e.callback=function(){bp(n,s,r)}}var d=s.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){bp(n,s,r),typeof c!="function"&&(li===null?li=new Set([this]):li.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function o1(e,n,s,r,c){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=s.alternate,n!==null&&ws(n,s,c,!0),s=Lt.current,s!==null){switch(s.tag){case 31:case 13:return Kt===null?Gr():s.alternate===null&&Ve===0&&(Ve=3),s.flags&=-257,s.flags|=65536,s.lanes=c,r===yr?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([r]):n.add(r),Xu(e,r,c)),!1;case 22:return s.flags|=65536,r===yr?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([r]):s.add(r)),Xu(e,r,c)),!1}throw Error(l(435,s.tag))}return Xu(e,r,c),Gr(),!1}if(de)return n=Lt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,r!==Gc&&(e=Error(l(422),{cause:r}),Ia(Pt(e,s)))):(r!==Gc&&(n=Error(l(423),{cause:r}),Ia(Pt(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=Pt(r,s),c=Cu(e.stateNode,r,c),eu(e,c),Ve!==4&&(Ve=2)),!1;var f=Error(l(520),{cause:r});if(f=Pt(f,s),Ja===null?Ja=[f]:Ja.push(f),Ve!==4&&(Ve=2),n===null)return!0;r=Pt(r,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=Cu(s.stateNode,r,e),eu(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(li===null||!li.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Sp(c),Ep(c,e,s,r),eu(s,c),!1}s=s.return}while(s!==null);return!1}var wu=Error(l(461)),We=!1;function ct(e,n,s,r){n.child=e===null?xm(n,null,s,r):Pi(n,e.child,s,r)}function Tp(e,n,s,r,c){s=s.render;var f=n.ref;if("ref"in r){var d={};for(var _ in r)_!=="ref"&&(d[_]=r[_])}else d=r;return Bi(n),r=lu(e,n,s,d,f,c),_=ru(),e!==null&&!We?(ou(e,n,c),xn(e,n,c)):(de&&_&&qc(n),n.flags|=1,ct(e,n,r,c),n.child)}function Cp(e,n,s,r,c){if(e===null){var f=s.type;return typeof f=="function"&&!jc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,wp(e,n,f,r,c)):(e=hr(s.type,null,r,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Iu(e,c)){var d=f.memoizedProps;if(s=s.compare,s=s!==null?s:Oa,s(d,r)&&e.ref===n.ref)return xn(e,n,c)}return n.flags|=1,e=bn(f,r),e.ref=n.ref,e.return=n,n.child=e}function wp(e,n,s,r,c){if(e!==null){var f=e.memoizedProps;if(Oa(f,r)&&e.ref===n.ref)if(We=!1,n.pendingProps=r=f,Iu(e,c))(e.flags&131072)!==0&&(We=!0);else return n.lanes=e.lanes,xn(e,n,c)}return xu(e,n,s,r,c)}function xp(e,n,s,r){var c=r.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(r=n.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~f}else r=0,n.child=null;return Ap(e,n,f,s,r)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&gr(n,f!==null?f.cachePool:null),f!==null?Rm(n,f):nu(),Om(n);else return r=n.lanes=536870912,Ap(e,n,f!==null?f.baseLanes|s:s,s,r)}else f!==null?(gr(n,f.cachePool),Rm(n,f),ni(),n.memoizedState=null):(e!==null&&gr(n,null),nu(),ni());return ct(e,n,c,s),n.child}function Ya(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ap(e,n,s,r,c){var f=Wc();return f=f===null?null:{parent:Ke._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&gr(n,null),nu(),Om(n),e!==null&&ws(e,n,r,!0),n.childLanes=c,null}function Mr(e,n){return n=kr({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Np(e,n,s){return Pi(n,e.child,null,s),e=Mr(n,n.pendingProps),e.flags|=2,Ut(n),n.memoizedState=null,e}function c1(e,n,s){var r=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(de){if(r.mode==="hidden")return e=Mr(n,r),n.lanes=536870912,Ya(null,e);if(su(n),(e=ze)?(e=Bg(e,Ft),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Kn!==null?{id:un,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},s=fm(e),s.return=n,n.child=s,rt=n,ze=null)):e=null,e===null)throw Wn(n);return n.lanes=536870912,null}return Mr(n,r)}var f=e.memoizedState;if(f!==null){var d=f.dehydrated;if(su(n),c)if(n.flags&256)n.flags&=-257,n=Np(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(l(558));else if(We||ws(e,n,s,!1),c=(s&e.childLanes)!==0,We||c){if(r=ke,r!==null&&(d=yd(r,s),d!==0&&d!==f.retryLane))throw f.retryLane=d,Ui(e,d),At(r,e,d),wu;Gr(),n=Np(e,n,s)}else e=f.treeContext,ze=Xt(d.nextSibling),rt=n,de=!0,Xn=null,Ft=!1,e!==null&&mm(n,e),n=Mr(n,r),n.flags|=4096;return n}return e=bn(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ir(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function xu(e,n,s,r,c){return Bi(n),s=lu(e,n,s,r,void 0,c),r=ru(),e!==null&&!We?(ou(e,n,c),xn(e,n,c)):(de&&r&&qc(n),n.flags|=1,ct(e,n,s,c),n.child)}function Rp(e,n,s,r,c,f){return Bi(n),n.updateQueue=null,s=Mm(n,r,s,c),Dm(e),r=ru(),e!==null&&!We?(ou(e,n,f),xn(e,n,f)):(de&&r&&qc(n),n.flags|=1,ct(e,n,s,f),n.child)}function Op(e,n,s,r,c){if(Bi(n),n.stateNode===null){var f=Ss,d=s.contextType;typeof d=="object"&&d!==null&&(f=ot(d)),f=new s(r,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Tu,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=r,f.state=n.memoizedState,f.refs={},Jc(n),d=s.contextType,f.context=typeof d=="object"&&d!==null?ot(d):Ss,f.state=n.memoizedState,d=s.getDerivedStateFromProps,typeof d=="function"&&(Eu(n,s,d,r),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(d=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),d!==f.state&&Tu.enqueueReplaceState(f,f.state,null),Ba(n,r,f,c),Ha(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){f=n.stateNode;var _=n.memoizedProps,v=Qi(s,_);f.props=v;var A=f.context,O=s.contextType;d=Ss,typeof O=="object"&&O!==null&&(d=ot(O));var I=s.getDerivedStateFromProps;O=typeof I=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,O||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||A!==d)&&gp(n,f,r,d),Jn=!1;var N=n.memoizedState;f.state=N,Ba(n,r,f,c),Ha(),A=n.memoizedState,_||N!==A||Jn?(typeof I=="function"&&(Eu(n,s,I,r),A=n.memoizedState),(v=Jn||pp(n,s,v,r,N,A,d))?(O||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=A),f.props=r,f.state=A,f.context=d,r=v):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{f=n.stateNode,$c(e,n),d=n.memoizedProps,O=Qi(s,d),f.props=O,I=n.pendingProps,N=f.context,A=s.contextType,v=Ss,typeof A=="object"&&A!==null&&(v=ot(A)),_=s.getDerivedStateFromProps,(A=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(d!==I||N!==v)&&gp(n,f,r,v),Jn=!1,N=n.memoizedState,f.state=N,Ba(n,r,f,c),Ha();var R=n.memoizedState;d!==I||N!==R||Jn||e!==null&&e.dependencies!==null&&mr(e.dependencies)?(typeof _=="function"&&(Eu(n,s,_,r),R=n.memoizedState),(O=Jn||pp(n,s,O,r,N,R,v)||e!==null&&e.dependencies!==null&&mr(e.dependencies))?(A||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,R,v),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,R,v)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=R),f.props=r,f.state=R,f.context=v,r=O):(typeof f.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),r=!1)}return f=r,Ir(e,n),r=(n.flags&128)!==0,f||r?(f=n.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&r?(n.child=Pi(n,e.child,null,c),n.child=Pi(n,null,s,c)):ct(e,n,s,c),n.memoizedState=f.state,e=n.child):e=xn(e,n,c),e}function Dp(e,n,s,r){return ji(),n.flags|=256,ct(e,n,s,r),n.child}var Au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nu(e){return{baseLanes:e,cachePool:bm()}}function Ru(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=jt),e}function Mp(e,n,s){var r=n.pendingProps,c=!1,f=(n.flags&128)!==0,d;if((d=f)||(d=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),d&&(c=!0,n.flags&=-129),d=(n.flags&32)!==0,n.flags&=-33,e===null){if(de){if(c?ti(n):ni(),(e=ze)?(e=Bg(e,Ft),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Kn!==null?{id:un,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},s=fm(e),s.return=n,n.child=s,rt=n,ze=null)):e=null,e===null)throw Wn(n);return hf(e)?n.lanes=32:n.lanes=536870912,null}var _=r.children;return r=r.fallback,c?(ni(),c=n.mode,_=kr({mode:"hidden",children:_},c),r=zi(r,c,s,null),_.return=n,r.return=n,_.sibling=r,n.child=_,r=n.child,r.memoizedState=Nu(s),r.childLanes=Ru(e,d,s),n.memoizedState=Au,Ya(null,r)):(ti(n),Ou(n,_))}var v=e.memoizedState;if(v!==null&&(_=v.dehydrated,_!==null)){if(f)n.flags&256?(ti(n),n.flags&=-257,n=Du(e,n,s)):n.memoizedState!==null?(ni(),n.child=e.child,n.flags|=128,n=null):(ni(),_=r.fallback,c=n.mode,r=kr({mode:"visible",children:r.children},c),_=zi(_,c,s,null),_.flags|=2,r.return=n,_.return=n,r.sibling=_,n.child=r,Pi(n,e.child,null,s),r=n.child,r.memoizedState=Nu(s),r.childLanes=Ru(e,d,s),n.memoizedState=Au,n=Ya(null,r));else if(ti(n),hf(_)){if(d=_.nextSibling&&_.nextSibling.dataset,d)var A=d.dgst;d=A,r=Error(l(419)),r.stack="",r.digest=d,Ia({value:r,source:null,stack:null}),n=Du(e,n,s)}else if(We||ws(e,n,s,!1),d=(s&e.childLanes)!==0,We||d){if(d=ke,d!==null&&(r=yd(d,s),r!==0&&r!==v.retryLane))throw v.retryLane=r,Ui(e,r),At(d,e,r),wu;ff(_)||Gr(),n=Du(e,n,s)}else ff(_)?(n.flags|=192,n.child=e.child,n=null):(e=v.treeContext,ze=Xt(_.nextSibling),rt=n,de=!0,Xn=null,Ft=!1,e!==null&&mm(n,e),n=Ou(n,r.children),n.flags|=4096);return n}return c?(ni(),_=r.fallback,c=n.mode,v=e.child,A=v.sibling,r=bn(v,{mode:"hidden",children:r.children}),r.subtreeFlags=v.subtreeFlags&65011712,A!==null?_=bn(A,_):(_=zi(_,c,s,null),_.flags|=2),_.return=n,r.return=n,r.sibling=_,n.child=r,Ya(null,r),r=n.child,_=e.child.memoizedState,_===null?_=Nu(s):(c=_.cachePool,c!==null?(v=Ke._currentValue,c=c.parent!==v?{parent:v,pool:v}:c):c=bm(),_={baseLanes:_.baseLanes|s,cachePool:c}),r.memoizedState=_,r.childLanes=Ru(e,d,s),n.memoizedState=Au,Ya(e.child,r)):(ti(n),s=e.child,e=s.sibling,s=bn(s,{mode:"visible",children:r.children}),s.return=n,s.sibling=null,e!==null&&(d=n.deletions,d===null?(n.deletions=[e],n.flags|=16):d.push(e)),n.child=s,n.memoizedState=null,s)}function Ou(e,n){return n=kr({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function kr(e,n){return e=kt(22,e,null,n),e.lanes=0,e}function Du(e,n,s){return Pi(n,e.child,null,s),e=Ou(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ip(e,n,s){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),Qc(e.return,n,s)}function Mu(e,n,s,r,c,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:c,treeForkCount:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=s,d.tailMode=c,d.treeForkCount=f)}function kp(e,n,s){var r=n.pendingProps,c=r.revealOrder,f=r.tail;r=r.children;var d=Qe.current,_=(d&2)!==0;if(_?(d=d&1|2,n.flags|=128):d&=1,q(Qe,d),ct(e,n,r,s),r=de?Ma:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ip(e,s,n);else if(e.tag===19)Ip(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Er(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Mu(n,!1,c,s,f,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Er(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Mu(n,!0,s,null,f,r);break;case"together":Mu(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function xn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ai|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ws(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,s=bn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=bn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Iu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&mr(e)))}function u1(e,n,s){switch(n.tag){case 3:mt(n,n.stateNode.containerInfo),Zn(n,Ke,e.memoizedState.cache),ji();break;case 27:case 5:_a(n);break;case 4:mt(n,n.stateNode.containerInfo);break;case 10:Zn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,su(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(ti(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Mp(e,n,s):(ti(n),e=xn(e,n,s),e!==null?e.sibling:null);ti(n);break;case 19:var c=(e.flags&128)!==0;if(r=(s&n.childLanes)!==0,r||(ws(e,n,s,!1),r=(s&n.childLanes)!==0),c){if(r)return kp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),q(Qe,Qe.current),r)break;return null;case 22:return n.lanes=0,xp(e,n,s,n.pendingProps);case 24:Zn(n,Ke,e.memoizedState.cache)}return xn(e,n,s)}function Lp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)We=!0;else{if(!Iu(e,s)&&(n.flags&128)===0)return We=!1,u1(e,n,s);We=(e.flags&131072)!==0}else We=!1,de&&(n.flags&1048576)!==0&&dm(n,Ma,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=Vi(n.elementType),n.type=e,typeof e=="function")jc(e)?(r=Qi(e,r),n.tag=1,n=Op(null,n,e,r,s)):(n.tag=0,n=xu(null,n,e,r,s));else{if(e!=null){var c=e.$$typeof;if(c===_e){n.tag=11,n=Tp(null,n,e,r,s);break e}else if(c===H){n.tag=14,n=Cp(null,n,e,r,s);break e}}throw n=Rt(e)||e,Error(l(306,n,""))}}return n;case 0:return xu(e,n,n.type,n.pendingProps,s);case 1:return r=n.type,c=Qi(r,n.pendingProps),Op(e,n,r,c,s);case 3:e:{if(mt(n,n.stateNode.containerInfo),e===null)throw Error(l(387));r=n.pendingProps;var f=n.memoizedState;c=f.element,$c(e,n),Ba(n,r,null,s);var d=n.memoizedState;if(r=d.cache,Zn(n,Ke,r),r!==f.cache&&Fc(n,[Ke],s,!0),Ha(),r=d.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:d.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Dp(e,n,r,s);break e}else if(r!==c){c=Pt(Error(l(424)),n),Ia(c),n=Dp(e,n,r,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ze=Xt(e.firstChild),rt=n,de=!0,Xn=null,Ft=!0,s=xm(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ji(),r===c){n=xn(e,n,s);break e}ct(e,n,r,s)}n=n.child}return n;case 26:return Ir(e,n),e===null?(s=Qg(n.type,null,n.pendingProps,null))?n.memoizedState=s:de||(s=n.type,e=n.pendingProps,r=Wr(ae.current).createElement(s),r[lt]=n,r[St]=e,ut(r,s,e),nt(r),n.stateNode=r):n.memoizedState=Qg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return _a(n),e===null&&de&&(r=n.stateNode=Gg(n.type,n.pendingProps,ae.current),rt=n,Ft=!0,c=ze,ui(n.type)?(df=c,ze=Xt(r.firstChild)):ze=c),ct(e,n,n.pendingProps.children,s),Ir(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&de&&((c=r=ze)&&(r=B1(r,n.type,n.pendingProps,Ft),r!==null?(n.stateNode=r,rt=n,ze=Xt(r.firstChild),Ft=!1,c=!0):c=!1),c||Wn(n)),_a(n),c=n.type,f=n.pendingProps,d=e!==null?e.memoizedProps:null,r=f.children,of(c,f)?r=null:d!==null&&of(c,d)&&(n.flags|=32),n.memoizedState!==null&&(c=lu(e,n,t1,null,null,s),ll._currentValue=c),Ir(e,n),ct(e,n,r,s),n.child;case 6:return e===null&&de&&((e=s=ze)&&(s=q1(s,n.pendingProps,Ft),s!==null?(n.stateNode=s,rt=n,ze=null,e=!0):e=!1),e||Wn(n)),null;case 13:return Mp(e,n,s);case 4:return mt(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=Pi(n,null,r,s):ct(e,n,r,s),n.child;case 11:return Tp(e,n,n.type,n.pendingProps,s);case 7:return ct(e,n,n.pendingProps,s),n.child;case 8:return ct(e,n,n.pendingProps.children,s),n.child;case 12:return ct(e,n,n.pendingProps.children,s),n.child;case 10:return r=n.pendingProps,Zn(n,n.type,r.value),ct(e,n,r.children,s),n.child;case 9:return c=n.type._context,r=n.pendingProps.children,Bi(n),c=ot(c),r=r(c),n.flags|=1,ct(e,n,r,s),n.child;case 14:return Cp(e,n,n.type,n.pendingProps,s);case 15:return wp(e,n,n.type,n.pendingProps,s);case 19:return kp(e,n,s);case 31:return c1(e,n,s);case 22:return xp(e,n,s,n.pendingProps);case 24:return Bi(n),r=ot(Ke),e===null?(c=Wc(),c===null&&(c=ke,f=Kc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:r,cache:c},Jc(n),Zn(n,Ke,c)):((e.lanes&s)!==0&&($c(e,n),Ba(n,null,null,s),Ha()),c=e.memoizedState,f=n.memoizedState,c.parent!==r?(c={parent:r,cache:r},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Zn(n,Ke,r)):(r=f.cache,Zn(n,Ke,r),r!==c.cache&&Fc(n,[Ke],s,!0))),ct(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function An(e){e.flags|=4}function ku(e,n,s,r,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(og())e.flags|=8192;else throw Gi=yr,Zc}else e.flags&=-16777217}function Up(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Zg(n))if(og())e.flags|=8192;else throw Gi=yr,Zc}function Lr(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?pd():536870912,e.lanes|=n,zs|=n)}function Qa(e,n){if(!de)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function je(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=s,n}function f1(e,n,s){var r=n.pendingProps;switch(Vc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(n),null;case 1:return je(n),null;case 3:return s=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Tn(Ke),Ye(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Cs(n)?An(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Pc())),je(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(An(n),f!==null?(je(n),Up(n,f)):(je(n),ku(n,c,null,r,s))):f?f!==e.memoizedState?(An(n),je(n),Up(n,f)):(je(n),n.flags&=-16777217):(e=e.memoizedProps,e!==r&&An(n),je(n),ku(n,c,e,r,s)),null;case 27:if(Ql(n),s=ae.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&An(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return je(n),null}e=G.current,Cs(n)?pm(n):(e=Gg(c,r,s),n.stateNode=e,An(n))}return je(n),null;case 5:if(Ql(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&An(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return je(n),null}if(f=G.current,Cs(n))pm(n);else{var d=Wr(ae.current);switch(f){case 1:f=d.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=d.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=d.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=d.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=d.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?d.createElement("select",{is:r.is}):d.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?d.createElement(c,{is:r.is}):d.createElement(c)}}f[lt]=n,f[St]=r;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)f.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=f;e:switch(ut(f,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&An(n)}}return je(n),ku(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&An(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(l(166));if(e=ae.current,Cs(n)){if(e=n.stateNode,s=n.memoizedProps,r=null,c=rt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[lt]=n,e=!!(e.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||Mg(e.nodeValue,s)),e||Wn(n,!0)}else e=Wr(e).createTextNode(r),e[lt]=n,n.stateNode=e}return je(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(r=Cs(n),s!==null){if(e===null){if(!r)throw Error(l(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[lt]=n}else ji(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;je(n),e=!1}else s=Pc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Ut(n),n):(Ut(n),null);if((n.flags&128)!==0)throw Error(l(558))}return je(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Cs(n),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[lt]=n}else ji(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;je(n),c=!1}else c=Pc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ut(n),n):(Ut(n),null)}return Ut(n),(n.flags&128)!==0?(n.lanes=s,n):(s=r!==null,e=e!==null&&e.memoizedState!==null,s&&(r=n.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==c&&(r.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Lr(n,n.updateQueue),je(n),null);case 4:return Ye(),e===null&&nf(n.stateNode.containerInfo),je(n),null;case 10:return Tn(n.type),je(n),null;case 19:if(k(Qe),r=n.memoizedState,r===null)return je(n),null;if(c=(n.flags&128)!==0,f=r.rendering,f===null)if(c)Qa(r,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Er(e),f!==null){for(n.flags|=128,Qa(r,!1),e=f.updateQueue,n.updateQueue=e,Lr(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)um(s,e),s=s.sibling;return q(Qe,Qe.current&1|2),de&&Sn(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&Ot()>Br&&(n.flags|=128,c=!0,Qa(r,!1),n.lanes=4194304)}else{if(!c)if(e=Er(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Lr(n,e),Qa(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!de)return je(n),null}else 2*Ot()-r.renderingStartTime>Br&&s!==536870912&&(n.flags|=128,c=!0,Qa(r,!1),n.lanes=4194304);r.isBackwards?(f.sibling=n.child,n.child=f):(e=r.last,e!==null?e.sibling=f:n.child=f,r.last=f)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ot(),e.sibling=null,s=Qe.current,q(Qe,c?s&1|2:s&1),de&&Sn(n,r.treeForkCount),e):(je(n),null);case 22:case 23:return Ut(n),iu(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(s&536870912)!==0&&(n.flags&128)===0&&(je(n),n.subtreeFlags&6&&(n.flags|=8192)):je(n),s=n.updateQueue,s!==null&&Lr(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048),e!==null&&k(qi),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Tn(Ke),je(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function h1(e,n){switch(Vc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Tn(Ke),Ye(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ql(n),null;case 31:if(n.memoizedState!==null){if(Ut(n),n.alternate===null)throw Error(l(340));ji()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ut(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));ji()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return k(Qe),null;case 4:return Ye(),null;case 10:return Tn(n.type),null;case 22:case 23:return Ut(n),iu(),e!==null&&k(qi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Tn(Ke),null;case 25:return null;default:return null}}function zp(e,n){switch(Vc(n),n.tag){case 3:Tn(Ke),Ye();break;case 26:case 27:case 5:Ql(n);break;case 4:Ye();break;case 31:n.memoizedState!==null&&Ut(n);break;case 13:Ut(n);break;case 19:k(Qe);break;case 10:Tn(n.type);break;case 22:case 23:Ut(n),iu(),e!==null&&k(qi);break;case 24:Tn(Ke)}}function Fa(e,n){try{var s=n.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var c=r.next;s=c;do{if((s.tag&e)===e){r=void 0;var f=s.create,d=s.inst;r=f(),d.destroy=r}s=s.next}while(s!==c)}}catch(_){Ee(n,n.return,_)}}function ii(e,n,s){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&e)===e){var d=r.inst,_=d.destroy;if(_!==void 0){d.destroy=void 0,c=n;var v=s,A=_;try{A()}catch(O){Ee(c,v,O)}}}r=r.next}while(r!==f)}}catch(O){Ee(n,n.return,O)}}function jp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Nm(n,s)}catch(r){Ee(e,e.return,r)}}}function Hp(e,n,s){s.props=Qi(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(r){Ee(e,n,r)}}function Ka(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof s=="function"?e.refCleanup=s(r):s.current=r}}catch(c){Ee(e,n,c)}}function hn(e,n){var s=e.ref,r=e.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(c){Ee(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Ee(e,n,c)}else s.current=null}function Bp(e){var n=e.type,s=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(c){Ee(e,e.return,c)}}function Lu(e,n,s){try{var r=e.stateNode;k1(r,e.type,s,n),r[St]=n}catch(c){Ee(e,e.return,c)}}function qp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ui(e.type)||e.tag===4}function Uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ui(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zu(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=yn));else if(r!==4&&(r===27&&ui(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(zu(e,n,s),e=e.sibling;e!==null;)zu(e,n,s),e=e.sibling}function Ur(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(r!==4&&(r===27&&ui(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ur(e,n,s),e=e.sibling;e!==null;)Ur(e,n,s),e=e.sibling}function Vp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var r=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ut(n,r,s),n[lt]=e,n[St]=s}catch(f){Ee(e,e.return,f)}}var Nn=!1,Ze=!1,ju=!1,Gp=typeof WeakSet=="function"?WeakSet:Set,it=null;function d1(e,n){if(e=e.containerInfo,lf=io,e=tm(e),Dc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var c=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var d=0,_=-1,v=-1,A=0,O=0,I=e,N=null;t:for(;;){for(var R;I!==s||c!==0&&I.nodeType!==3||(_=d+c),I!==f||r!==0&&I.nodeType!==3||(v=d+r),I.nodeType===3&&(d+=I.nodeValue.length),(R=I.firstChild)!==null;)N=I,I=R;for(;;){if(I===e)break t;if(N===s&&++A===c&&(_=d),N===f&&++O===r&&(v=d),(R=I.nextSibling)!==null)break;I=N,N=I.parentNode}I=R}s=_===-1||v===-1?null:{start:_,end:v}}else s=null}s=s||{start:0,end:0}}else s=null;for(rf={focusedElem:e,selectionRange:s},io=!1,it=n;it!==null;)if(n=it,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,it=e;else for(;it!==null;){switch(n=it,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,r=s.stateNode;try{var V=Qi(s.type,c);e=r.getSnapshotBeforeUpdate(V,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(K){Ee(s,s.return,K)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)uf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":uf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,it=e;break}it=n.return}}function Pp(e,n,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:On(e,s),r&4&&Fa(5,s);break;case 1:if(On(e,s),r&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(d){Ee(s,s.return,d)}else{var c=Qi(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Ee(s,s.return,d)}}r&64&&jp(s),r&512&&Ka(s,s.return);break;case 3:if(On(e,s),r&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Nm(e,n)}catch(d){Ee(s,s.return,d)}}break;case 27:n===null&&r&4&&Vp(s);case 26:case 5:On(e,s),n===null&&r&4&&Bp(s),r&512&&Ka(s,s.return);break;case 12:On(e,s);break;case 31:On(e,s),r&4&&Fp(e,s);break;case 13:On(e,s),r&4&&Kp(e,s),r&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=E1.bind(null,s),V1(e,s))));break;case 22:if(r=s.memoizedState!==null||Nn,!r){n=n!==null&&n.memoizedState!==null||Ze,c=Nn;var f=Ze;Nn=r,(Ze=n)&&!f?Dn(e,s,(s.subtreeFlags&8772)!==0):On(e,s),Nn=c,Ze=f}break;case 30:break;default:On(e,s)}}function Yp(e){var n=e.alternate;n!==null&&(e.alternate=null,Yp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&mc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,Tt=!1;function Rn(e,n,s){for(s=s.child;s!==null;)Qp(e,n,s),s=s.sibling}function Qp(e,n,s){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(ya,s)}catch{}switch(s.tag){case 26:Ze||hn(s,n),Rn(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ze||hn(s,n);var r=He,c=Tt;ui(s.type)&&(He=s.stateNode,Tt=!1),Rn(e,n,s),il(s.stateNode),He=r,Tt=c;break;case 5:Ze||hn(s,n);case 6:if(r=He,c=Tt,He=null,Rn(e,n,s),He=r,Tt=c,He!==null)if(Tt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(s.stateNode)}catch(f){Ee(s,n,f)}else try{He.removeChild(s.stateNode)}catch(f){Ee(s,n,f)}break;case 18:He!==null&&(Tt?(e=He,jg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ys(e)):jg(He,s.stateNode));break;case 4:r=He,c=Tt,He=s.stateNode.containerInfo,Tt=!0,Rn(e,n,s),He=r,Tt=c;break;case 0:case 11:case 14:case 15:ii(2,s,n),Ze||ii(4,s,n),Rn(e,n,s);break;case 1:Ze||(hn(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"&&Hp(s,n,r)),Rn(e,n,s);break;case 21:Rn(e,n,s);break;case 22:Ze=(r=Ze)||s.memoizedState!==null,Rn(e,n,s),Ze=r;break;default:Rn(e,n,s)}}function Fp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ys(e)}catch(s){Ee(n,n.return,s)}}}function Kp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ys(e)}catch(s){Ee(n,n.return,s)}}function m1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Gp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Gp),n;default:throw Error(l(435,e.tag))}}function zr(e,n){var s=m1(e);n.forEach(function(r){if(!s.has(r)){s.add(r);var c=T1.bind(null,e,r);r.then(c,c)}})}function Ct(e,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var c=s[r],f=e,d=n,_=d;e:for(;_!==null;){switch(_.tag){case 27:if(ui(_.type)){He=_.stateNode,Tt=!1;break e}break;case 5:He=_.stateNode,Tt=!1;break e;case 3:case 4:He=_.stateNode.containerInfo,Tt=!0;break e}_=_.return}if(He===null)throw Error(l(160));Qp(f,d,c),He=null,Tt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Xp(n,e),n=n.sibling}var tn=null;function Xp(e,n){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(n,e),wt(e),r&4&&(ii(3,e,e.return),Fa(3,e),ii(5,e,e.return));break;case 1:Ct(n,e),wt(e),r&512&&(Ze||s===null||hn(s,s.return)),r&64&&Nn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var c=tn;if(Ct(n,e),wt(e),r&512&&(Ze||s===null||hn(s,s.return)),r&4){var f=s!==null?s.memoizedState:null;if(r=e.memoizedState,s===null)if(r===null)if(e.stateNode===null){e:{r=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Sa]||f[lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(r),c.head.insertBefore(f,c.querySelector("head > title"))),ut(f,r,s),f[lt]=e,nt(f),r=f;break e;case"link":var d=Xg("link","href",c).get(r+(s.href||""));if(d){for(var _=0;_<d.length;_++)if(f=d[_],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){d.splice(_,1);break t}}f=c.createElement(r),ut(f,r,s),c.head.appendChild(f);break;case"meta":if(d=Xg("meta","content",c).get(r+(s.content||""))){for(_=0;_<d.length;_++)if(f=d[_],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){d.splice(_,1);break t}}f=c.createElement(r),ut(f,r,s),c.head.appendChild(f);break;default:throw Error(l(468,r))}f[lt]=e,nt(f),r=f}e.stateNode=r}else Wg(c,e.type,e.stateNode);else e.stateNode=Kg(c,r,e.memoizedProps);else f!==r?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,r===null?Wg(c,e.type,e.stateNode):Kg(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Lu(e,e.memoizedProps,s.memoizedProps)}break;case 27:Ct(n,e),wt(e),r&512&&(Ze||s===null||hn(s,s.return)),s!==null&&r&4&&Lu(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Ct(n,e),wt(e),r&512&&(Ze||s===null||hn(s,s.return)),e.flags&32){c=e.stateNode;try{ms(c,"")}catch(V){Ee(e,e.return,V)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Lu(e,c,s!==null?s.memoizedProps:c)),r&1024&&(ju=!0);break;case 6:if(Ct(n,e),wt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,s=e.stateNode;try{s.nodeValue=r}catch(V){Ee(e,e.return,V)}}break;case 3:if($r=null,c=tn,tn=Zr(n.containerInfo),Ct(n,e),tn=c,wt(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Ys(n.containerInfo)}catch(V){Ee(e,e.return,V)}ju&&(ju=!1,Wp(e));break;case 4:r=tn,tn=Zr(e.stateNode.containerInfo),Ct(n,e),wt(e),tn=r;break;case 12:Ct(n,e),wt(e);break;case 31:Ct(n,e),wt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,zr(e,r)));break;case 13:Ct(n,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Hr=Ot()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,zr(e,r)));break;case 22:c=e.memoizedState!==null;var v=s!==null&&s.memoizedState!==null,A=Nn,O=Ze;if(Nn=A||c,Ze=O||v,Ct(n,e),Ze=O,Nn=A,wt(e),r&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||v||Nn||Ze||Fi(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){v=s=n;try{if(f=v.stateNode,c)d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=v.stateNode;var I=v.memoizedProps.style,N=I!=null&&I.hasOwnProperty("display")?I.display:null;_.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(V){Ee(v,v.return,V)}}}else if(n.tag===6){if(s===null){v=n;try{v.stateNode.nodeValue=c?"":v.memoizedProps}catch(V){Ee(v,v.return,V)}}}else if(n.tag===18){if(s===null){v=n;try{var R=v.stateNode;c?Hg(R,!0):Hg(v.stateNode,!1)}catch(V){Ee(v,v.return,V)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,zr(e,s))));break;case 19:Ct(n,e),wt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,zr(e,r)));break;case 30:break;case 21:break;default:Ct(n,e),wt(e)}}function wt(e){var n=e.flags;if(n&2){try{for(var s,r=e.return;r!==null;){if(qp(r)){s=r;break}r=r.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var c=s.stateNode,f=Uu(e);Ur(e,f,c);break;case 5:var d=s.stateNode;s.flags&32&&(ms(d,""),s.flags&=-33);var _=Uu(e);Ur(e,_,d);break;case 3:case 4:var v=s.stateNode.containerInfo,A=Uu(e);zu(e,A,v);break;default:throw Error(l(161))}}catch(O){Ee(e,e.return,O)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Wp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Wp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function On(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Pp(e,n.alternate,n),n=n.sibling}function Fi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ii(4,n,n.return),Fi(n);break;case 1:hn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Hp(n,n.return,s),Fi(n);break;case 27:il(n.stateNode);case 26:case 5:hn(n,n.return),Fi(n);break;case 22:n.memoizedState===null&&Fi(n);break;case 30:Fi(n);break;default:Fi(n)}e=e.sibling}}function Dn(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,c=e,f=n,d=f.flags;switch(f.tag){case 0:case 11:case 15:Dn(c,f,s),Fa(4,f);break;case 1:if(Dn(c,f,s),r=f,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(A){Ee(r,r.return,A)}if(r=f,c=r.updateQueue,c!==null){var _=r.stateNode;try{var v=c.shared.hiddenCallbacks;if(v!==null)for(c.shared.hiddenCallbacks=null,c=0;c<v.length;c++)Am(v[c],_)}catch(A){Ee(r,r.return,A)}}s&&d&64&&jp(f),Ka(f,f.return);break;case 27:Vp(f);case 26:case 5:Dn(c,f,s),s&&r===null&&d&4&&Bp(f),Ka(f,f.return);break;case 12:Dn(c,f,s);break;case 31:Dn(c,f,s),s&&d&4&&Fp(c,f);break;case 13:Dn(c,f,s),s&&d&4&&Kp(c,f);break;case 22:f.memoizedState===null&&Dn(c,f,s),Ka(f,f.return);break;case 30:break;default:Dn(c,f,s)}n=n.sibling}}function Hu(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ka(s))}function Bu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ka(e))}function nn(e,n,s,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zp(e,n,s,r),n=n.sibling}function Zp(e,n,s,r){var c=n.flags;switch(n.tag){case 0:case 11:case 15:nn(e,n,s,r),c&2048&&Fa(9,n);break;case 1:nn(e,n,s,r);break;case 3:nn(e,n,s,r),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ka(e)));break;case 12:if(c&2048){nn(e,n,s,r),e=n.stateNode;try{var f=n.memoizedProps,d=f.id,_=f.onPostCommit;typeof _=="function"&&_(d,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){Ee(n,n.return,v)}}else nn(e,n,s,r);break;case 31:nn(e,n,s,r);break;case 13:nn(e,n,s,r);break;case 23:break;case 22:f=n.stateNode,d=n.alternate,n.memoizedState!==null?f._visibility&2?nn(e,n,s,r):Xa(e,n):f._visibility&2?nn(e,n,s,r):(f._visibility|=2,ks(e,n,s,r,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Hu(d,n);break;case 24:nn(e,n,s,r),c&2048&&Bu(n.alternate,n);break;default:nn(e,n,s,r)}}function ks(e,n,s,r,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,d=n,_=s,v=r,A=d.flags;switch(d.tag){case 0:case 11:case 15:ks(f,d,_,v,c),Fa(8,d);break;case 23:break;case 22:var O=d.stateNode;d.memoizedState!==null?O._visibility&2?ks(f,d,_,v,c):Xa(f,d):(O._visibility|=2,ks(f,d,_,v,c)),c&&A&2048&&Hu(d.alternate,d);break;case 24:ks(f,d,_,v,c),c&&A&2048&&Bu(d.alternate,d);break;default:ks(f,d,_,v,c)}n=n.sibling}}function Xa(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,r=n,c=r.flags;switch(r.tag){case 22:Xa(s,r),c&2048&&Hu(r.alternate,r);break;case 24:Xa(s,r),c&2048&&Bu(r.alternate,r);break;default:Xa(s,r)}n=n.sibling}}var Wa=8192;function Ls(e,n,s){if(e.subtreeFlags&Wa)for(e=e.child;e!==null;)Jp(e,n,s),e=e.sibling}function Jp(e,n,s){switch(e.tag){case 26:Ls(e,n,s),e.flags&Wa&&e.memoizedState!==null&&eS(s,tn,e.memoizedState,e.memoizedProps);break;case 5:Ls(e,n,s);break;case 3:case 4:var r=tn;tn=Zr(e.stateNode.containerInfo),Ls(e,n,s),tn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Wa,Wa=16777216,Ls(e,n,s),Wa=r):Ls(e,n,s));break;default:Ls(e,n,s)}}function $p(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Za(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];it=r,tg(r,e)}$p(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)eg(e),e=e.sibling}function eg(e){switch(e.tag){case 0:case 11:case 15:Za(e),e.flags&2048&&ii(9,e,e.return);break;case 3:Za(e);break;case 12:Za(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,jr(e)):Za(e);break;default:Za(e)}}function jr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];it=r,tg(r,e)}$p(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ii(8,n,n.return),jr(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,jr(n));break;default:jr(n)}e=e.sibling}}function tg(e,n){for(;it!==null;){var s=it;switch(s.tag){case 0:case 11:case 15:ii(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ka(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,it=r;else e:for(s=e;it!==null;){r=it;var c=r.sibling,f=r.return;if(Yp(r),r===s){it=null;break e}if(c!==null){c.return=f,it=c;break e}it=f}}}var p1={getCacheForType:function(e){var n=ot(Ke),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return ot(Ke).controller.signal}},g1=typeof WeakMap=="function"?WeakMap:Map,ye=0,ke=null,le=null,ue=0,Se=0,zt=null,si=!1,Us=!1,qu=!1,Mn=0,Ve=0,ai=0,Ki=0,Vu=0,jt=0,zs=0,Ja=null,xt=null,Gu=!1,Hr=0,ng=0,Br=1/0,qr=null,li=null,$e=0,ri=null,js=null,In=0,Pu=0,Yu=null,ig=null,$a=0,Qu=null;function Ht(){return(ye&2)!==0&&ue!==0?ue&-ue:D.T!==null?Ju():vd()}function sg(){if(jt===0)if((ue&536870912)===0||de){var e=Xl;Xl<<=1,(Xl&3932160)===0&&(Xl=262144),jt=e}else jt=536870912;return e=Lt.current,e!==null&&(e.flags|=32),jt}function At(e,n,s){(e===ke&&(Se===2||Se===9)||e.cancelPendingCommit!==null)&&(Hs(e,0),oi(e,ue,jt,!1)),ba(e,s),((ye&2)===0||e!==ke)&&(e===ke&&((ye&2)===0&&(Ki|=s),Ve===4&&oi(e,ue,jt,!1)),dn(e))}function ag(e,n,s){if((ye&6)!==0)throw Error(l(327));var r=!s&&(n&127)===0&&(n&e.expiredLanes)===0||va(e,n),c=r?v1(e,n):Ku(e,n,!0),f=r;do{if(c===0){Us&&!r&&oi(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!_1(s)){c=Ku(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){n=d;e:{var _=e;c=Ja;var v=_.current.memoizedState.isDehydrated;if(v&&(Hs(_,d).flags|=256),d=Ku(_,d,!1),d!==2){if(qu&&!v){_.errorRecoveryDisabledLanes|=f,Ki|=f,c=4;break e}f=xt,xt=c,f!==null&&(xt===null?xt=f:xt.push.apply(xt,f))}c=d}if(f=!1,c!==2)continue}}if(c===1){Hs(e,0),oi(e,n,0,!0);break}e:{switch(r=e,f=c,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:oi(r,n,jt,!si);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(c=Hr+300-Ot(),10<c)){if(oi(r,n,jt,!si),Zl(r,0,!0)!==0)break e;In=n,r.timeoutHandle=Ug(lg.bind(null,r,s,xt,qr,Gu,n,jt,Ki,zs,si,f,"Throttled",-0,0),c);break e}lg(r,s,xt,qr,Gu,n,jt,Ki,zs,si,f,null,-0,0)}}break}while(!0);dn(e)}function lg(e,n,s,r,c,f,d,_,v,A,O,I,N,R){if(e.timeoutHandle=-1,I=n.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yn},Jp(n,f,I);var V=(f&62914560)===f?Hr-Ot():(f&4194048)===f?ng-Ot():0;if(V=tS(I,V),V!==null){In=f,e.cancelPendingCommit=V(mg.bind(null,e,n,f,s,r,c,d,_,v,O,I,null,N,R)),oi(e,f,d,!A);return}}mg(e,n,f,s,r,c,d,_,v)}function _1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var c=s[r],f=c.getSnapshot;c=c.value;try{if(!It(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function oi(e,n,s,r){n&=~Vu,n&=~Ki,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var c=n;0<c;){var f=31-Mt(c),d=1<<f;r[f]=-1,c&=~d}s!==0&&gd(e,s,n)}function Vr(){return(ye&6)===0?(el(0),!1):!0}function Fu(){if(le!==null){if(Se===0)var e=le.return;else e=le,En=Hi=null,cu(e),Rs=null,Ua=0,e=le;for(;e!==null;)zp(e.alternate,e),e=e.return;le=null}}function Hs(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,z1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),In=0,Fu(),ke=e,le=s=bn(e.current,null),ue=n,Se=0,zt=null,si=!1,Us=va(e,n),qu=!1,zs=jt=Vu=Ki=ai=Ve=0,xt=Ja=null,Gu=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var c=31-Mt(r),f=1<<c;n|=e[c],r&=~f}return Mn=n,cr(),s}function rg(e,n){te=null,D.H=Pa,n===Ns||n===_r?(n=Tm(),Se=3):n===Zc?(n=Tm(),Se=4):Se=n===wu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zt=n,le===null&&(Ve=1,Dr(e,Pt(n,e.current)))}function og(){var e=Lt.current;return e===null?!0:(ue&4194048)===ue?Kt===null:(ue&62914560)===ue||(ue&536870912)!==0?e===Kt:!1}function cg(){var e=D.H;return D.H=Pa,e===null?Pa:e}function ug(){var e=D.A;return D.A=p1,e}function Gr(){Ve=4,si||(ue&4194048)!==ue&&Lt.current!==null||(Us=!0),(ai&134217727)===0&&(Ki&134217727)===0||ke===null||oi(ke,ue,jt,!1)}function Ku(e,n,s){var r=ye;ye|=2;var c=cg(),f=ug();(ke!==e||ue!==n)&&(qr=null,Hs(e,n)),n=!1;var d=Ve;e:do try{if(Se!==0&&le!==null){var _=le,v=zt;switch(Se){case 8:Fu(),d=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(n=!0);var A=Se;if(Se=0,zt=null,Bs(e,_,v,A),s&&Us){d=0;break e}break;default:A=Se,Se=0,zt=null,Bs(e,_,v,A)}}y1(),d=Ve;break}catch(O){rg(e,O)}while(!0);return n&&e.shellSuspendCounter++,En=Hi=null,ye=r,D.H=c,D.A=f,le===null&&(ke=null,ue=0,cr()),d}function y1(){for(;le!==null;)fg(le)}function v1(e,n){var s=ye;ye|=2;var r=cg(),c=ug();ke!==e||ue!==n?(qr=null,Br=Ot()+500,Hs(e,n)):Us=va(e,n);e:do try{if(Se!==0&&le!==null){n=le;var f=zt;t:switch(Se){case 1:Se=0,zt=null,Bs(e,n,f,1);break;case 2:case 9:if(Sm(f)){Se=0,zt=null,hg(n);break}n=function(){Se!==2&&Se!==9||ke!==e||(Se=7),dn(e)},f.then(n,n);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:Sm(f)?(Se=0,zt=null,hg(n)):(Se=0,zt=null,Bs(e,n,f,7));break;case 5:var d=null;switch(le.tag){case 26:d=le.memoizedState;case 5:case 27:var _=le;if(d?Zg(d):_.stateNode.complete){Se=0,zt=null;var v=_.sibling;if(v!==null)le=v;else{var A=_.return;A!==null?(le=A,Pr(A)):le=null}break t}}Se=0,zt=null,Bs(e,n,f,5);break;case 6:Se=0,zt=null,Bs(e,n,f,6);break;case 8:Fu(),Ve=6;break e;default:throw Error(l(462))}}b1();break}catch(O){rg(e,O)}while(!0);return En=Hi=null,D.H=r,D.A=c,ye=s,le!==null?0:(ke=null,ue=0,cr(),Ve)}function b1(){for(;le!==null&&!G0();)fg(le)}function fg(e){var n=Lp(e.alternate,e,Mn);e.memoizedProps=e.pendingProps,n===null?Pr(e):le=n}function hg(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Rp(s,n,n.pendingProps,n.type,void 0,ue);break;case 11:n=Rp(s,n,n.pendingProps,n.type.render,n.ref,ue);break;case 5:cu(n);default:zp(s,n),n=le=um(n,Mn),n=Lp(s,n,Mn)}e.memoizedProps=e.pendingProps,n===null?Pr(e):le=n}function Bs(e,n,s,r){En=Hi=null,cu(n),Rs=null,Ua=0;var c=n.return;try{if(o1(e,c,n,s,ue)){Ve=1,Dr(e,Pt(s,e.current)),le=null;return}}catch(f){if(c!==null)throw le=c,f;Ve=1,Dr(e,Pt(s,e.current)),le=null;return}n.flags&32768?(de||r===1?e=!0:Us||(ue&536870912)!==0?e=!1:(si=e=!0,(r===2||r===9||r===3||r===6)&&(r=Lt.current,r!==null&&r.tag===13&&(r.flags|=16384))),dg(n,e)):Pr(n)}function Pr(e){var n=e;do{if((n.flags&32768)!==0){dg(n,si);return}e=n.return;var s=f1(n.alternate,n,Mn);if(s!==null){le=s;return}if(n=n.sibling,n!==null){le=n;return}le=n=e}while(n!==null);Ve===0&&(Ve=5)}function dg(e,n){do{var s=h1(e.alternate,e);if(s!==null){s.flags&=32767,le=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){le=e;return}le=e=s}while(e!==null);Ve=6,le=null}function mg(e,n,s,r,c,f,d,_,v){e.cancelPendingCommit=null;do Yr();while($e!==0);if((ye&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=Uc,$0(e,s,f,d,_,v),e===ke&&(le=ke=null,ue=0),js=n,ri=e,In=s,Pu=f,Yu=c,ig=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,C1(Fl,function(){return vg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=D.T,D.T=null,c=B.p,B.p=2,d=ye,ye|=4;try{d1(e,n,s)}finally{ye=d,B.p=c,D.T=r}}$e=1,pg(),gg(),_g()}}function pg(){if($e===1){$e=0;var e=ri,n=js,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=D.T,D.T=null;var r=B.p;B.p=2;var c=ye;ye|=4;try{Xp(n,e);var f=rf,d=tm(e.containerInfo),_=f.focusedElem,v=f.selectionRange;if(d!==_&&_&&_.ownerDocument&&em(_.ownerDocument.documentElement,_)){if(v!==null&&Dc(_)){var A=v.start,O=v.end;if(O===void 0&&(O=A),"selectionStart"in _)_.selectionStart=A,_.selectionEnd=Math.min(O,_.value.length);else{var I=_.ownerDocument||document,N=I&&I.defaultView||window;if(N.getSelection){var R=N.getSelection(),V=_.textContent.length,K=Math.min(v.start,V),Ae=v.end===void 0?K:Math.min(v.end,V);!R.extend&&K>Ae&&(d=Ae,Ae=K,K=d);var w=$d(_,K),T=$d(_,Ae);if(w&&T&&(R.rangeCount!==1||R.anchorNode!==w.node||R.anchorOffset!==w.offset||R.focusNode!==T.node||R.focusOffset!==T.offset)){var x=I.createRange();x.setStart(w.node,w.offset),R.removeAllRanges(),K>Ae?(R.addRange(x),R.extend(T.node,T.offset)):(x.setEnd(T.node,T.offset),R.addRange(x))}}}}for(I=[],R=_;R=R.parentNode;)R.nodeType===1&&I.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<I.length;_++){var M=I[_];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}io=!!lf,rf=lf=null}finally{ye=c,B.p=r,D.T=s}}e.current=n,$e=2}}function gg(){if($e===2){$e=0;var e=ri,n=js,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=D.T,D.T=null;var r=B.p;B.p=2;var c=ye;ye|=4;try{Pp(e,n.alternate,n)}finally{ye=c,B.p=r,D.T=s}}$e=3}}function _g(){if($e===4||$e===3){$e=0,P0();var e=ri,n=js,s=In,r=ig;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$e=5:($e=0,js=ri=null,yg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(li=null),hc(s),n=n.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(ya,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=D.T,c=B.p,B.p=2,D.T=null;try{for(var f=e.onRecoverableError,d=0;d<r.length;d++){var _=r[d];f(_.value,{componentStack:_.stack})}}finally{D.T=n,B.p=c}}(In&3)!==0&&Yr(),dn(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===Qu?$a++:($a=0,Qu=e):$a=0,el(0)}}function yg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ka(n)))}function Yr(){return pg(),gg(),_g(),vg()}function vg(){if($e!==5)return!1;var e=ri,n=Pu;Pu=0;var s=hc(In),r=D.T,c=B.p;try{B.p=32>s?32:s,D.T=null,s=Yu,Yu=null;var f=ri,d=In;if($e=0,js=ri=null,In=0,(ye&6)!==0)throw Error(l(331));var _=ye;if(ye|=4,eg(f.current),Zp(f,f.current,d,s),ye=_,el(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(ya,f)}catch{}return!0}finally{B.p=c,D.T=r,yg(e,n)}}function bg(e,n,s){n=Pt(s,n),n=Cu(e.stateNode,n,2),e=ei(e,n,2),e!==null&&(ba(e,2),dn(e))}function Ee(e,n,s){if(e.tag===3)bg(e,e,s);else for(;n!==null;){if(n.tag===3){bg(n,e,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(li===null||!li.has(r))){e=Pt(s,e),s=Sp(2),r=ei(n,s,2),r!==null&&(Ep(s,r,n,e),ba(r,2),dn(r));break}}n=n.return}}function Xu(e,n,s){var r=e.pingCache;if(r===null){r=e.pingCache=new g1;var c=new Set;r.set(n,c)}else c=r.get(n),c===void 0&&(c=new Set,r.set(n,c));c.has(s)||(qu=!0,c.add(s),e=S1.bind(null,e,n,s),n.then(e,e))}function S1(e,n,s){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ke===e&&(ue&s)===s&&(Ve===4||Ve===3&&(ue&62914560)===ue&&300>Ot()-Hr?(ye&2)===0&&Hs(e,0):Vu|=s,zs===ue&&(zs=0)),dn(e)}function Sg(e,n){n===0&&(n=pd()),e=Ui(e,n),e!==null&&(ba(e,n),dn(e))}function E1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Sg(e,s)}function T1(e,n){var s=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(n),Sg(e,s)}function C1(e,n){return oc(e,n)}var Qr=null,qs=null,Wu=!1,Fr=!1,Zu=!1,ci=0;function dn(e){e!==qs&&e.next===null&&(qs===null?Qr=qs=e:qs=qs.next=e),Fr=!0,Wu||(Wu=!0,x1())}function el(e,n){if(!Zu&&Fr){Zu=!0;do for(var s=!1,r=Qr;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var f=0;else{var d=r.suspendedLanes,_=r.pingedLanes;f=(1<<31-Mt(42|e)+1)-1,f&=c&~(d&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,wg(r,f))}else f=ue,f=Zl(r,r===ke?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||va(r,f)||(s=!0,wg(r,f));r=r.next}while(s);Zu=!1}}function w1(){Eg()}function Eg(){Fr=Wu=!1;var e=0;ci!==0&&U1()&&(e=ci);for(var n=Ot(),s=null,r=Qr;r!==null;){var c=r.next,f=Tg(r,n);f===0?(r.next=null,s===null?Qr=c:s.next=c,c===null&&(qs=s)):(s=r,(e!==0||(f&3)!==0)&&(Fr=!0)),r=c}$e!==0&&$e!==5||el(e),ci!==0&&(ci=0)}function Tg(e,n){for(var s=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var d=31-Mt(f),_=1<<d,v=c[d];v===-1?((_&s)===0||(_&r)!==0)&&(c[d]=J0(_,n)):v<=n&&(e.expiredLanes|=_),f&=~_}if(n=ke,s=ue,s=Zl(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,s===0||e===n&&(Se===2||Se===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&cc(r),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||va(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(r!==null&&cc(r),hc(s)){case 2:case 8:s=dd;break;case 32:s=Fl;break;case 268435456:s=md;break;default:s=Fl}return r=Cg.bind(null,e),s=oc(s,r),e.callbackPriority=n,e.callbackNode=s,n}return r!==null&&r!==null&&cc(r),e.callbackPriority=2,e.callbackNode=null,2}function Cg(e,n){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Yr()&&e.callbackNode!==s)return null;var r=ue;return r=Zl(e,e===ke?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(ag(e,r,n),Tg(e,Ot()),e.callbackNode!=null&&e.callbackNode===s?Cg.bind(null,e):null)}function wg(e,n){if(Yr())return null;ag(e,n,!0)}function x1(){j1(function(){(ye&6)!==0?oc(hd,w1):Eg()})}function Ju(){if(ci===0){var e=xs;e===0&&(e=Kl,Kl<<=1,(Kl&261888)===0&&(Kl=256)),ci=e}return ci}function xg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tr(""+e)}function Ag(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function A1(e,n,s,r,c){if(n==="submit"&&s&&s.stateNode===c){var f=xg((c[St]||null).action),d=r.submitter;d&&(n=(n=d[St]||null)?xg(n.formAction):d.getAttribute("formAction"),n!==null&&(f=n,d=null));var _=new ar("action","action",null,r,c);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ci!==0){var v=d?Ag(c,d):new FormData(c);yu(s,{pending:!0,data:v,method:c.method,action:f},null,v)}}else typeof f=="function"&&(_.preventDefault(),v=d?Ag(c,d):new FormData(c),yu(s,{pending:!0,data:v,method:c.method,action:f},f,v))},currentTarget:c}]})}}for(var $u=0;$u<Lc.length;$u++){var ef=Lc[$u],N1=ef.toLowerCase(),R1=ef[0].toUpperCase()+ef.slice(1);en(N1,"on"+R1)}en(sm,"onAnimationEnd"),en(am,"onAnimationIteration"),en(lm,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(Yb,"onTransitionRun"),en(Qb,"onTransitionStart"),en(Fb,"onTransitionCancel"),en(rm,"onTransitionEnd"),hs("onMouseEnter",["mouseout","mouseover"]),hs("onMouseLeave",["mouseout","mouseover"]),hs("onPointerEnter",["pointerout","pointerover"]),hs("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function Ng(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],c=r.event;r=r.listeners;e:{var f=void 0;if(n)for(var d=r.length-1;0<=d;d--){var _=r[d],v=_.instance,A=_.currentTarget;if(_=_.listener,v!==f&&c.isPropagationStopped())break e;f=_,c.currentTarget=A;try{f(c)}catch(O){or(O)}c.currentTarget=null,f=v}else for(d=0;d<r.length;d++){if(_=r[d],v=_.instance,A=_.currentTarget,_=_.listener,v!==f&&c.isPropagationStopped())break e;f=_,c.currentTarget=A;try{f(c)}catch(O){or(O)}c.currentTarget=null,f=v}}}}function re(e,n){var s=n[dc];s===void 0&&(s=n[dc]=new Set);var r=e+"__bubble";s.has(r)||(Rg(n,e,2,!1),s.add(r))}function tf(e,n,s){var r=0;n&&(r|=4),Rg(s,e,r,n)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function nf(e){if(!e[Kr]){e[Kr]=!0,Ed.forEach(function(s){s!=="selectionchange"&&(O1.has(s)||tf(s,!1,e),tf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Kr]||(n[Kr]=!0,tf("selectionchange",!1,n))}}function Rg(e,n,s,r){switch(s_(n)){case 2:var c=sS;break;case 8:c=aS;break;default:c=yf}s=c.bind(null,n,s,e),c=void 0,!Ec||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function sf(e,n,s,r,c){var f=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var _=r.stateNode.containerInfo;if(_===c)break;if(d===4)for(d=r.return;d!==null;){var v=d.tag;if((v===3||v===4)&&d.stateNode.containerInfo===c)return;d=d.return}for(;_!==null;){if(d=cs(_),d===null)return;if(v=d.tag,v===5||v===6||v===26||v===27){r=f=d;continue e}_=_.parentNode}}r=r.return}kd(function(){var A=f,O=bc(s),I=[];e:{var N=om.get(e);if(N!==void 0){var R=ar,V=e;switch(e){case"keypress":if(ir(s)===0)break e;case"keydown":case"keyup":R=Tb;break;case"focusin":V="focus",R=xc;break;case"focusout":V="blur",R=xc;break;case"beforeblur":case"afterblur":R=xc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=fb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=xb;break;case sm:case am:case lm:R=mb;break;case rm:R=Nb;break;case"scroll":case"scrollend":R=cb;break;case"wheel":R=Ob;break;case"copy":case"cut":case"paste":R=gb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Hd;break;case"toggle":case"beforetoggle":R=Mb}var K=(n&4)!==0,Ae=!K&&(e==="scroll"||e==="scrollend"),w=K?N!==null?N+"Capture":null:N;K=[];for(var T=A,x;T!==null;){var M=T;if(x=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||x===null||w===null||(M=Ta(T,w),M!=null&&K.push(nl(T,M,x))),Ae)break;T=T.return}0<K.length&&(N=new R(N,V,null,s,O),I.push({event:N,listeners:K}))}}if((n&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",N&&s!==vc&&(V=s.relatedTarget||s.fromElement)&&(cs(V)||V[os]))break e;if((R||N)&&(N=O.window===O?O:(N=O.ownerDocument)?N.defaultView||N.parentWindow:window,R?(V=s.relatedTarget||s.toElement,R=A,V=V?cs(V):null,V!==null&&(Ae=u(V),K=V.tag,V!==Ae||K!==5&&K!==27&&K!==6)&&(V=null)):(R=null,V=A),R!==V)){if(K=zd,M="onMouseLeave",w="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(K=Hd,M="onPointerLeave",w="onPointerEnter",T="pointer"),Ae=R==null?N:Ea(R),x=V==null?N:Ea(V),N=new K(M,T+"leave",R,s,O),N.target=Ae,N.relatedTarget=x,M=null,cs(O)===A&&(K=new K(w,T+"enter",V,s,O),K.target=x,K.relatedTarget=Ae,M=K),Ae=M,R&&V)t:{for(K=D1,w=R,T=V,x=0,M=w;M;M=K(M))x++;M=0;for(var Y=T;Y;Y=K(Y))M++;for(;0<x-M;)w=K(w),x--;for(;0<M-x;)T=K(T),M--;for(;x--;){if(w===T||T!==null&&w===T.alternate){K=w;break t}w=K(w),T=K(T)}K=null}else K=null;R!==null&&Og(I,N,R,K,!1),V!==null&&Ae!==null&&Og(I,Ae,V,K,!0)}}e:{if(N=A?Ea(A):window,R=N.nodeName&&N.nodeName.toLowerCase(),R==="select"||R==="input"&&N.type==="file")var me=Fd;else if(Yd(N))if(Kd)me=Vb;else{me=Bb;var P=Hb}else R=N.nodeName,!R||R.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?A&&yc(A.elementType)&&(me=Fd):me=qb;if(me&&(me=me(e,A))){Qd(I,me,s,O);break e}P&&P(e,N,A),e==="focusout"&&A&&N.type==="number"&&A.memoizedProps.value!=null&&_c(N,"number",N.value)}switch(P=A?Ea(A):window,e){case"focusin":(Yd(P)||P.contentEditable==="true")&&(ys=P,Mc=A,Da=null);break;case"focusout":Da=Mc=ys=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,nm(I,s,O);break;case"selectionchange":if(Pb)break;case"keydown":case"keyup":nm(I,s,O)}var ne;if(Nc)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else _s?Gd(e,s)&&(fe="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(fe="onCompositionStart");fe&&(Bd&&s.locale!=="ko"&&(_s||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&_s&&(ne=Ld()):(Fn=O,Tc="value"in Fn?Fn.value:Fn.textContent,_s=!0)),P=Xr(A,fe),0<P.length&&(fe=new jd(fe,e,null,s,O),I.push({event:fe,listeners:P}),ne?fe.data=ne:(ne=Pd(s),ne!==null&&(fe.data=ne)))),(ne=kb?Lb(e,s):Ub(e,s))&&(fe=Xr(A,"onBeforeInput"),0<fe.length&&(P=new jd("onBeforeInput","beforeinput",null,s,O),I.push({event:P,listeners:fe}),P.data=ne)),A1(I,e,A,s,O)}Ng(I,n)})}function nl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Xr(e,n){for(var s=n+"Capture",r=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ta(e,s),c!=null&&r.unshift(nl(e,c,f)),c=Ta(e,n),c!=null&&r.push(nl(e,c,f))),e.tag===3)return r;e=e.return}return[]}function D1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Og(e,n,s,r,c){for(var f=n._reactName,d=[];s!==null&&s!==r;){var _=s,v=_.alternate,A=_.stateNode;if(_=_.tag,v!==null&&v===r)break;_!==5&&_!==26&&_!==27||A===null||(v=A,c?(A=Ta(s,f),A!=null&&d.unshift(nl(s,A,v))):c||(A=Ta(s,f),A!=null&&d.push(nl(s,A,v)))),s=s.return}d.length!==0&&e.push({event:n,listeners:d})}var M1=/\r\n?/g,I1=/\u0000|\uFFFD/g;function Dg(e){return(typeof e=="string"?e:""+e).replace(M1,`
`).replace(I1,"")}function Mg(e,n){return n=Dg(n),Dg(e)===n}function xe(e,n,s,r,c,f){switch(s){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||ms(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&ms(e,""+r);break;case"className":$l(e,"class",r);break;case"tabIndex":$l(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":$l(e,s,r);break;case"style":Md(e,r,f);break;case"data":if(n!=="object"){$l(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=tr(""+r),e.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&xe(e,n,"name",c.name,c,null),xe(e,n,"formEncType",c.formEncType,c,null),xe(e,n,"formMethod",c.formMethod,c,null),xe(e,n,"formTarget",c.formTarget,c,null)):(xe(e,n,"encType",c.encType,c,null),xe(e,n,"method",c.method,c,null),xe(e,n,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=tr(""+r),e.setAttribute(s,r);break;case"onClick":r!=null&&(e.onclick=yn);break;case"onScroll":r!=null&&re("scroll",e);break;case"onScrollEnd":r!=null&&re("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}s=tr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""+r):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":r===!0?e.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,r):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(s,r):e.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(s):e.setAttribute(s,r);break;case"popover":re("beforetoggle",e),re("toggle",e),Jl(e,"popover",r);break;case"xlinkActuate":_n(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":_n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":_n(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":_n(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":_n(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":_n(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":_n(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":_n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":_n(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Jl(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=rb.get(s)||s,Jl(e,s,r))}}function af(e,n,s,r,c,f){switch(s){case"style":Md(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"children":typeof r=="string"?ms(e,r):(typeof r=="number"||typeof r=="bigint")&&ms(e,""+r);break;case"onScroll":r!=null&&re("scroll",e);break;case"onScrollEnd":r!=null&&re("scrollend",e);break;case"onClick":r!=null&&(e.onclick=yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Td.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[St]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof r=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,r,c);break e}s in e?e[s]=r:r===!0?e.setAttribute(s,""):Jl(e,s,r)}}}function ut(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",e),re("load",e);var r=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var d=s[f];if(d!=null)switch(f){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:xe(e,n,f,d,s,null)}}c&&xe(e,n,"srcSet",s.srcSet,s,null),r&&xe(e,n,"src",s.src,s,null);return;case"input":re("invalid",e);var _=f=d=c=null,v=null,A=null;for(r in s)if(s.hasOwnProperty(r)){var O=s[r];if(O!=null)switch(r){case"name":c=O;break;case"type":d=O;break;case"checked":v=O;break;case"defaultChecked":A=O;break;case"value":f=O;break;case"defaultValue":_=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(l(137,n));break;default:xe(e,n,r,O,s,null)}}Nd(e,f,_,v,A,d,c,!1);return;case"select":re("invalid",e),r=d=f=null;for(c in s)if(s.hasOwnProperty(c)&&(_=s[c],_!=null))switch(c){case"value":f=_;break;case"defaultValue":d=_;break;case"multiple":r=_;default:xe(e,n,c,_,s,null)}n=f,s=d,e.multiple=!!r,n!=null?ds(e,!!r,n,!1):s!=null&&ds(e,!!r,s,!0);return;case"textarea":re("invalid",e),f=c=r=null;for(d in s)if(s.hasOwnProperty(d)&&(_=s[d],_!=null))switch(d){case"value":r=_;break;case"defaultValue":c=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:xe(e,n,d,_,s,null)}Od(e,r,c,f);return;case"option":for(v in s)if(s.hasOwnProperty(v)&&(r=s[v],r!=null))switch(v){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:xe(e,n,v,r,s,null)}return;case"dialog":re("beforetoggle",e),re("toggle",e),re("cancel",e),re("close",e);break;case"iframe":case"object":re("load",e);break;case"video":case"audio":for(r=0;r<tl.length;r++)re(tl[r],e);break;case"image":re("error",e),re("load",e);break;case"details":re("toggle",e);break;case"embed":case"source":case"link":re("error",e),re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in s)if(s.hasOwnProperty(A)&&(r=s[A],r!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:xe(e,n,A,r,s,null)}return;default:if(yc(n)){for(O in s)s.hasOwnProperty(O)&&(r=s[O],r!==void 0&&af(e,n,O,r,s,void 0));return}}for(_ in s)s.hasOwnProperty(_)&&(r=s[_],r!=null&&xe(e,n,_,r,s,null))}function k1(e,n,s,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,d=null,_=null,v=null,A=null,O=null;for(R in s){var I=s[R];if(s.hasOwnProperty(R)&&I!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":v=I;default:r.hasOwnProperty(R)||xe(e,n,R,null,r,I)}}for(var N in r){var R=r[N];if(I=s[N],r.hasOwnProperty(N)&&(R!=null||I!=null))switch(N){case"type":f=R;break;case"name":c=R;break;case"checked":A=R;break;case"defaultChecked":O=R;break;case"value":d=R;break;case"defaultValue":_=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,n));break;default:R!==I&&xe(e,n,N,R,r,I)}}gc(e,d,_,v,A,O,f,c);return;case"select":R=d=_=N=null;for(f in s)if(v=s[f],s.hasOwnProperty(f)&&v!=null)switch(f){case"value":break;case"multiple":R=v;default:r.hasOwnProperty(f)||xe(e,n,f,null,r,v)}for(c in r)if(f=r[c],v=s[c],r.hasOwnProperty(c)&&(f!=null||v!=null))switch(c){case"value":N=f;break;case"defaultValue":_=f;break;case"multiple":d=f;default:f!==v&&xe(e,n,c,f,r,v)}n=_,s=d,r=R,N!=null?ds(e,!!s,N,!1):!!r!=!!s&&(n!=null?ds(e,!!s,n,!0):ds(e,!!s,s?[]:"",!1));return;case"textarea":R=N=null;for(_ in s)if(c=s[_],s.hasOwnProperty(_)&&c!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:xe(e,n,_,null,r,c)}for(d in r)if(c=r[d],f=s[d],r.hasOwnProperty(d)&&(c!=null||f!=null))switch(d){case"value":N=c;break;case"defaultValue":R=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==f&&xe(e,n,d,c,r,f)}Rd(e,N,R);return;case"option":for(var V in s)if(N=s[V],s.hasOwnProperty(V)&&N!=null&&!r.hasOwnProperty(V))switch(V){case"selected":e.selected=!1;break;default:xe(e,n,V,null,r,N)}for(v in r)if(N=r[v],R=s[v],r.hasOwnProperty(v)&&N!==R&&(N!=null||R!=null))switch(v){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:xe(e,n,v,N,r,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var K in s)N=s[K],s.hasOwnProperty(K)&&N!=null&&!r.hasOwnProperty(K)&&xe(e,n,K,null,r,N);for(A in r)if(N=r[A],R=s[A],r.hasOwnProperty(A)&&N!==R&&(N!=null||R!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(137,n));break;default:xe(e,n,A,N,r,R)}return;default:if(yc(n)){for(var Ae in s)N=s[Ae],s.hasOwnProperty(Ae)&&N!==void 0&&!r.hasOwnProperty(Ae)&&af(e,n,Ae,void 0,r,N);for(O in r)N=r[O],R=s[O],!r.hasOwnProperty(O)||N===R||N===void 0&&R===void 0||af(e,n,O,N,r,R);return}}for(var w in s)N=s[w],s.hasOwnProperty(w)&&N!=null&&!r.hasOwnProperty(w)&&xe(e,n,w,null,r,N);for(I in r)N=r[I],R=s[I],!r.hasOwnProperty(I)||N===R||N==null&&R==null||xe(e,n,I,N,r,R)}function Ig(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var c=s[r],f=c.transferSize,d=c.initiatorType,_=c.duration;if(f&&_&&Ig(d)){for(d=0,_=c.responseEnd,r+=1;r<s.length;r++){var v=s[r],A=v.startTime;if(A>_)break;var O=v.transferSize,I=v.initiatorType;O&&Ig(I)&&(v=v.responseEnd,d+=O*(v<_?1:(_-A)/(v-A)))}if(--r,n+=8*(f+d)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lf=null,rf=null;function Wr(e){return e.nodeType===9?e:e.ownerDocument}function kg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function of(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cf=null;function U1(){var e=window.event;return e&&e.type==="popstate"?e===cf?!1:(cf=e,!0):(cf=null,!1)}var Ug=typeof setTimeout=="function"?setTimeout:void 0,z1=typeof clearTimeout=="function"?clearTimeout:void 0,zg=typeof Promise=="function"?Promise:void 0,j1=typeof queueMicrotask=="function"?queueMicrotask:typeof zg<"u"?function(e){return zg.resolve(null).then(e).catch(H1)}:Ug;function H1(e){setTimeout(function(){throw e})}function ui(e){return e==="head"}function jg(e,n){var s=n,r=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(r===0){e.removeChild(c),Ys(n);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")il(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,il(s);for(var f=s.firstChild;f;){var d=f.nextSibling,_=f.nodeName;f[Sa]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=d}}else s==="body"&&il(e.ownerDocument.body);s=c}while(s);Ys(n)}function Hg(e,n){var s=e;e=0;do{var r=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=r}while(s)}function uf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":uf(s),mc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function B1(e,n,s,r){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Sa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Xt(e.nextSibling),e===null)break}return null}function q1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Xt(e.nextSibling),e===null))return null;return e}function Bg(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Xt(e.nextSibling),e===null))return null;return e}function ff(e){return e.data==="$?"||e.data==="$~"}function hf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function V1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var r=function(){n(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Xt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var df=null;function qg(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Xt(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Vg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Gg(e,n,s){switch(n=Wr(s),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);mc(e)}var Wt=new Map,Pg=new Set;function Zr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var kn=B.d;B.d={f:G1,r:P1,D:Y1,C:Q1,L:F1,m:K1,X:W1,S:X1,M:Z1};function G1(){var e=kn.f(),n=Vr();return e||n}function P1(e){var n=us(e);n!==null&&n.tag===5&&n.type==="form"?rp(n):kn.r(e)}var Vs=typeof document>"u"?null:document;function Yg(e,n,s){var r=Vs;if(r&&typeof n=="string"&&n){var c=Vt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Pg.has(c)||(Pg.add(c),e={rel:e,crossOrigin:s,href:n},r.querySelector(c)===null&&(n=r.createElement("link"),ut(n,"link",e),nt(n),r.head.appendChild(n)))}}function Y1(e){kn.D(e),Yg("dns-prefetch",e,null)}function Q1(e,n){kn.C(e,n),Yg("preconnect",e,n)}function F1(e,n,s){kn.L(e,n,s);var r=Vs;if(r&&e&&n){var c='link[rel="preload"][as="'+Vt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Vt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Vt(s.imageSizes)+'"]')):c+='[href="'+Vt(e)+'"]';var f=c;switch(n){case"style":f=Gs(e);break;case"script":f=Ps(e)}Wt.has(f)||(e=y({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Wt.set(f,e),r.querySelector(c)!==null||n==="style"&&r.querySelector(sl(f))||n==="script"&&r.querySelector(al(f))||(n=r.createElement("link"),ut(n,"link",e),nt(n),r.head.appendChild(n)))}}function K1(e,n){kn.m(e,n);var s=Vs;if(s&&e){var r=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Vt(r)+'"][href="'+Vt(e)+'"]',f=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ps(e)}if(!Wt.has(f)&&(e=y({rel:"modulepreload",href:e},n),Wt.set(f,e),s.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(al(f)))return}r=s.createElement("link"),ut(r,"link",e),nt(r),s.head.appendChild(r)}}}function X1(e,n,s){kn.S(e,n,s);var r=Vs;if(r&&e){var c=fs(r).hoistableStyles,f=Gs(e);n=n||"default";var d=c.get(f);if(!d){var _={loading:0,preload:null};if(d=r.querySelector(sl(f)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Wt.get(f))&&mf(e,s);var v=d=r.createElement("link");nt(v),ut(v,"link",e),v._p=new Promise(function(A,O){v.onload=A,v.onerror=O}),v.addEventListener("load",function(){_.loading|=1}),v.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Jr(d,n,r)}d={type:"stylesheet",instance:d,count:1,state:_},c.set(f,d)}}}function W1(e,n){kn.X(e,n);var s=Vs;if(s&&e){var r=fs(s).hoistableScripts,c=Ps(e),f=r.get(c);f||(f=s.querySelector(al(c)),f||(e=y({src:e,async:!0},n),(n=Wt.get(c))&&pf(e,n),f=s.createElement("script"),nt(f),ut(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function Z1(e,n){kn.M(e,n);var s=Vs;if(s&&e){var r=fs(s).hoistableScripts,c=Ps(e),f=r.get(c);f||(f=s.querySelector(al(c)),f||(e=y({src:e,async:!0,type:"module"},n),(n=Wt.get(c))&&pf(e,n),f=s.createElement("script"),nt(f),ut(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function Qg(e,n,s,r){var c=(c=ae.current)?Zr(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Gs(s.href),s=fs(c).hoistableStyles,r=s.get(n),r||(r={type:"style",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Gs(s.href);var f=fs(c).hoistableStyles,d=f.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,d),(f=c.querySelector(sl(e)))&&!f._p&&(d.instance=f,d.state.loading=5),Wt.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Wt.set(e,s),f||J1(c,e,s,d.state))),n&&r===null)throw Error(l(528,""));return d}if(n&&r!==null)throw Error(l(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ps(s),s=fs(c).hoistableScripts,r=s.get(n),r||(r={type:"script",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Gs(e){return'href="'+Vt(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function Fg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function J1(e,n,s,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),ut(n,"link",s),nt(n),e.head.appendChild(n))}function Ps(e){return'[src="'+Vt(e)+'"]'}function al(e){return"script[async]"+e}function Kg(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+Vt(s.href)+'"]');if(r)return n.instance=r,nt(r),r;var c=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),nt(r),ut(r,"style",c),Jr(r,s.precedence,e),n.instance=r;case"stylesheet":c=Gs(s.href);var f=e.querySelector(sl(c));if(f)return n.state.loading|=4,n.instance=f,nt(f),f;r=Fg(s),(c=Wt.get(c))&&mf(r,c),f=(e.ownerDocument||e).createElement("link"),nt(f);var d=f;return d._p=new Promise(function(_,v){d.onload=_,d.onerror=v}),ut(f,"link",r),n.state.loading|=4,Jr(f,s.precedence,e),n.instance=f;case"script":return f=Ps(s.src),(c=e.querySelector(al(f)))?(n.instance=c,nt(c),c):(r=s,(c=Wt.get(f))&&(r=y({},s),pf(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),nt(c),ut(c,"link",r),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,Jr(r,s.precedence,e));return n.instance}function Jr(e,n,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,f=c,d=0;d<r.length;d++){var _=r[d];if(_.dataset.precedence===n)f=_;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function mf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function pf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var $r=null;function Xg(e,n,s){if($r===null){var r=new Map,c=$r=new Map;c.set(s,r)}else c=$r,r=c.get(s),r||(r=new Map,c.set(s,r));if(r.has(e))return r;for(r.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[Sa]||f[lt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var d=f.getAttribute(n)||"";d=e+d;var _=r.get(d);_?_.push(f):r.set(d,[f])}}return r}function Wg(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function $1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Zg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eS(e,n,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Gs(r.href),f=n.querySelector(sl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=eo.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,nt(f);return}f=n.ownerDocument||n,r=Fg(r),(c=Wt.get(c))&&mf(r,c),f=f.createElement("link"),nt(f);var d=f;d._p=new Promise(function(_,v){d.onload=_,d.onerror=v}),ut(f,"link",r),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=eo.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var gf=0;function tS(e,n){return e.stylesheets&&e.count===0&&no(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var r=setTimeout(function(){if(e.stylesheets&&no(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&gf===0&&(gf=62500*L1());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&no(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>gf?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function eo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)no(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var to=null;function no(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,to=new Map,n.forEach(nS,e),to=null,eo.call(e))}function nS(e,n){if(!(n.state.loading&4)){var s=to.get(e);if(s)var r=s.get(null);else{s=new Map,to.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var d=c[f];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(s.set(d.dataset.precedence,d),r=d)}r&&s.set(null,r)}c=n.instance,d=c.getAttribute("data-precedence"),f=s.get(d)||r,f===r&&s.set(null,c),s.set(d,c),this.count++,r=eo.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var ll={$$typeof:W,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function iS(e,n,s,r,c,f,d,_,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uc(0),this.hiddenUpdates=uc(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Jg(e,n,s,r,c,f,d,_,v,A,O,I){return e=new iS(e,n,s,d,v,A,O,I,_),n=1,f===!0&&(n|=24),f=kt(3,null,null,n),e.current=f,f.stateNode=e,n=Kc(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:r,isDehydrated:s,cache:n},Jc(f),e}function $g(e){return e?(e=Ss,e):Ss}function e_(e,n,s,r,c,f){c=$g(c),r.context===null?r.context=c:r.pendingContext=c,r=$n(n),r.payload={element:s},f=f===void 0?null:f,f!==null&&(r.callback=f),s=ei(e,r,n),s!==null&&(At(s,e,n),ja(s,e,n))}function t_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function _f(e,n){t_(e,n),(e=e.alternate)&&t_(e,n)}function n_(e){if(e.tag===13||e.tag===31){var n=Ui(e,67108864);n!==null&&At(n,e,67108864),_f(e,67108864)}}function i_(e){if(e.tag===13||e.tag===31){var n=Ht();n=fc(n);var s=Ui(e,n);s!==null&&At(s,e,n),_f(e,n)}}var io=!0;function sS(e,n,s,r){var c=D.T;D.T=null;var f=B.p;try{B.p=2,yf(e,n,s,r)}finally{B.p=f,D.T=c}}function aS(e,n,s,r){var c=D.T;D.T=null;var f=B.p;try{B.p=8,yf(e,n,s,r)}finally{B.p=f,D.T=c}}function yf(e,n,s,r){if(io){var c=vf(r);if(c===null)sf(e,n,r,so,s),a_(e,r);else if(rS(c,e,n,s,r))r.stopPropagation();else if(a_(e,r),n&4&&-1<lS.indexOf(e)){for(;c!==null;){var f=us(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var d=Di(f.pendingLanes);if(d!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;d;){var v=1<<31-Mt(d);_.entanglements[1]|=v,d&=~v}dn(f),(ye&6)===0&&(Br=Ot()+500,el(0))}}break;case 31:case 13:_=Ui(f,2),_!==null&&At(_,f,2),Vr(),_f(f,2)}if(f=vf(r),f===null&&sf(e,n,r,so,s),f===c)break;c=f}c!==null&&r.stopPropagation()}else sf(e,n,r,null,s)}}function vf(e){return e=bc(e),bf(e)}var so=null;function bf(e){if(so=null,e=cs(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=h(n),e!==null)return e;e=null}else if(s===31){if(e=m(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return so=e,null}function s_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Y0()){case hd:return 2;case dd:return 8;case Fl:case Q0:return 32;case md:return 268435456;default:return 32}default:return 32}}var Sf=!1,fi=null,hi=null,di=null,rl=new Map,ol=new Map,mi=[],lS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a_(e,n){switch(e){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(n.pointerId)}}function cl(e,n,s,r,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:f,targetContainers:[c]},n!==null&&(n=us(n),n!==null&&n_(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function rS(e,n,s,r,c){switch(n){case"focusin":return fi=cl(fi,e,n,s,r,c),!0;case"dragenter":return hi=cl(hi,e,n,s,r,c),!0;case"mouseover":return di=cl(di,e,n,s,r,c),!0;case"pointerover":var f=c.pointerId;return rl.set(f,cl(rl.get(f)||null,e,n,s,r,c)),!0;case"gotpointercapture":return f=c.pointerId,ol.set(f,cl(ol.get(f)||null,e,n,s,r,c)),!0}return!1}function l_(e){var n=cs(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){e.blockedOn=n,bd(e.priority,function(){i_(s)});return}}else if(n===31){if(n=m(s),n!==null){e.blockedOn=n,bd(e.priority,function(){i_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ao(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=vf(e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);vc=r,s.target.dispatchEvent(r),vc=null}else return n=us(s),n!==null&&n_(n),e.blockedOn=s,!1;n.shift()}return!0}function r_(e,n,s){ao(e)&&s.delete(n)}function oS(){Sf=!1,fi!==null&&ao(fi)&&(fi=null),hi!==null&&ao(hi)&&(hi=null),di!==null&&ao(di)&&(di=null),rl.forEach(r_),ol.forEach(r_)}function lo(e,n){e.blockedOn===n&&(e.blockedOn=null,Sf||(Sf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,oS)))}var ro=null;function o_(e){ro!==e&&(ro=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ro===e&&(ro=null);for(var n=0;n<e.length;n+=3){var s=e[n],r=e[n+1],c=e[n+2];if(typeof r!="function"){if(bf(r||s)===null)continue;break}var f=us(s);f!==null&&(e.splice(n,3),n-=3,yu(f,{pending:!0,data:c,method:s.method,action:r},r,c))}}))}function Ys(e){function n(v){return lo(v,e)}fi!==null&&lo(fi,e),hi!==null&&lo(hi,e),di!==null&&lo(di,e),rl.forEach(n),ol.forEach(n);for(var s=0;s<mi.length;s++){var r=mi[s];r.blockedOn===e&&(r.blockedOn=null)}for(;0<mi.length&&(s=mi[0],s.blockedOn===null);)l_(s),s.blockedOn===null&&mi.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var c=s[r],f=s[r+1],d=c[St]||null;if(typeof f=="function")d||o_(s);else if(d){var _=null;if(f&&f.hasAttribute("formAction")){if(c=f,d=f[St]||null)_=d.formAction;else if(bf(c)!==null)continue}else _=d.action;typeof _=="function"?s[r+1]=_:(s.splice(r,3),r-=3),o_(s)}}}function c_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(d){return c=d})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Ef(e){this._internalRoot=e}oo.prototype.render=Ef.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var s=n.current,r=Ht();e_(s,r,e,n,null,null)},oo.prototype.unmount=Ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e_(e.current,2,null,e,null,null),Vr(),n[os]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var n=vd();e={blockedOn:null,target:e,priority:n};for(var s=0;s<mi.length&&n!==0&&n<mi[s].priority;s++);mi.splice(s,0,e),s===0&&l_(e)}};var u_=t.version;if(u_!=="19.2.4")throw Error(l(527,u_,"19.2.4"));B.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=g(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var cS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{ya=co.inject(cS),Dt=co}catch{}}return fl.createRoot=function(e,n){if(!o(e))throw Error(l(299));var s=!1,r="",c=_p,f=yp,d=vp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Jg(e,1,!1,null,null,s,r,null,c,f,d,c_),e[os]=n.current,nf(e),new Ef(n)},fl.hydrateRoot=function(e,n,s){if(!o(e))throw Error(l(299));var r=!1,c="",f=_p,d=yp,_=vp,v=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.formState!==void 0&&(v=s.formState)),n=Jg(e,1,!0,n,s??null,r,c,v,f,d,_,c_),n.context=$g(null),s=n.current,r=Ht(),r=fc(r),c=$n(r),c.callback=null,ei(s,c,r),s=r,n.current.lanes=s,ba(n,s),dn(n),e[os]=n.current,nf(e),new oo(n)},fl.version="19.2.4",fl}var b_;function bS(){if(b_)return wf.exports;b_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),wf.exports=vS(),wf.exports}var SS=bS();const ES=Oy(SS),Hn=({id:a,username:t,className:i=""})=>{const l=`https://robohash.org/${a}`;return S.jsx("div",{className:`shrink-0 overflow-hidden bg-slate-50 flex items-center justify-center rounded-full border-2 border-slate-100 ${i}`,children:S.jsx("img",{src:l,alt:t,className:"w-full h-full object-cover",loading:"lazy",onError:o=>{const u=o.target;u.style.display="none";const h=t.substring(0,1).toUpperCase();u.parentElement.innerHTML=`<span class="font-black text-slate-400 uppercase">${h}</span>`}})})},TS=a=>{const t=Math.floor((Date.now()-a)/1e3);if(t<60)return"Just now";const i=Math.floor(t/60);if(i<60)return`${i}m`;const l=Math.floor(i/60);if(l<24)return`${l}h`;const o=Math.floor(l/24);return o<7?`${o}d`:new Date(a).toLocaleDateString([],{month:"short",day:"numeric"})},CS=a=>btoa(unescape(encodeURIComponent(a))),wS=a=>{try{return decodeURIComponent(escape(atob(a)))}catch{return"[Encrypted Message]"}},xS=(a,t)=>{let i="";for(let l=0;l<a.length;l++){const o=a.charCodeAt(l)^t.charCodeAt(l%t.length);i+=String.fromCharCode(o)}return CS(i)},Dy=(a,t)=>{const i=wS(a);if(i==="[Encrypted Message]")return i;let l="";for(let o=0;o<i.length;o++){const u=i.charCodeAt(o)^t.charCodeAt(o%t.length);l+=String.fromCharCode(u)}return l},S_=({contacts:a,onChatClick:t,onPinChat:i,onRemoveChat:l,onProfileClick:o,activeContactId:u,isMobile:h})=>{var U;const[m,p]=oe.useState(null),g=oe.useRef(null);oe.useEffect(()=>{const z=()=>p(null);return window.addEventListener("click",z),()=>window.removeEventListener("click",z)},[]);const b=(z,Q)=>{z.preventDefault(),p({x:z.clientX,y:z.clientY,contactId:Q})},y=(z,Q)=>{const he=Q.touches[0],be=he.clientX,W=he.clientY;g.current=setTimeout(()=>{p({x:be,y:W,contactId:z}),navigator.vibrate&&navigator.vibrate(50)},500)},E=()=>{g.current&&(clearTimeout(g.current),g.current=null)},L=z=>{if(!z.lastMessage)return z.id.substring(0,16)+"...";let Q=z.lastMessage;return!Q.startsWith("EMOJI:")&&!Q.startsWith("STICKER:")?Q=Dy(Q,z.hashingKey):Q.startsWith("EMOJI:")&&(Q="Sent a sticker"),Q};return S.jsxs("div",{className:`flex flex-col ${h?"p-3":"gap-2"}`,children:[!h&&S.jsxs("div",{className:"flex items-center justify-between px-3 mb-2",children:[S.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Recent Chats"}),S.jsx("span",{className:"bg-slate-200 text-slate-500 text-[9px] font-black px-2 py-0.5 rounded-none uppercase",children:a.length})]}),a.map(z=>S.jsx("div",{className:"relative",children:S.jsxs("button",{onClick:()=>t(z),onContextMenu:Q=>b(Q,z.id),onTouchStart:Q=>y(z.id,Q),onTouchEnd:E,onTouchMove:E,className:`group w-full flex items-center gap-4 p-4 rounded-full transition-all relative ${u===z.id&&!h?"bg-slate-900 text-white shadow-none":"bg-white hover:bg-slate-200 text-slate-600 border-none"} ${z.pinned?"border-2 border-slate-900/10":""}`,children:[S.jsxs("div",{className:"relative shrink-0 cursor-pointer",onClick:Q=>{Q.stopPropagation(),o(z)},children:[S.jsx(Hn,{id:z.id,username:z.username,avatar:z.avatar,className:h?"w-14 h-14":"w-11 h-11"}),z.pinned&&S.jsx("div",{className:"absolute -top-1 -right-1 bg-slate-900 text-white text-[8px] p-1 rounded-full border border-white",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-2 w-2",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"})})})]}),S.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[S.jsxs("div",{className:"flex justify-between items-baseline mb-0.5",children:[S.jsx("p",{className:`text-base font-black truncate ${u===z.id&&!h?"text-white":"text-slate-900"}`,children:z.username}),z.lastTimestamp&&S.jsx("span",{className:`text-[10px] font-black uppercase tracking-tighter shrink-0 ml-2 ${u===z.id&&!h?"text-white/50":"text-slate-400"}`,children:TS(z.lastTimestamp)})]}),S.jsx("p",{className:`text-xs font-bold truncate opacity-80 ${u===z.id&&!h?"text-white/60":"text-slate-400"}`,children:L(z)})]})]})},z.id)),a.length===0&&S.jsxs("div",{className:`py-20 text-center ${h?"px-8":"px-4"}`,children:[S.jsx("div",{className:"inline-flex w-16 h-16 bg-slate-100 items-center justify-center mb-6",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),S.jsx("p",{className:"text-sm text-slate-400 font-black leading-relaxed uppercase tracking-widest max-w-[180px] mx-auto opacity-60",children:"No contacts"})]}),m&&S.jsxs("div",{className:"fixed z-50 min-w-[160px] bg-white rounded-xl shadow-xl py-2 flex flex-col overflow-hidden animate-in fade-in zoom-in-95 duration-200 border border-slate-100",style:{left:Math.min(m.x,window.innerWidth-170),top:Math.min(m.y,window.innerHeight-100)},onClick:z=>z.stopPropagation(),children:[S.jsx("div",{className:"px-4 py-2 border-b border-slate-50 mb-1",children:S.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Options"})}),S.jsxs("button",{onClick:()=>{i(m.contactId),p(null)},className:"w-full text-left px-4 py-3 hover:bg-slate-50 text-sm font-bold text-slate-700 flex items-center gap-3 transition-colors border-none",children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),(U=a.find(z=>z.id===m.contactId))!=null&&U.pinned?"Unpin Chat":"Pin Chat"]}),S.jsxs("button",{onClick:()=>{l(m.contactId),p(null)},className:"w-full text-left px-4 py-3 hover:bg-red-50 text-sm font-bold text-red-600 flex items-center gap-3 transition-colors border-none",children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Remove Chat"]})]})]})},AS=()=>{};var E_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(a,t){if(!a)throw ca(t)},ca=function(a){return new Error("Firebase Database ("+My.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=function(a){const t=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&l+1<a.length&&(a.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++l)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},NS=function(a){const t=[];let i=0,l=0;for(;i<a.length;){const o=a[i++];if(o<128)t[l++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[i++];t[l++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[i++],h=a[i++],m=a[i++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[l++]=String.fromCharCode(55296+(p>>10)),t[l++]=String.fromCharCode(56320+(p&1023))}else{const u=a[i++],h=a[i++];t[l++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},mh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<a.length;o+=3){const u=a[o],h=o+1<a.length,m=h?a[o+1]:0,p=o+2<a.length,g=p?a[o+2]:0,b=u>>2,y=(u&3)<<4|m>>4;let E=(m&15)<<2|g>>6,L=g&63;p||(L=64,h||(E=64)),l.push(i[b],i[y],i[E],i[L])}return l.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Iy(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):NS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<a.length;){const u=i[a.charAt(o++)],m=o<a.length?i[a.charAt(o)]:0;++o;const g=o<a.length?i[a.charAt(o)]:64;++o;const y=o<a.length?i[a.charAt(o)]:64;if(++o,u==null||m==null||g==null||y==null)throw new RS;const E=u<<2|m>>4;if(l.push(E),g!==64){const L=m<<4&240|g>>2;if(l.push(L),y!==64){const U=g<<6&192|y;l.push(U)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class RS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ky=function(a){const t=Iy(a);return mh.encodeByteArray(t,!0)},vo=function(a){return ky(a).replace(/\./g,"")},bo=function(a){try{return mh.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(a){return Ly(void 0,a)}function Ly(a,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!DS(i)||(a[i]=Ly(a[i],t[i]));return a}function DS(a){return a!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=()=>MS().__FIREBASE_DEFAULTS__,kS=()=>{if(typeof process>"u"||typeof E_>"u")return;const a=E_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},LS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&bo(a[1]);return t&&JSON.parse(t)},ph=()=>{try{return AS()||IS()||kS()||LS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Uy=a=>{var t,i;return(i=(t=ph())==null?void 0:t.emulatorHosts)==null?void 0:i[a]},US=a=>{const t=Uy(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const l=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),l]:[t.substring(0,i),l]},zy=()=>{var a;return(a=ph())==null?void 0:a.config},jy=a=>{var t;return(t=ph())==null?void 0:t[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,l)=>{i?this.reject(i):this.resolve(l),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hy(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},l=t||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${l}`,aud:l,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[vo(JSON.stringify(i)),vo(JSON.stringify(h)),""].join(".")}const gl={};function jS(){const a={prod:[],emulator:[]};for(const t of Object.keys(gl))gl[t]?a.emulator.push(t):a.prod.push(t);return a}function HS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let T_=!1;function By(a,t){if(typeof window>"u"||typeof document>"u"||!ua(window.location.host)||gl[a]===t||gl[a]||T_)return;gl[a]=t;function i(E){return`__firebase__banner__${E}`}const l="__firebase__banner",u=jS().prod.length>0;function h(){const E=document.getElementById(l);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,L){E.setAttribute("width","24"),E.setAttribute("id",L),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{T_=!0,h()},E}function b(E,L){E.setAttribute("id",L),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function y(){const E=HS(l),L=i("text"),U=document.getElementById(L)||document.createElement("span"),z=i("learnmore"),Q=document.getElementById(z)||document.createElement("a"),he=i("preprendIcon"),be=document.getElementById(he)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const W=E.element;m(W),b(Q,z);const _e=g();p(be,he),W.append(be,U,Q,_e),document.body.appendChild(W)}u?(U.innerText="Preview backend disconnected.",be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function BS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function qy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VS(){const a=vt();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function GS(){return My.NODE_ADMIN===!0}function PS(){try{return typeof indexedDB=="object"}catch{return!1}}function YS(){return new Promise((a,t)=>{try{let i=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(l),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="FirebaseError";class Ri extends Error{constructor(t,i,l){super(i),this.code=t,this.customData=l,this.name=QS,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,i,l){this.service=t,this.serviceName=i,this.errors=l}create(t,...i){const l=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?FS(u,l):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Ri(o,m,l)}}function FS(a,t){return a.replace(KS,(i,l)=>{const o=t[l];return o!=null?String(o):`<${l}?>`})}const KS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(a){return JSON.parse(a)}function tt(a){return JSON.stringify(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=function(a){let t={},i={},l={},o="";try{const u=a.split(".");t=Tl(bo(u[0])||""),i=Tl(bo(u[1])||""),o=u[2],l=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:l,signature:o}},XS=function(a){const t=Vy(a),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},WS=function(a){const t=Vy(a).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(a,t){return Object.prototype.hasOwnProperty.call(a,t)}function ta(a,t){if(Object.prototype.hasOwnProperty.call(a,t))return a[t]}function Gf(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function So(a,t,i){const l={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(l[o]=t.call(i,a[o],o,a));return l}function es(a,t){if(a===t)return!0;const i=Object.keys(a),l=Object.keys(t);for(const o of i){if(!l.includes(o))return!1;const u=a[o],h=t[o];if(C_(u)&&C_(h)){if(!es(u,h))return!1}else if(u!==h)return!1}for(const o of l)if(!i.includes(o))return!1;return!0}function C_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(a){const t=[];for(const[i,l]of Object.entries(a))Array.isArray(l)?l.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(l));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const l=this.W_;if(typeof t=="string")for(let y=0;y<16;y++)l[y]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)l[y]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let y=16;y<80;y++){const E=l[y-3]^l[y-8]^l[y-14]^l[y-16];l[y]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],h=this.chain_[2],m=this.chain_[3],p=this.chain_[4],g,b;for(let y=0;y<80;y++){y<40?y<20?(g=m^u&(h^m),b=1518500249):(g=u^h^m,b=1859775393):y<60?(g=u&h|m&(u|h),b=2400959708):(g=u^h^m,b=3395469782);const E=(o<<5|o>>>27)+g+p+b+l[y]&4294967295;p=m,m=h,h=(u<<30|u>>>2)&4294967295,u=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const l=i-this.blockSize;let o=0;const u=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=l;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(u[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}else for(;o<i;)if(u[h]=t[o],++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let l=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)t[l]=this.chain_[o]>>u&255,++l;return t}}function JS(a,t){const i=new $S(a,t);return i.subscribe.bind(i)}class $S{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(l=>{this.error(l)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,l){let o;if(t===void 0&&i===void 0&&l===void 0)throw new Error("Missing Observer.");eE(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:l},o.next===void 0&&(o.next=Rf),o.error===void 0&&(o.error=Rf),o.complete===void 0&&(o.complete=Rf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eE(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Rf(){}function Vo(a,t){return`${a} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=function(a){const t=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);if(o>=55296&&o<=56319){const u=o-55296;l++,j(l<a.length,"Surrogate pair missing trail surrogate.");const h=a.charCodeAt(l)-56320;o=65536+(u<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Go=function(a){let t=0;for(let i=0;i<a.length;i++){const l=a.charCodeAt(i);l<128?t++:l<2048?t+=2:l>=55296&&l<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(a){return a&&a._delegate?a._delegate:a}class ts{constructor(t,i,l){this.name=t,this.instanceFactory=i,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const l=new Ll;if(this.instancesDeferred.set(i,l),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&l.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(t==null?void 0:t.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(l)return null;throw o}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(sE(t))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});l.resolve(u)}catch{}}}}clearInstance(t=Xi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xi){return this.instances.has(t)}getOptions(t=Xi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,l=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:i});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);l===m&&h.resolve(o)}return o}onInit(t,i){const l=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(l)??new Set;o.add(t),this.onInitCallbacks.set(l,o);const u=this.instances.get(l);return u&&t(u,l),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const l=this.onInitCallbacks.get(i);if(l)for(const o of l)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let l=this.instances.get(t);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:iE(t),options:i}),this.instances.set(t,l),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(l,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,l)}catch{}return l||null}normalizeInstanceIdentifier(t=Xi){return this.component?this.component.multipleInstances?t:Xi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iE(a){return a===Xi?void 0:a}function sE(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new nE(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ne||(Ne={}));const lE={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},rE=Ne.INFO,oE={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},cE=(a,t,...i)=>{if(t<a.logLevel)return;const l=new Date().toISOString(),o=oE[t];if(o)console[o](`[${l}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _h{constructor(t){this.name=t,this._logLevel=rE,this._logHandler=cE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?lE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...t),this._logHandler(this,Ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...t),this._logHandler(this,Ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...t),this._logHandler(this,Ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...t),this._logHandler(this,Ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...t),this._logHandler(this,Ne.ERROR,...t)}}const uE=(a,t)=>t.some(i=>a instanceof i);let w_,x_;function fE(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hE(){return x_||(x_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gy=new WeakMap,Pf=new WeakMap,Py=new WeakMap,Of=new WeakMap,yh=new WeakMap;function dE(a){const t=new Promise((i,l)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",h)},u=()=>{i(Si(a.result)),o()},h=()=>{l(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&Gy.set(i,a)}).catch(()=>{}),yh.set(t,a),t}function mE(a){if(Pf.has(a))return;const t=new Promise((i,l)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",h),a.removeEventListener("abort",h)},u=()=>{i(),o()},h=()=>{l(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",h),a.addEventListener("abort",h)});Pf.set(a,t)}let Yf={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Pf.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Py.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Si(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function pE(a){Yf=a(Yf)}function gE(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const l=a.call(Df(this),t,...i);return Py.set(l,t.sort?t.sort():[t]),Si(l)}:hE().includes(a)?function(...t){return a.apply(Df(this),t),Si(Gy.get(this))}:function(...t){return Si(a.apply(Df(this),t))}}function _E(a){return typeof a=="function"?gE(a):(a instanceof IDBTransaction&&mE(a),uE(a,fE())?new Proxy(a,Yf):a)}function Si(a){if(a instanceof IDBRequest)return dE(a);if(Of.has(a))return Of.get(a);const t=_E(a);return t!==a&&(Of.set(a,t),yh.set(t,a)),t}const Df=a=>yh.get(a);function yE(a,t,{blocked:i,upgrade:l,blocking:o,terminated:u}={}){const h=indexedDB.open(a,t),m=Si(h);return l&&h.addEventListener("upgradeneeded",p=>{l(Si(h.result),p.oldVersion,p.newVersion,Si(h.transaction),p)}),i&&h.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const vE=["get","getKey","getAll","getAllKeys","count"],bE=["put","add","delete","clear"],Mf=new Map;function A_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Mf.get(t))return Mf.get(t);const i=t.replace(/FromIndex$/,""),l=t!==i,o=bE.includes(i);if(!(i in(l?IDBIndex:IDBObjectStore).prototype)||!(o||vE.includes(i)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return l&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&p.done]))[0]};return Mf.set(t,u),u}pE(a=>({...a,get:(t,i,l)=>A_(t,i)||a.get(t,i,l),has:(t,i)=>!!A_(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(EE(i)){const l=i.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(i=>i).join(" ")}}function EE(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Qf="@firebase/app",N_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn=new _h("@firebase/app"),TE="@firebase/app-compat",CE="@firebase/analytics-compat",wE="@firebase/analytics",xE="@firebase/app-check-compat",AE="@firebase/app-check",NE="@firebase/auth",RE="@firebase/auth-compat",OE="@firebase/database",DE="@firebase/data-connect",ME="@firebase/database-compat",IE="@firebase/functions",kE="@firebase/functions-compat",LE="@firebase/installations",UE="@firebase/installations-compat",zE="@firebase/messaging",jE="@firebase/messaging-compat",HE="@firebase/performance",BE="@firebase/performance-compat",qE="@firebase/remote-config",VE="@firebase/remote-config-compat",GE="@firebase/storage",PE="@firebase/storage-compat",YE="@firebase/firestore",QE="@firebase/ai",FE="@firebase/firestore-compat",KE="firebase",XE="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="[DEFAULT]",WE={[Qf]:"fire-core",[TE]:"fire-core-compat",[wE]:"fire-analytics",[CE]:"fire-analytics-compat",[AE]:"fire-app-check",[xE]:"fire-app-check-compat",[NE]:"fire-auth",[RE]:"fire-auth-compat",[OE]:"fire-rtdb",[DE]:"fire-data-connect",[ME]:"fire-rtdb-compat",[IE]:"fire-fn",[kE]:"fire-fn-compat",[LE]:"fire-iid",[UE]:"fire-iid-compat",[zE]:"fire-fcm",[jE]:"fire-fcm-compat",[HE]:"fire-perf",[BE]:"fire-perf-compat",[qE]:"fire-rc",[VE]:"fire-rc-compat",[GE]:"fire-gcs",[PE]:"fire-gcs-compat",[YE]:"fire-fst",[FE]:"fire-fst-compat",[QE]:"fire-vertex","fire-js":"fire-js",[KE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new Map,ZE=new Map,Kf=new Map;function R_(a,t){try{a.container.addComponent(t)}catch(i){qn.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function na(a){const t=a.name;if(Kf.has(t))return qn.debug(`There were multiple attempts to register component ${t}.`),!1;Kf.set(t,a);for(const i of Eo.values())R_(i,a);for(const i of ZE.values())R_(i,a);return!0}function vh(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function sn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new Ul("app","Firebase",JE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t,i,l){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=XE;function Yy(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const l={name:Ff,automaticDataCollectionEnabled:!0,...t},o=l.name;if(typeof o!="string"||!o)throw Ei.create("bad-app-name",{appName:String(o)});if(i||(i=zy()),!i)throw Ei.create("no-options");const u=Eo.get(o);if(u){if(es(i,u.options)&&es(l,u.config))return u;throw Ei.create("duplicate-app",{appName:o})}const h=new aE(o);for(const p of Kf.values())h.addComponent(p);const m=new $E(i,l,h);return Eo.set(o,m),m}function Qy(a=Ff){const t=Eo.get(a);if(!t&&a===Ff&&zy())return Yy();if(!t)throw Ei.create("no-app",{appName:a});return t}function Ti(a,t,i){let l=WE[a]??a;i&&(l+=`-${i}`);const o=l.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${l}" with version "${t}":`];o&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qn.warn(h.join(" "));return}na(new ts(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="firebase-heartbeat-database",tT=1,Cl="firebase-heartbeat-store";let If=null;function Fy(){return If||(If=yE(eT,tT,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ei.create("idb-open",{originalErrorMessage:a.message})})),If}async function nT(a){try{const i=(await Fy()).transaction(Cl),l=await i.objectStore(Cl).get(Ky(a));return await i.done,l}catch(t){if(t instanceof Ri)qn.warn(t.message);else{const i=Ei.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qn.warn(i.message)}}}async function O_(a,t){try{const l=(await Fy()).transaction(Cl,"readwrite");await l.objectStore(Cl).put(t,Ky(a)),await l.done}catch(i){if(i instanceof Ri)qn.warn(i.message);else{const l=Ei.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});qn.warn(l.message)}}}function Ky(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=1024,sT=30;class aT{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new rT(i),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=D_();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>sT){const h=oT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(l){qn.warn(l)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=D_(),{heartbeatsToSend:l,unsentEntries:o}=lT(this._heartbeatsCache.heartbeats),u=vo(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return qn.warn(i),""}}}function D_(){return new Date().toISOString().substring(0,10)}function lT(a,t=iT){const i=[];let l=a.slice();for(const o of a){const u=i.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),M_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),M_(i)>t){i.pop();break}l=l.slice(1)}return{heartbeatsToSend:i,unsentEntries:l}}class rT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PS()?YS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await nT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return O_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return O_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function M_(a){return vo(JSON.stringify({version:2,heartbeats:a})).length}function oT(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let l=1;l<a.length;l++)a[l].date<i&&(i=a[l].date,t=l);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(a){na(new ts("platform-logger",t=>new SE(t),"PRIVATE")),na(new ts("heartbeat",t=>new aT(t),"PRIVATE")),Ti(Qf,N_,a),Ti(Qf,N_,"esm2020"),Ti("fire-js","")}cT("");var uT="firebase",fT="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(uT,fT,"app");function Xy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hT=Xy,Wy=new Ul("auth","Firebase",Xy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new _h("@firebase/auth");function dT(a,...t){To.logLevel<=Ne.WARN&&To.warn(`Auth (${ha}): ${a}`,...t)}function mo(a,...t){To.logLevel<=Ne.ERROR&&To.error(`Auth (${ha}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(a,...t){throw Sh(a,...t)}function on(a,...t){return Sh(a,...t)}function bh(a,t,i){const l={...hT(),[t]:i};return new Ul("auth","Firebase",l).create(t,{appName:a.name})}function $i(a){return bh(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mT(a,t,i){const l=i;if(!(t instanceof l))throw l.name!==t.constructor.name&&pn(a,"argument-error"),bh(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sh(a,...t){if(typeof a!="string"){const i=t[0],l=[...t.slice(1)];return l[0]&&(l[0].appName=a.name),a._errorFactory.create(i,...l)}return Wy.create(a,...t)}function J(a,t,...i){if(!a)throw Sh(t,...i)}function Un(a){const t="INTERNAL ASSERTION FAILED: "+a;throw mo(t),new Error(t)}function Vn(a,t){a||Un(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.href)||""}function pT(){return I_()==="http:"||I_()==="https:"}function I_(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pT()||qS()||"connection"in navigator)?navigator.onLine:!0}function _T(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Vn(i>t,"Short delay should be less than long delay!"),this.isMobile=gh()||qy()}get(){return gT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(a,t){Vn(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{static initialize(t,i,l){this.fetchImpl=t,i&&(this.headersImpl=i),l&&(this.responseImpl=l)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bT=new zl(3e4,6e4);function Th(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function da(a,t,i,l,o={}){return Jy(a,o,async()=>{let u={},h={};l&&(t==="GET"?h=l:u={body:JSON.stringify(l)});const m=fa({key:a.config.apiKey,...h}).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const g={method:t,headers:p,...u};return BS()||(g.referrerPolicy="no-referrer"),a.emulatorConfig&&ua(a.emulatorConfig.host)&&(g.credentials="include"),Zy.fetch()(await $y(a,a.config.apiHost,i,m),g)})}async function Jy(a,t,i){a._canInitEmulator=!1;const l={...yT,...t};try{const o=new ET(a),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw uo(a,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw uo(a,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw uo(a,"email-already-in-use",h);if(p==="USER_DISABLED")throw uo(a,"user-disabled",h);const b=l[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw bh(a,b,g);pn(a,b)}}catch(o){if(o instanceof Ri)throw o;pn(a,"network-request-failed",{message:String(o)})}}async function ST(a,t,i,l,o={}){const u=await da(a,t,i,l,o);return"mfaPendingCredential"in u&&pn(a,"multi-factor-auth-required",{_serverResponse:u}),u}async function $y(a,t,i,l){const o=`${t}${i}?${l}`,u=a,h=u.config.emulator?Eh(a.config,o):`${a.config.apiScheme}://${o}`;return vT.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class ET{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,l)=>{this.timer=setTimeout(()=>l(on(this.auth,"network-request-failed")),bT.get())})}}function uo(a,t,i){const l={appName:a.name};i.email&&(l.email=i.email),i.phoneNumber&&(l.phoneNumber=i.phoneNumber);const o=on(a,t,l);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TT(a,t){return da(a,"POST","/v1/accounts:delete",t)}async function Co(a,t){return da(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function CT(a,t=!1){const i=bt(a),l=await i.getIdToken(t),o=Ch(l);J(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:l,authTime:_l(kf(o.auth_time)),issuedAtTime:_l(kf(o.iat)),expirationTime:_l(kf(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function kf(a){return Number(a)*1e3}function Ch(a){const[t,i,l]=a.split(".");if(t===void 0||i===void 0||l===void 0)return mo("JWT malformed, contained fewer than 3 sections"),null;try{const o=bo(i);return o?JSON.parse(o):(mo("Failed to decode base64 JWT payload"),null)}catch(o){return mo("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function k_(a){const t=Ch(a);return J(t,"internal-error"),J(typeof t.exp<"u","internal-error"),J(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(a,t,i=!1){if(i)return t;try{return await t}catch(l){throw l instanceof Ri&&wT(l)&&a.auth.currentUser===a&&await a.auth.signOut(),l}}function wT({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(a){var y;const t=a.auth,i=await a.getIdToken(),l=await wl(a,Co(t,{idToken:i}));J(l==null?void 0:l.users.length,t,"internal-error");const o=l.users[0];a._notifyReloadListener(o);const u=(y=o.providerUserInfo)!=null&&y.length?ev(o.providerUserInfo):[],h=NT(a.providerData,u),m=a.isAnonymous,p=!(a.email&&o.passwordHash)&&!(h!=null&&h.length),g=m?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Wf(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(a,b)}async function AT(a){const t=bt(a);await wo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function NT(a,t){return[...a.filter(l=>!t.some(o=>o.providerId===l.providerId)),...t]}function ev(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RT(a,t){const i=await Jy(a,{},async()=>{const l=fa({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=a.config,h=await $y(a,o,"/v1/token",`key=${u}`),m=await a._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:l};return a.emulatorConfig&&ua(a.emulatorConfig.host)&&(p.credentials="include"),Zy.fetch()(h,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function OT(a,t){return da(a,"POST","/v2/accounts:revokeToken",Th(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){J(t.idToken,"internal-error"),J(typeof t.idToken<"u","internal-error"),J(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):k_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){J(t.length!==0,"internal-error");const i=k_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:l,refreshToken:o,expiresIn:u}=await RT(t,i);this.updateTokensAndExpiration(l,o,Number(u))}updateTokensAndExpiration(t,i,l){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+l*1e3}static fromJSON(t,i){const{refreshToken:l,accessToken:o,expirationTime:u}=i,h=new Ws;return l&&(J(typeof l=="string","internal-error",{appName:t}),h.refreshToken=l),o&&(J(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(J(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ws,this.toJSON())}_performRefresh(){return Un("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(a,t){J(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class ln{constructor({uid:t,auth:i,stsTokenManager:l,...o}){this.providerId="firebase",this.proactiveRefresh=new xT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await wl(this,this.stsTokenManager.getToken(this.auth,t));return J(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return CT(this,t)}reload(){return AT(this)}_assign(t){this!==t&&(J(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ln({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let l=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),l=!0),i&&await wo(this),await this.auth._persistUserIfCurrent(this),l&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sn(this.auth.app))return Promise.reject($i(this.auth));const t=await this.getIdToken();return await wl(this,TT(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const l=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,h=i.photoURL??void 0,m=i.tenantId??void 0,p=i._redirectEventId??void 0,g=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:y,emailVerified:E,isAnonymous:L,providerData:U,stsTokenManager:z}=i;J(y&&z,t,"internal-error");const Q=Ws.fromJSON(this.name,z);J(typeof y=="string",t,"internal-error"),gi(l,t.name),gi(o,t.name),J(typeof E=="boolean",t,"internal-error"),J(typeof L=="boolean",t,"internal-error"),gi(u,t.name),gi(h,t.name),gi(m,t.name),gi(p,t.name),gi(g,t.name),gi(b,t.name);const he=new ln({uid:y,auth:t,email:o,emailVerified:E,displayName:l,isAnonymous:L,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:Q,createdAt:g,lastLoginAt:b});return U&&Array.isArray(U)&&(he.providerData=U.map(be=>({...be}))),p&&(he._redirectEventId=p),he}static async _fromIdTokenResponse(t,i,l=!1){const o=new Ws;o.updateFromServerResponse(i);const u=new ln({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:l});return await wo(u),u}static async _fromGetAccountInfoResponse(t,i,l){const o=i.users[0];J(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ev(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ws;m.updateFromIdToken(l);const p=new ln({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;function zn(a){Vn(a instanceof Function,"Expected a class definition");let t=L_.get(a);return t?(Vn(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,L_.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}tv.type="NONE";const U_=tv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(a,t,i){return`firebase:${a}:${t}:${i}`}class Zs{constructor(t,i,l){this.persistence=t,this.auth=i,this.userKey=l;const{config:o,name:u}=this.auth;this.fullUserKey=po(this.userKey,o.apiKey,u),this.fullPersistenceKey=po("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Co(this.auth,{idToken:t}).catch(()=>{});return i?ln._fromGetAccountInfoResponse(this.auth,i,t):null}return ln._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,l="authUser"){if(!i.length)return new Zs(zn(U_),t,l);const o=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||zn(U_);const h=po(l,t.config.apiKey,t.name);let m=null;for(const g of i)try{const b=await g._get(h);if(b){let y;if(typeof b=="string"){const E=await Co(t,{idToken:b}).catch(()=>{});if(!E)break;y=await ln._fromGetAccountInfoResponse(t,E,b)}else y=ln._fromJSON(t,b);g!==u&&(m=y),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Zs(u,t,l):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(i.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Zs(u,t,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(av(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rv(t))return"Blackberry";if(ov(t))return"Webos";if(iv(t))return"Safari";if((t.includes("chrome/")||sv(t))&&!t.includes("edge/"))return"Chrome";if(lv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,l=a.match(i);if((l==null?void 0:l.length)===2)return l[1]}return"Other"}function nv(a=vt()){return/firefox\//i.test(a)}function iv(a=vt()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sv(a=vt()){return/crios\//i.test(a)}function av(a=vt()){return/iemobile/i.test(a)}function lv(a=vt()){return/android/i.test(a)}function rv(a=vt()){return/blackberry/i.test(a)}function ov(a=vt()){return/webos/i.test(a)}function wh(a=vt()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function DT(a=vt()){var t;return wh(a)&&!!((t=window.navigator)!=null&&t.standalone)}function MT(){return VS()&&document.documentMode===10}function cv(a=vt()){return wh(a)||lv(a)||ov(a)||rv(a)||/windows phone/i.test(a)||av(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(a,t=[]){let i;switch(a){case"Browser":i=z_(vt());break;case"Worker":i=`${z_(vt())}-${a}`;break;default:i=a}const l=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ha}/${l}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const l=u=>new Promise((h,m)=>{try{const p=t(u);h(p)}catch(p){m(p)}});l.onAbort=i,this.queue.push(l);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const l of this.queue)await l(t),l.onAbort&&i.push(l.onAbort)}catch(l){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:l==null?void 0:l.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kT(a,t={}){return da(a,"GET","/v2/passwordPolicy",Th(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=6;class UT{constructor(t){var l;const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??LT,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((l=t.allowedNonAlphanumericCharacters)==null?void 0:l.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const l=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;l&&(i.meetsMinPasswordLength=t.length>=l),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let l;for(let o=0;o<t.length;o++)l=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(t,i,l,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,i,l,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=l,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j_(this),this.idTokenSubscription=new j_(this),this.beforeStateQueue=new IT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=zn(i)),this._initializationPromise=this.queue(async()=>{var l,o,u;if(!this._deleted&&(this.persistenceManager=await Zs.create(this,t),(l=this._resolvePersistenceManagerAvailable)==null||l.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Co(this,{idToken:t}),l=await ln._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(l)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(sn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===m)&&(p!=null&&p.user)&&(l=p.user,o=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(l)}catch(h){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await wo(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_T()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(sn(this.app))return Promise.reject($i(this));const i=t?bt(t):null;return i&&J(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&J(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return sn(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return sn(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await kT(this),i=new UT(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,i,l){return this.registerStateListener(this.authStateSubscription,t,i,l)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,l){return this.registerStateListener(this.idTokenSubscription,t,i,l)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const l=this.onAuthStateChanged(()=>{l(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),l={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(l.tenantId=this.tenantId),await OT(this,l)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,i){const l=await this.getOrInitRedirectPersistenceManager(i);return t===null?l.removeCurrentUser():l.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&zn(t)||this._popupRedirectResolver;J(i,this,"argument-error"),this.redirectPersistenceManager=await Zs.create(this,[zn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,l;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===t?this._currentUser:((l=this.redirectUser)==null?void 0:l._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,l,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,l,o);return()=>{h=!0,p()}}else{const p=t.addObserver(i);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=uv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){var i;if(sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return t!=null&&t.error&&dT(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Po(a){return bt(a)}class j_{constructor(t){this.auth=t,this.observer=null,this.addObserver=JS(i=>this.observer=i)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jT(a){xh=a}function HT(a){return xh.loadJS(a)}function BT(){return xh.gapiScript}function qT(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(a,t){const i=vh(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(es(u,t??{}))return o;pn(o,"already-initialized")}return i.initialize({options:t})}function GT(a,t){const i=(t==null?void 0:t.persistence)||[],l=(Array.isArray(i)?i:[i]).map(zn);t!=null&&t.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(l,t==null?void 0:t.popupRedirectResolver)}function PT(a,t,i){const l=Po(a);J(/^https?:\/\//.test(t),l,"invalid-emulator-scheme");const o=!1,u=fv(t),{host:h,port:m}=YT(t),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},b=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!l._canInitEmulator){J(l.config.emulator&&l.emulatorConfig,l,"emulator-config-failed"),J(es(g,l.config.emulator)&&es(b,l.emulatorConfig),l,"emulator-config-failed");return}l.config.emulator=g,l.emulatorConfig=b,l.settings.appVerificationDisabledForTesting=!0,ua(h)?(Hy(`${u}//${h}${p}`),By("Auth",!0)):QT()}function fv(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function YT(a){const t=fv(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const l=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(l);if(o){const u=o[1];return{host:u,port:H_(l.substr(u.length+1))}}else{const[u,h]=l.split(":");return{host:u,port:H_(h)}}}function H_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function QT(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Un("not implemented")}_getIdTokenResponse(t){return Un("not implemented")}_linkToIdToken(t,i){return Un("not implemented")}_getReauthenticationResolver(t){return Un("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(a,t){return ST(a,"POST","/v1/accounts:signInWithIdp",Th(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="http://localhost";class ns extends hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ns(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):pn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:l,signInMethod:o,...u}=i;if(!l||!o)return null;const h=new ns(l,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return Js(t,i)}_linkToIdToken(t,i){const l=this.buildRequest();return l.idToken=i,Js(t,l)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Js(t,i)}buildRequest(){const t={requestUri:FT,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=fa(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Ah{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends jl{constructor(){super("facebook.com")}static credential(t){return ns._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _i.credential(t.oauthAccessToken)}catch{return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com";_i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ns._fromParams({providerId:Ln.PROVIDER_ID,signInMethod:Ln.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ln.credentialFromTaggedObject(t)}static credentialFromError(t){return Ln.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:l}=t;if(!i&&!l)return null;try{return Ln.credential(i,l)}catch{return null}}}Ln.GOOGLE_SIGN_IN_METHOD="google.com";Ln.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends jl{constructor(){super("github.com")}static credential(t){return ns._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yi.credentialFromTaggedObject(t)}static credentialFromError(t){return yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yi.credential(t.oauthAccessToken)}catch{return null}}}yi.GITHUB_SIGN_IN_METHOD="github.com";yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends jl{constructor(){super("twitter.com")}static credential(t,i){return ns._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return vi.credentialFromTaggedObject(t)}static credentialFromError(t){return vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:l}=t;if(!i||!l)return null;try{return vi.credential(i,l)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,l,o=!1){const u=await ln._fromIdTokenResponse(t,l,o),h=B_(l);return new ia({user:u,providerId:h,_tokenResponse:l,operationType:i})}static async _forOperation(t,i,l){await t._updateTokensIfNecessary(l,!0);const o=B_(l);return new ia({user:t,providerId:o,_tokenResponse:l,operationType:i})}}function B_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Ri{constructor(t,i,l,o){super(i.code,i.message),this.operationType=l,this.user=o,Object.setPrototypeOf(this,xo.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:l}}static _fromErrorAndOperation(t,i,l,o){return new xo(t,i,l,o)}}function dv(a,t,i,l){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?xo._fromErrorAndOperation(a,u,t,l):u})}async function KT(a,t,i=!1){const l=await wl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return ia._forOperation(a,"link",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XT(a,t,i=!1){const{auth:l}=a;if(sn(l.app))return Promise.reject($i(l));const o="reauthenticate";try{const u=await wl(a,dv(l,o,t,a),i);J(u.idToken,l,"internal-error");const h=Ch(u.idToken);J(h,l,"internal-error");const{sub:m}=h;return J(a.uid===m,l,"user-mismatch"),ia._forOperation(a,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&pn(l,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(a,t,i=!1){if(sn(a.app))return Promise.reject($i(a));const l="signIn",o=await dv(a,l,t),u=await ia._fromIdTokenResponse(a,l,o);return i||await a._updateCurrentUser(u.user),u}function ZT(a,t,i,l){return bt(a).onIdTokenChanged(t,i,l)}function JT(a,t,i){return bt(a).beforeAuthStateChanged(t,i)}function $T(a,t,i,l){return bt(a).onAuthStateChanged(t,i,l)}function eC(a){return bt(a).signOut()}const Ao="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Ao,"1"),this.storage.removeItem(Ao),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=1e3,nC=10;class pv extends mv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const l=this.storage.getItem(i),o=this.localCache[i];l!==o&&t(i,o,l)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const l=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(l);!i&&this.localCache[l]===h||this.notifyListeners(l,h)},u=this.storage.getItem(l);MT()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,nC):o()}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,l)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:l}),!0)})},tC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}pv.type="LOCAL";const iC=pv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends mv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}gv.type="SESSION";const _v=gv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const l=new Yo(t);return this.receivers.push(l),l}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:l,eventType:o,data:u}=i.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;i.ports[0].postMessage({status:"ack",eventId:l,eventType:o});const m=Array.from(h).map(async g=>g(i.origin,u)),p=await sC(m);i.ports[0].postMessage({status:"done",eventId:l,eventType:o,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yo.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(a="",t=10){let i="";for(let l=0;l<t;l++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,l=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Nh("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},l);h={messageChannel:o,onMessage(y){const E=y;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(E.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return window}function lC(a){mn().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(){return typeof mn().WorkerGlobalScope<"u"&&typeof mn().importScripts=="function"}async function rC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oC(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)==null?void 0:a.controller)||null}function cC(){return yv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="firebaseLocalStorageDb",uC=1,No="firebaseLocalStorage",bv="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Qo(a,t){return a.transaction([No],t?"readwrite":"readonly").objectStore(No)}function fC(){const a=indexedDB.deleteDatabase(vv);return new Hl(a).toPromise()}function Zf(){const a=indexedDB.open(vv,uC);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const l=a.result;try{l.createObjectStore(No,{keyPath:bv})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const l=a.result;l.objectStoreNames.contains(No)?t(l):(l.close(),await fC(),t(await Zf()))})})}async function q_(a,t,i){const l=Qo(a,!0).put({[bv]:t,value:i});return new Hl(l).toPromise()}async function hC(a,t){const i=Qo(a,!1).get(t),l=await new Hl(i).toPromise();return l===void 0?null:l.value}function V_(a,t){const i=Qo(a,!0).delete(t);return new Hl(i).toPromise()}const dC=800,mC=3;class Sv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zf(),this.db)}async _withRetries(t){let i=0;for(;;)try{const l=await this._openDb();return await t(l)}catch(l){if(i++>mC)throw l;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yo._getInstance(cC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var i,l;if(this.activeServiceWorker=await rC(),!this.activeServiceWorker)return;this.sender=new aC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(i=t[0])!=null&&i.fulfilled&&(l=t[0])!=null&&l.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||oC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Zf();return await q_(t,Ao,"1"),await V_(t,Ao),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(l=>q_(l,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(l=>hC(l,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>V_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Qo(o,!1).getAll();return new Hl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],l=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)l.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!l.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sv.type="LOCAL";const pC=Sv;new zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(a,t){return t?zn(t):(J(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends hv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Js(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Js(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Js(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function gC(a){return WT(a.auth,new Rh(a),a.bypassAuthState)}function _C(a){const{auth:t,user:i}=a;return J(i,t,"internal-error"),XT(i,new Rh(a),a.bypassAuthState)}async function yC(a){const{auth:t,user:i}=a;return J(i,t,"internal-error"),KT(i,new Rh(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(t,i,l,o,u=!1){this.auth=t,this.resolver=l,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(l){this.reject(l)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:l,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:i,sessionId:l,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gC;case"linkViaPopup":case"linkViaRedirect":return yC;case"reauthViaPopup":case"reauthViaRedirect":return _C;default:pn(this.auth,"internal-error")}}resolve(t){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new zl(2e3,1e4);async function bC(a,t,i){if(sn(a.app))return Promise.reject(on(a,"operation-not-supported-in-this-environment"));const l=Po(a);mT(a,t,Ah);const o=Ev(l,i);return new Zi(l,"signInViaPopup",t,o).executeNotNull()}class Zi extends Tv{constructor(t,i,l,o,u){super(t,i,o,u),this.provider=l,this.authWindow=null,this.pollId=null,Zi.currentPopupAction&&Zi.currentPopupAction.cancel(),Zi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return J(t,this.auth,"internal-error"),t}async onExecution(){Vn(this.filter.length===1,"Popup operations only handle one event");const t=Nh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(on(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,l;if((l=(i=this.authWindow)==null?void 0:i.window)!=null&&l.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vC.get())};t()}}Zi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="pendingRedirect",go=new Map;class EC extends Tv{constructor(t,i,l=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,l),this.eventId=null}async execute(){let t=go.get(this.auth._key());if(!t){try{const l=await TC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(l)}catch(i){t=()=>Promise.reject(i)}go.set(this.auth._key(),t)}return this.bypassAuthState||go.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TC(a,t){const i=xC(t),l=wC(a);if(!await l._isAvailable())return!1;const o=await l._get(i)==="true";return await l._remove(i),o}function CC(a,t){go.set(a._key(),t)}function wC(a){return zn(a._redirectPersistence)}function xC(a){return po(SC,a.config.apiKey,a.name)}async function AC(a,t,i=!1){if(sn(a.app))return Promise.reject($i(a));const l=Po(a),o=Ev(l,t),h=await new EC(l,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await l._persistUserIfCurrent(h.user),await l._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=600*1e3;class RC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(l=>{this.isEventForConsumer(t,l)&&(i=!0,this.sendToConsumer(t,l),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!OC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var l;if(t.error&&!Cv(t)){const o=((l=t.error.code)==null?void 0:l.split("auth/")[1])||"internal-error";i.onError(on(this.auth,o))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const l=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&l}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=NC&&this.cachedEventUids.clear(),this.cachedEventUids.has(G_(t))}saveEventToCache(t){this.cachedEventUids.add(G_(t)),this.lastProcessedEventTime=Date.now()}}function G_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function Cv({type:a,error:t}){return a==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function OC(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cv(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(a,t={}){return da(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IC=/^https?/;async function kC(a){if(a.config.emulator)return;const{authorizedDomains:t}=await DC(a);for(const i of t)try{if(LC(i))return}catch{}pn(a,"unauthorized-domain")}function LC(a){const t=Xf(),{protocol:i,hostname:l}=new URL(t);if(a.startsWith("chrome-extension://")){const h=new URL(a);return h.hostname===""&&l===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===l}if(!IC.test(i))return!1;if(MC.test(a))return l===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(l)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new zl(3e4,6e4);function P_(){const a=mn().___jsl;if(a!=null&&a.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function zC(a){return new Promise((t,i)=>{var o,u,h;function l(){P_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{P_(),i(on(a,"network-request-failed"))},timeout:UC.get()})}if((u=(o=mn().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((h=mn().gapi)!=null&&h.load)l();else{const m=qT("iframefcb");return mn()[m]=()=>{gapi.load?l():i(on(a,"network-request-failed"))},HT(`${BT()}?onload=${m}`).catch(p=>i(p))}}).catch(t=>{throw _o=null,t})}let _o=null;function jC(a){return _o=_o||zC(a),_o}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new zl(5e3,15e3),BC="__/auth/iframe",qC="emulator/auth/iframe",VC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PC(a){const t=a.config;J(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Eh(t,qC):`https://${a.config.authDomain}/${BC}`,l={apiKey:t.apiKey,appName:a.name,v:ha},o=GC.get(a.config.apiHost);o&&(l.eid=o);const u=a._getFrameworks();return u.length&&(l.fw=u.join(",")),`${i}?${fa(l).slice(1)}`}async function YC(a){const t=await jC(a),i=mn().gapi;return J(i,a,"internal-error"),t.open({where:document.body,url:PC(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VC,dontclear:!0},l=>new Promise(async(o,u)=>{await l.restyle({setHideOnLeave:!1});const h=on(a,"network-request-failed"),m=mn().setTimeout(()=>{u(h)},HC.get());function p(){mn().clearTimeout(m),o(l)}l.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FC=500,KC=600,XC="_blank",WC="http://localhost";class Y_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZC(a,t,i,l=FC,o=KC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-l)/2,0).toString();let m="";const p={...QC,width:l.toString(),height:o.toString(),top:u,left:h},g=vt().toLowerCase();i&&(m=sv(g)?XC:i),nv(g)&&(t=t||WC,p.scrollbars="yes");const b=Object.entries(p).reduce((E,[L,U])=>`${E}${L}=${U},`,"");if(DT(g)&&m!=="_self")return JC(t||"",m),new Y_(null);const y=window.open(t||"",m,b);J(y,a,"popup-blocked");try{y.focus()}catch{}return new Y_(y)}function JC(a,t){const i=document.createElement("a");i.href=a,i.target=t;const l=document.createEvent("MouseEvent");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="__/auth/handler",ew="emulator/auth/handler",tw=encodeURIComponent("fac");async function Q_(a,t,i,l,o,u){J(a.config.authDomain,a,"auth-domain-config-required"),J(a.config.apiKey,a,"invalid-api-key");const h={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:l,v:ha,eventId:o};if(t instanceof Ah){t.setDefaultLanguage(a.languageCode),h.providerId=t.providerId||"",Gf(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,y]of Object.entries({}))h[b]=y}if(t instanceof jl){const b=t.getScopes().filter(y=>y!=="");b.length>0&&(h.scopes=b.join(","))}a.tenantId&&(h.tid=a.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await a._getAppCheckToken(),g=p?`#${tw}=${encodeURIComponent(p)}`:"";return`${nw(a)}?${fa(m).slice(1)}${g}`}function nw({config:a}){return a.emulator?Eh(a,ew):`https://${a.authDomain}/${$C}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="webStorageSupport";class iw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_v,this._completeRedirectFn=AC,this._overrideRedirectResult=CC}async _openPopup(t,i,l,o){var h;Vn((h=this.eventManagers[t._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await Q_(t,i,l,Xf(),o);return ZC(t,u,Nh())}async _openRedirect(t,i,l,o){await this._originValidation(t);const u=await Q_(t,i,l,Xf(),o);return lC(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(Vn(u,"If manager is not set, promise should be"),u)}const l=this.initAndGetManager(t);return this.eventManagers[i]={promise:l},l.catch(()=>{delete this.eventManagers[i]}),l}async initAndGetManager(t){const i=await YC(t),l=new RC(t);return i.register("authEvent",o=>(J(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:l.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:l},this.iframes[t._key()]=i,l}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Lf,{type:Lf},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[Lf];u!==void 0&&i(!!u),pn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=kC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return cv()||iv()||wh()}}const sw=iw;var F_="@firebase/auth",K_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(l=>{t((l==null?void 0:l.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rw(a){na(new ts("auth",(t,{options:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=l.options;J(h&&!h.includes(":"),"invalid-api-key",{appName:l.name});const p={apiKey:h,authDomain:m,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uv(a)},g=new zT(l,o,u,p);return GT(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,l)=>{t.getProvider("auth-internal").initialize()})),na(new ts("auth-internal",t=>{const i=Po(t.getProvider("auth").getImmediate());return(l=>new aw(l))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(F_,K_,lw(a)),Ti(F_,K_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=300,cw=jy("authIdTokenMaxAge")||ow;let X_=null;const uw=a=>async t=>{const i=t&&await t.getIdTokenResult(),l=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(l&&l>cw)return;const o=i==null?void 0:i.token;X_!==o&&(X_=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function fw(a=Qy()){const t=vh(a,"auth");if(t.isInitialized())return t.getImmediate();const i=VT(a,{popupRedirectResolver:sw,persistence:[pC,iC,_v]}),l=jy("authTokenSyncURL");if(l&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(l,location.origin);if(location.origin===u.origin){const h=uw(u.toString());JT(i,h,()=>h(i.currentUser)),ZT(i,m=>h(m))}}const o=Uy("auth");return o&&PT(i,`http://${o}`),i}function hw(){var a;return((a=document.getElementsByTagName("head"))==null?void 0:a[0])??document}jT({loadJS(a){return new Promise((t,i)=>{const l=document.createElement("script");l.setAttribute("src",a),l.onload=t,l.onerror=o=>{const u=on("internal-error");u.customData=o,i(u)},l.type="text/javascript",l.charset="UTF-8",hw().appendChild(l)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rw("Browser");var W_={};const Z_="@firebase/database",J_="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wv="";function dw(a){wv=a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),tt(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Tl(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return gn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const t=window[a];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new mw(t)}}catch{}return new pw},Ji=xv("localStorage"),gw=xv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new _h("@firebase/database"),_w=(function(){let a=1;return function(){return a++}})(),Av=function(a){const t=tE(a),i=new ZS;i.update(t);const l=i.digest();return mh.encodeByteArray(l)},Bl=function(...a){let t="";for(let i=0;i<a.length;i++){const l=a[i];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?t+=Bl.apply(null,l):typeof l=="object"?t+=tt(l):t+=l,t+=" "}return t};let yl=null,$_=!0;const yw=function(a,t){j(!0,"Can't turn on custom loggers persistently."),$s.logLevel=Ne.VERBOSE,yl=$s.log.bind($s)},ft=function(...a){if($_===!0&&($_=!1,yl===null&&gw.get("logging_enabled")===!0&&yw()),yl){const t=Bl.apply(null,a);yl(t)}},ql=function(a){return function(...t){ft(a,...t)}},Jf=function(...a){const t="FIREBASE INTERNAL ERROR: "+Bl(...a);$s.error(t)},Gn=function(...a){const t=`FIREBASE FATAL ERROR: ${Bl(...a)}`;throw $s.error(t),new Error(t)},yt=function(...a){const t="FIREBASE WARNING: "+Bl(...a);$s.warn(t)},vw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Oh=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},bw=function(a){if(document.readyState==="complete")a();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},sa="[MIN_NAME]",is="[MAX_NAME]",ls=function(a,t){if(a===t)return 0;if(a===sa||t===is)return-1;if(t===sa||a===is)return 1;{const i=ey(a),l=ey(t);return i!==null?l!==null?i-l===0?a.length-t.length:i-l:-1:l!==null?1:a<t?-1:1}},Sw=function(a,t){return a===t?0:a<t?-1:1},hl=function(a,t){if(t&&a in t)return t[a];throw new Error("Missing required key ("+a+") in object: "+tt(t))},Dh=function(a){if(typeof a!="object"||a===null)return tt(a);const t=[];for(const l in a)t.push(l);t.sort();let i="{";for(let l=0;l<t.length;l++)l!==0&&(i+=","),i+=tt(t[l]),i+=":",i+=Dh(a[t[l]]);return i+="}",i},Nv=function(a,t){const i=a.length;if(i<=t)return[a];const l=[];for(let o=0;o<i;o+=t)o+t>i?l.push(a.substring(o,i)):l.push(a.substring(o,o+t));return l};function ht(a,t){for(const i in a)a.hasOwnProperty(i)&&t(i,a[i])}const Rv=function(a){j(!Oh(a),"Invalid JSON number");const t=11,i=52,l=(1<<t-1)-1;let o,u,h,m,p;a===0?(u=0,h=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-l)?(m=Math.min(Math.floor(Math.log(a)/Math.LN2),l),u=m+l,h=Math.round(a*Math.pow(2,i-m)-Math.pow(2,i))):(u=0,h=Math.round(a/Math.pow(2,1-l-i))));const g=[];for(p=i;p;p-=1)g.push(h%2?1:0),h=Math.floor(h/2);for(p=t;p;p-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(o?1:0),g.reverse();const b=g.join("");let y="";for(p=0;p<64;p+=8){let E=parseInt(b.substr(p,8),2).toString(16);E.length===1&&(E="0"+E),y=y+E}return y.toLowerCase()},Ew=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Tw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Cw(a,t){let i="Unknown Error";a==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?i="Client doesn't have permission to access the desired data.":a==="unavailable"&&(i="The service is unavailable");const l=new Error(a+" at "+t._path.toString()+": "+i);return l.code=a.toUpperCase(),l}const ww=new RegExp("^-?(0*)\\d{1,10}$"),xw=-2147483648,Aw=2147483647,ey=function(a){if(ww.test(a)){const t=Number(a);if(t>=xw&&t<=Aw)return t}return null},ma=function(a){try{a()}catch(t){setTimeout(()=>{const i=t.stack||"";throw yt("Exception was thrown by user callback.",i),t},Math.floor(0))}},Nw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},vl=function(a,t){const i=setTimeout(a,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,sn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(l=>this.appCheck=l)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,l)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){var i;(i=this.appCheckProvider)==null||i.get().then(l=>l.addTokenListener(t))}notifyForInvalidToken(){yt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,i,l){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,l)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yt(t)}}class yo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}yo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="5",Ov="v",Dv="s",Mv="r",Iv="f",kv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Lv="ls",Uv="p",$f="ac",zv="websocket",jv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(t,i,l,o,u=!1,h="",m=!1,p=!1,g=null){this.secure=i,this.namespace=l,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ji.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ji.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function Dw(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function Bv(a,t,i){j(typeof t=="string","typeof type must == string"),j(typeof i=="object","typeof params must == object");let l;if(t===zv)l=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(t===jv)l=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Dw(a)&&(i.ns=a.namespace);const o=[];return ht(i,(u,h)=>{o.push(u+"="+h)}),l+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.counters_={}}incrementCounter(t,i=1){gn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return OS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf={},zf={};function Ih(a){const t=a.toString();return Uf[t]||(Uf[t]=new Mw),Uf[t]}function Iw(a,t){const i=a.toString();return zf[i]||(zf[i]=t()),zf[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<l.length;++o)l[o]&&ma(()=>{this.onMessage_(l[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="start",Lw="close",Uw="pLPCommand",zw="pRTLPCB",qv="id",Vv="pw",Gv="ser",jw="cb",Hw="seg",Bw="ts",qw="d",Vw="dframe",Pv=1870,Yv=30,Gw=Pv-Yv,Pw=25e3,Yw=3e4;class Xs{constructor(t,i,l,o,u,h,m){this.connId=t,this.repoInfo=i,this.applicationId=l,this.appCheckToken=o,this.authToken=u,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ql(t),this.stats_=Ih(i),this.urlFn=p=>(this.appCheckToken&&(p[$f]=this.appCheckToken),Bv(i,jv,p))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new kw(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Yw)),bw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kh((...u)=>{const[h,m,p,g,b]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===ty)this.id=m,this.password=p;else if(h===Lw)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...u)=>{const[h,m]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const l={};l[ty]="t",l[Gv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[jw]=this.scriptTagHolder.uniqueCallbackIdentifier),l[Ov]=Mh,this.transportSessionId&&(l[Dv]=this.transportSessionId),this.lastSessionId&&(l[Lv]=this.lastSessionId),this.applicationId&&(l[Uv]=this.applicationId),this.appCheckToken&&(l[$f]=this.appCheckToken),typeof location<"u"&&location.hostname&&kv.test(location.hostname)&&(l[Mv]=Iv);const o=this.urlFn(l);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xs.forceAllow_=!0}static forceDisallow(){Xs.forceDisallow_=!0}static isAvailable(){return Xs.forceAllow_?!0:!Xs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ew()&&!Tw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=tt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=ky(i),o=Nv(l,Gw);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const l={};l[Vw]="t",l[qv]=t,l[Vv]=i,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=tt(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class kh{constructor(t,i,l,o){this.onDisconnect=l,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_w(),window[Uw+this.uniqueCallbackIdentifier]=t,window[zw+this.uniqueCallbackIdentifier]=i,this.myIFrame=kh.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){ft("frame writing exception"),m.stack&&ft(m.stack),ft(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ft("No IE domain setting required")}catch{const l=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[qv]=this.myID,t[Vv]=this.myPW,t[Gv]=this.currentSerial;let i=this.urlFn(t),l="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Yv+l.length<=Pv;){const h=this.pendingSegs.shift();l=l+"&"+Hw+o+"="+h.seg+"&"+Bw+o+"="+h.ts+"&"+qw+o+"="+h.d,o++}return i=i+l,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,l){this.pendingSegs.push({seg:t,ts:i,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const l=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(l,Math.floor(Pw)),u=()=>{clearTimeout(o),l()};this.addTag(t,u)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=t,l.onload=l.onreadystatechange=function(){const o=l.readyState;(!o||o==="loaded"||o==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),i())},l.onerror=()=>{ft("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=16384,Fw=45e3;let Ro=null;typeof MozWebSocket<"u"?Ro=MozWebSocket:typeof WebSocket<"u"&&(Ro=WebSocket);class an{constructor(t,i,l,o,u,h,m){this.connId=t,this.applicationId=l,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ql(this.connId),this.stats_=Ih(i),this.connURL=an.connectionURL_(i,h,m,o,l),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,l,o,u){const h={};return h[Ov]=Mh,typeof location<"u"&&location.hostname&&kv.test(location.hostname)&&(h[Mv]=Iv),i&&(h[Dv]=i),l&&(h[Lv]=l),o&&(h[$f]=o),u&&(h[Uv]=u),Bv(t,zv,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ji.set("previous_websocket_failure",!0);try{let l;GS(),this.mySock=new Ro(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){an.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(i);l&&l.length>1&&parseFloat(l[1])<4.4&&(t=!0)}return!t&&Ro!==null&&!an.forceDisallow_}static previouslyFailed(){return Ji.isInMemoryStorage||Ji.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ji.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const l=Tl(i);this.onMessage(l)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(j(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const l=this.extractFrameCount_(i);l!==null&&this.appendFrame_(l)}}send(t){this.resetKeepAlive();const i=tt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=Nv(i,Qw);l.length>1&&this.sendString_(String(l.length));for(let o=0;o<l.length;o++)this.sendString_(l[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Fw))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}an.responsesRequiredToBeHealthy=2;an.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{static get ALL_TRANSPORTS(){return[Xs,an]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=an&&an.isAvailable();let l=i&&!an.previouslyFailed();if(t.webSocketOnly&&(i||yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[an];else{const o=this.transports_=[];for(const u of xl.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);xl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}xl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=6e4,Xw=5e3,Ww=10*1024,Zw=100*1024,jf="t",ny="d",Jw="s",iy="r",$w="e",sy="o",ay="a",ly="n",ry="p",ex="h";class tx{constructor(t,i,l,o,u,h,m,p,g,b){this.id=t,this.repoInfo_=i,this.applicationId_=l,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ql("c:"+this.id+":"),this.transportManager_=new xl(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,l)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=vl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Zw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ww?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(jf in t){const i=t[jf];i===ay?this.upgradeIfSecondaryHealthy_():i===iy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===sy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=hl("t",t),l=hl("d",t);if(i==="c")this.onSecondaryControl_(l);else if(i==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ry,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ay,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ly,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=hl("t",t),l=hl("d",t);i==="c"?this.onControl_(l):i==="d"&&this.onDataMessage_(l)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=hl(jf,t);if(ny in t){const l=t[ny];if(i===ex){const o={...l};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===ly){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===Jw?this.onConnectionShutdown_(l):i===iy?this.onReset_(l):i===$w?Jf("Server Error: "+l):i===sy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Jf("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,l=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Mh!==l&&yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,l),vl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Kw))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Xw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ry,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ji.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{put(t,i,l,o){}merge(t,i,l,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,l){}onDisconnectMerge(t,i,l){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t){this.allowedEvents_=t,this.listeners_={},j(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const l=[...this.listeners_[t]];for(let o=0;o<l.length;o++)l[o].callback.apply(l[o].context,i)}}on(t,i,l){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:l});const o=this.getInitialEvent(t);o&&i.apply(l,o)}off(t,i,l){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!l||l===o[u].context)){o.splice(u,1);return}}validateEventType_(t){j(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends Fv{static getInstance(){return new Oo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!gh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return j(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy=32,cy=768;class Re{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let l=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[l]=this.pieces_[o],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function ge(){return new Re("")}function ie(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function xi(a){return a.pieces_.length-a.pieceNum_}function Ue(a){let t=a.pieceNum_;return t<a.pieces_.length&&t++,new Re(a.pieces_,t)}function Lh(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function nx(a){let t="";for(let i=a.pieceNum_;i<a.pieces_.length;i++)a.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(a.pieces_[i])));return t||"/"}function Al(a,t=0){return a.pieces_.slice(a.pieceNum_+t)}function Kv(a){if(a.pieceNum_>=a.pieces_.length)return null;const t=[];for(let i=a.pieceNum_;i<a.pieces_.length-1;i++)t.push(a.pieces_[i]);return new Re(t,0)}function Ge(a,t){const i=[];for(let l=a.pieceNum_;l<a.pieces_.length;l++)i.push(a.pieces_[l]);if(t instanceof Re)for(let l=t.pieceNum_;l<t.pieces_.length;l++)i.push(t.pieces_[l]);else{const l=t.split("/");for(let o=0;o<l.length;o++)l[o].length>0&&i.push(l[o])}return new Re(i,0)}function ce(a){return a.pieceNum_>=a.pieces_.length}function _t(a,t){const i=ie(a),l=ie(t);if(i===null)return t;if(i===l)return _t(Ue(a),Ue(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+a+")")}function ix(a,t){const i=Al(a,0),l=Al(t,0);for(let o=0;o<i.length&&o<l.length;o++){const u=ls(i[o],l[o]);if(u!==0)return u}return i.length===l.length?0:i.length<l.length?-1:1}function Uh(a,t){if(xi(a)!==xi(t))return!1;for(let i=a.pieceNum_,l=t.pieceNum_;i<=a.pieces_.length;i++,l++)if(a.pieces_[i]!==t.pieces_[l])return!1;return!0}function Zt(a,t){let i=a.pieceNum_,l=t.pieceNum_;if(xi(a)>xi(t))return!1;for(;i<a.pieces_.length;){if(a.pieces_[i]!==t.pieces_[l])return!1;++i,++l}return!0}class sx{constructor(t,i){this.errorPrefix_=i,this.parts_=Al(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=Go(this.parts_[l]);Xv(this)}}function ax(a,t){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(t),a.byteLength_+=Go(t),Xv(a)}function lx(a){const t=a.parts_.pop();a.byteLength_-=Go(t),a.parts_.length>0&&(a.byteLength_-=1)}function Xv(a){if(a.byteLength_>cy)throw new Error(a.errorPrefix_+"has a key path longer than "+cy+" bytes ("+a.byteLength_+").");if(a.parts_.length>oy)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+oy+") or object contains a cycle "+Wi(a))}function Wi(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends Fv{static getInstance(){return new zh}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const l=!document[t];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(t){return j(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=1e3,rx=300*1e3,uy=30*1e3,ox=1.3,cx=3e4,ux="server_kill",fy=3;class Bn extends Qv{constructor(t,i,l,o,u,h,m,p){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=l,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=p,this.id=Bn.nextPersistentConnectionId_++,this.log_=ql("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=dl,this.maxReconnectDelay_=rx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Oo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,l){const o=++this.requestNumber_,u={r:o,a:t,b:i};this.log_(tt(u)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),l&&(this.requestCBHash_[o]=l)}get(t){this.initConnection_();const i=new Ll,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(t,i,l,o){this.initConnection_();const u=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),j(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:l};this.listens.get(h).set(u,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,l=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(l)})}sendListen_(t){const i=t.query,l=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+l+" for "+o);const u={p:l},h="q";t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(h,u,m=>{const p=m.d,g=m.s;Bn.warnOnListenWarnings_(p,i),(this.listens.get(l)&&this.listens.get(l).get(o))===t&&(this.log_("listen response",m),g!=="ok"&&this.removeListen_(l,o),t.onComplete&&t.onComplete(g,p))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&gn(t,"w")){const l=ta(t,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||WS(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=uy)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=XS(t)?"auth":"gauth",l={cred:t};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(i,l,o=>{const u=o.s,h=o.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,l=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,l)})}unlisten(t,i){const l=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+l+" "+o),j(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,o)&&this.connected_&&this.sendUnlisten_(l,o,t._queryObject,i)}sendUnlisten_(t,i,l,o){this.log_("Unlisten on "+t+" for "+i);const u={p:t},h="n";o&&(u.q=l,u.t=o),this.sendRequest(h,u)}onDisconnectPut(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:l})}onDisconnectMerge(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:l})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,l,o){const u={p:i,d:l};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,l,o){this.putInternal("p",t,i,l,o)}merge(t,i,l,o){this.putInternal("m",t,i,l,o)}putInternal(t,i,l,o,u){this.initConnection_();const h={p:i,d:l};u!==void 0&&(h.h=u),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,l=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,l,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,l=>{if(l.s!=="ok"){const u=l.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+tt(t));const i=t.r,l=this.requestCBHash_[i];l&&(delete this.requestCBHash_[i],l(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Jf("Unrecognized action received from server: "+tt(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=dl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=dl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>cx&&(this.reconnectDelay_=dl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ox)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Bn.nextConnectionId_++,u=this.lastSessionId;let h=!1,m=null;const p=function(){m?m.close():(h=!0,l())},g=function(y){j(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(y)};this.realtime_={close:p,sendRequest:g};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,E]=await Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);h?ft("getToken() completed but was canceled"):(ft("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=E&&E.token,m=new tx(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,l,L=>{yt(L+" ("+this.repoInfo_.toString()+")"),this.interrupt(ux)},u))}catch(y){this.log_("Failed to get token: "+y),h||(this.repoInfo_.nodeAdmin&&yt(y),p())}}}interrupt(t){ft("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ft("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Gf(this.interruptReasons_)&&(this.reconnectDelay_=dl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let l;i?l=i.map(u=>Dh(u)).join("$"):l="default";const o=this.removeListen_(t,l);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const l=new Re(t).toString();let o;if(this.listens.has(l)){const u=this.listens.get(l);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(l)}else o=void 0;return o}onAuthRevoked_(t,i){ft("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fy&&(this.reconnectDelay_=uy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){ft("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+wv.replace(/\./g,"-")]=1,gh()?t["framework.cordova"]=1:qy()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Oo.getInstance().currentlyOnline();return Gf(this.interruptReasons_)&&t}}Bn.nextPersistentConnectionId_=0;Bn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new se(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const l=new se(sa,t),o=new se(sa,i);return this.compare(l,o)!==0}minPost(){return se.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo;class Wv extends Fo{static get __EMPTY_NODE(){return fo}static set __EMPTY_NODE(t){fo=t}compare(t,i){return ls(t.name,i.name)}isDefinedOn(t){throw ca("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return se.MIN}maxPost(){return new se(is,fo)}makePost(t,i){return j(typeof t=="string","KeyIndex indexValue must always be a string."),new se(t,fo)}toString(){return".key"}}const ea=new Wv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t,i,l,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?l(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class at{constructor(t,i,l,o,u){this.key=t,this.value=i,this.color=l??at.RED,this.left=o??Nt.EMPTY_NODE,this.right=u??Nt.EMPTY_NODE}copy(t,i,l,o,u){return new at(t??this.key,i??this.value,l??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,l){let o=this;const u=l(t,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(t,i,l),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,l)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let l,o;if(l=this,i(t,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),i(t,l.key)===0){if(l.right.isEmpty())return Nt.EMPTY_NODE;o=l.right.min_(),l=l.copy(o.key,o.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class fx{copy(t,i,l,o,u){return this}insert(t,i,l){return new at(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Nt{constructor(t,i=Nt.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new Nt(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(t){return new Nt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,at.BLACK,null,null))}get(t){let i,l=this.root_;for(;!l.isEmpty();){if(i=this.comparator_(t,l.key),i===0)return l.value;i<0?l=l.left:i>0&&(l=l.right)}return null}getPredecessorKey(t){let i,l=this.root_,o=null;for(;!l.isEmpty();)if(i=this.comparator_(t,l.key),i===0){if(l.left.isEmpty())return o?o.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else i<0?l=l.left:i>0&&(o=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ho(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new ho(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new ho(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new ho(this.root_,null,this.comparator_,!0,t)}}Nt.EMPTY_NODE=new fx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(a,t){return ls(a.name,t.name)}function jh(a,t){return ls(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh;function dx(a){eh=a}const Zv=function(a){return typeof a=="number"?"number:"+Rv(a):"string:"+a},Jv=function(a){if(a.isLeafNode()){const t=a.val();j(typeof t=="string"||typeof t=="number"||typeof t=="object"&&gn(t,".sv"),"Priority must be a string or number.")}else j(a===eh||a.isEmpty(),"priority of unexpected type.");j(a===eh||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hy;class st{static set __childrenNodeConstructor(t){hy=t}static get __childrenNodeConstructor(){return hy}constructor(t,i=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Jv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new st(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ce(t)?this:ie(t)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const l=ie(t);return l===null?i:i.isEmpty()&&l!==".priority"?this:(j(l!==".priority"||xi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Zv(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=Rv(this.value_):t+=this.value_,this.lazyHash_=Av(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===st.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof st.__childrenNodeConstructor?-1:(j(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,l=typeof this.value_,o=st.VALUE_TYPE_ORDER.indexOf(i),u=st.VALUE_TYPE_ORDER.indexOf(l);return j(o>=0,"Unknown leaf type: "+i),j(u>=0,"Unknown leaf type: "+l),o===u?l==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $v,e0;function mx(a){$v=a}function px(a){e0=a}class gx extends Fo{compare(t,i){const l=t.node.getPriority(),o=i.node.getPriority(),u=l.compareTo(o);return u===0?ls(t.name,i.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return se.MIN}maxPost(){return new se(is,new st("[PRIORITY-POST]",e0))}makePost(t,i){const l=$v(t);return new se(i,new st("[PRIORITY-POST]",l))}toString(){return".priority"}}const Pe=new gx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=Math.log(2);class yx{constructor(t){const i=u=>parseInt(Math.log(u)/_x,10),l=u=>parseInt(Array(u+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=l(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Do=function(a,t,i,l){a.sort(t);const o=function(p,g){const b=g-p;let y,E;if(b===0)return null;if(b===1)return y=a[p],E=i?i(y):y,new at(E,y.node,at.BLACK,null,null);{const L=parseInt(b/2,10)+p,U=o(p,L),z=o(L+1,g);return y=a[L],E=i?i(y):y,new at(E,y.node,at.BLACK,U,z)}},u=function(p){let g=null,b=null,y=a.length;const E=function(U,z){const Q=y-U,he=y;y-=U;const be=o(Q+1,he),W=a[Q],_e=i?i(W):W;L(new at(_e,W.node,z,null,be))},L=function(U){g?(g.left=U,g=U):(b=U,g=U)};for(let U=0;U<p.count;++U){const z=p.nextBitIsOne(),Q=Math.pow(2,p.count-(U+1));z?E(Q,at.BLACK):(E(Q,at.BLACK),E(Q,at.RED))}return b},h=new yx(a.length),m=u(h);return new Nt(l||t,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf;const Qs={};class jn{static get Default(){return j(Qs&&Pe,"ChildrenNode.ts has not been loaded"),Hf=Hf||new jn({".priority":Qs},{".priority":Pe}),Hf}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=ta(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof Nt?i:null}hasIndex(t){return gn(this.indexSet_,t.toString())}addIndex(t,i){j(t!==ea,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let o=!1;const u=i.getIterator(se.Wrap);let h=u.getNext();for(;h;)o=o||t.isDefinedOn(h.node),l.push(h),h=u.getNext();let m;o?m=Do(l,t.getCompare()):m=Qs;const p=t.toString(),g={...this.indexSet_};g[p]=t;const b={...this.indexes_};return b[p]=m,new jn(b,g)}addToIndexes(t,i){const l=So(this.indexes_,(o,u)=>{const h=ta(this.indexSet_,u);if(j(h,"Missing index implementation for "+u),o===Qs)if(h.isDefinedOn(t.node)){const m=[],p=i.getIterator(se.Wrap);let g=p.getNext();for(;g;)g.name!==t.name&&m.push(g),g=p.getNext();return m.push(t),Do(m,h.getCompare())}else return Qs;else{const m=i.get(t.name);let p=o;return m&&(p=p.remove(new se(t.name,m))),p.insert(t,t.node)}});return new jn(l,this.indexSet_)}removeFromIndexes(t,i){const l=So(this.indexes_,o=>{if(o===Qs)return o;{const u=i.get(t.name);return u?o.remove(new se(t.name,u)):o}});return new jn(l,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml;class X{static get EMPTY_NODE(){return ml||(ml=new X(new Nt(jh),null,jn.Default))}constructor(t,i,l){this.children_=t,this.priorityNode_=i,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&Jv(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ml}updatePriority(t){return this.children_.isEmpty()?this:new X(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?ml:i}}getChild(t){const i=ie(t);return i===null?this:this.getImmediateChild(i).getChild(Ue(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(j(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const l=new se(t,i);let o,u;i.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(l,this.children_)):(o=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(l,this.children_));const h=o.isEmpty()?ml:this.priorityNode_;return new X(o,h,u)}}updateChild(t,i){const l=ie(t);if(l===null)return i;{j(ie(t)!==".priority"||xi(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(l).updateChild(Ue(t),i);return this.updateImmediateChild(l,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let l=0,o=0,u=!0;if(this.forEachChild(Pe,(h,m)=>{i[h]=m.val(t),l++,u&&X.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):u=!1}),!t&&u&&o<2*l){const h=[];for(const m in i)h[m]=i[m];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Zv(this.getPriority().val())+":"),this.forEachChild(Pe,(i,l)=>{const o=l.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":Av(t)}return this.lazyHash_}getPredecessorChildName(t,i,l){const o=this.resolveIndex_(l);if(o){const u=o.getPredecessorKey(new se(t,i));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new se(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new se(i,this.children_.get(i)):null}forEachChild(t,i){const l=this.resolveIndex_(t);return l?l.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,se.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,se.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)>0;)o.getNext(),u=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Vl?-1:0}withIndex(t){if(t===ea||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new X(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ea||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const l=this.getIterator(Pe),o=i.getIterator(Pe);let u=l.getNext(),h=o.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=l.getNext(),h=o.getNext()}return u===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===ea?null:this.indexMap_.get(t.toString())}}X.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vx extends X{constructor(){super(new Nt(jh),X.EMPTY_NODE,jn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return X.EMPTY_NODE}isEmpty(){return!1}}const Vl=new vx;Object.defineProperties(se,{MIN:{value:new se(sa,X.EMPTY_NODE)},MAX:{value:new se(is,Vl)}});Wv.__EMPTY_NODE=X.EMPTY_NODE;st.__childrenNodeConstructor=X;dx(Vl);px(Vl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=!0;function et(a,t=null){if(a===null)return X.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(t=a[".priority"]),j(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const i=a;return new st(i,et(t))}if(!(a instanceof Array)&&bx){const i=[];let l=!1;if(ht(a,(h,m)=>{if(h.substring(0,1)!=="."){const p=et(m);p.isEmpty()||(l=l||!p.getPriority().isEmpty(),i.push(new se(h,p)))}}),i.length===0)return X.EMPTY_NODE;const u=Do(i,hx,h=>h.name,jh);if(l){const h=Do(i,Pe.getCompare());return new X(u,et(t),new jn({".priority":h},{".priority":Pe}))}else return new X(u,et(t),jn.Default)}else{let i=X.EMPTY_NODE;return ht(a,(l,o)=>{if(gn(a,l)&&l.substring(0,1)!=="."){const u=et(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(l,u))}}),i.updatePriority(et(t))}}mx(et);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx extends Fo{constructor(t){super(),this.indexPath_=t,j(!ce(t)&&ie(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const l=this.extractChild(t.node),o=this.extractChild(i.node),u=l.compareTo(o);return u===0?ls(t.name,i.name):u}makePost(t,i){const l=et(t),o=X.EMPTY_NODE.updateChild(this.indexPath_,l);return new se(i,o)}maxPost(){const t=X.EMPTY_NODE.updateChild(this.indexPath_,Vl);return new se(is,t)}toString(){return Al(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex extends Fo{compare(t,i){const l=t.node.compareTo(i.node);return l===0?ls(t.name,i.name):l}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(t,i){const l=et(t);return new se(i,l)}toString(){return".value"}}const Tx=new Ex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(a){return{type:"value",snapshotNode:a}}function aa(a,t){return{type:"child_added",snapshotNode:t,childName:a}}function Nl(a,t){return{type:"child_removed",snapshotNode:t,childName:a}}function Rl(a,t,i){return{type:"child_changed",snapshotNode:t,childName:a,oldSnap:i}}function Cx(a,t){return{type:"child_moved",snapshotNode:t,childName:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t){this.index_=t}updateChild(t,i,l,o,u,h){j(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(i);return m.getChild(o).equals(l.getChild(o))&&m.isEmpty()===l.isEmpty()||(h!=null&&(l.isEmpty()?t.hasChild(i)?h.trackChildChange(Nl(i,m)):j(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(aa(i,l)):h.trackChildChange(Rl(i,l,m))),t.isLeafNode()&&l.isEmpty())?t:t.updateImmediateChild(i,l).withIndex(this.index_)}updateFullNode(t,i,l){return l!=null&&(t.isLeafNode()||t.forEachChild(Pe,(o,u)=>{i.hasChild(o)||l.trackChildChange(Nl(o,u))}),i.isLeafNode()||i.forEachChild(Pe,(o,u)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(u)||l.trackChildChange(Rl(o,u,h))}else l.trackChildChange(aa(o,u))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?X.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t){this.indexedFilter_=new Hh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ol.getStartPost_(t),this.endPost_=Ol.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,l=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&l}updateChild(t,i,l,o,u,h){return this.matches(new se(i,l))||(l=X.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,l,o,u,h)}updateFullNode(t,i,l){i.isLeafNode()&&(i=X.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(X.EMPTY_NODE);const u=this;return i.forEachChild(Pe,(h,m)=>{u.matches(new se(h,m))||(o=o.updateImmediateChild(h,X.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=i=>{const l=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new Ol(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,l,o,u,h){return this.rangedFilter_.matches(new se(i,l))||(l=X.EMPTY_NODE),t.getImmediateChild(i).equals(l)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,l,o,u,h):this.fullLimitUpdateChild_(t,i,l,u,h)}updateFullNode(t,i,l){let o;if(i.isLeafNode()||i.isEmpty())o=X.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=X.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const m=u.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(X.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let h=0;for(;u.hasNext();){const m=u.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:o=o.updateImmediateChild(m.name,X.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,l,o,u){let h;if(this.reverse_){const y=this.index_.getCompare();h=(E,L)=>y(L,E)}else h=this.index_.getCompare();const m=t;j(m.numChildren()===this.limit_,"");const p=new se(i,l),g=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),b=this.rangedFilter_.matches(p);if(m.hasChild(i)){const y=m.getImmediateChild(i);let E=o.getChildAfterChild(this.index_,g,this.reverse_);for(;E!=null&&(E.name===i||m.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const L=E==null?1:h(E,p);if(b&&!l.isEmpty()&&L>=0)return u!=null&&u.trackChildChange(Rl(i,l,y)),m.updateImmediateChild(i,l);{u!=null&&u.trackChildChange(Nl(i,y));const z=m.updateImmediateChild(i,X.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(u!=null&&u.trackChildChange(aa(E.name,E.node)),z.updateImmediateChild(E.name,E.node)):z}}else return l.isEmpty()?t:b&&h(g,p)>=0?(u!=null&&(u.trackChildChange(Nl(g.name,g.node)),u.trackChildChange(aa(i,l))),m.updateImmediateChild(i,l).updateImmediateChild(g.name,X.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sa}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:is}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pe}copy(){const t=new Bh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function xx(a){return a.loadsAllData()?new Hh(a.getIndex()):a.hasLimit()?new wx(a):new Ol(a)}function dy(a){const t={};if(a.isDefault())return t;let i;if(a.index_===Pe?i="$priority":a.index_===Tx?i="$value":a.index_===ea?i="$key":(j(a.index_ instanceof Sx,"Unrecognized index type!"),i=a.index_.toString()),t.orderBy=tt(i),a.startSet_){const l=a.startAfterSet_?"startAfter":"startAt";t[l]=tt(a.indexStartValue_),a.startNameSet_&&(t[l]+=","+tt(a.indexStartName_))}if(a.endSet_){const l=a.endBeforeSet_?"endBefore":"endAt";t[l]=tt(a.indexEndValue_),a.endNameSet_&&(t[l]+=","+tt(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?t.limitToFirst=a.limit_:t.limitToLast=a.limit_),t}function my(a){const t={};if(a.startSet_&&(t.sp=a.indexStartValue_,a.startNameSet_&&(t.sn=a.indexStartName_),t.sin=!a.startAfterSet_),a.endSet_&&(t.ep=a.indexEndValue_,a.endNameSet_&&(t.en=a.indexEndName_),t.ein=!a.endBeforeSet_),a.limitSet_){t.l=a.limit_;let i=a.viewFrom_;i===""&&(a.isViewFromLeft()?i="l":i="r"),t.vf=i}return a.index_!==Pe&&(t.i=a.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends Qv{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(j(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,l,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.log_=ql("p:rest:"),this.listens_={}}listen(t,i,l,o){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const h=Mo.getListenId_(t,l),m={};this.listens_[h]=m;const p=dy(t._queryParams);this.restRequest_(u+".json",p,(g,b)=>{let y=b;if(g===404&&(y=null,g=null),g===null&&this.onDataUpdate_(u,y,!1,l),ta(this.listens_,h)===m){let E;g?g===401?E="permission_denied":E="rest_error:"+g:E="ok",o(E,null)}})}unlisten(t,i){const l=Mo.getListenId_(t,i);delete this.listens_[l]}get(t){const i=dy(t._queryParams),l=t._path.toString(),o=new Ll;return this.restRequest_(l+".json",i,(u,h)=>{let m=h;u===404&&(m=null,u=null),u===null?(this.onDataUpdate_(l,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},l){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+fa(i);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(l&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let p=null;if(m.status>=200&&m.status<300){try{p=Tl(m.responseText)}catch{yt("Failed to parse JSON response for "+h+": "+m.responseText)}l(null,p)}else m.status!==401&&m.status!==404&&yt("Got unsuccessful REST response for "+h+" Status: "+m.status),l(m.status);l=null}},m.open("GET",h,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.rootNode_=X.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(){return{value:null,children:new Map}}function n0(a,t,i){if(ce(t))a.value=i,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(t,i);else{const l=ie(t);a.children.has(l)||a.children.set(l,Io());const o=a.children.get(l);t=Ue(t),n0(o,t,i)}}function th(a,t,i){a.value!==null?i(t,a.value):Nx(a,(l,o)=>{const u=new Re(t.toString()+"/"+l);th(o,u,i)})}function Nx(a,t){a.children.forEach((i,l)=>{t(l,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&ht(this.last_,(l,o)=>{i[l]=i[l]-o}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=10*1e3,Ox=30*1e3,Dx=300*1e3;class Mx{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new Rx(t);const l=py+(Ox-py)*Math.random();vl(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const t=this.statsListener_.get(),i={};let l=!1;ht(t,(o,u)=>{u>0&&gn(this.statsToReport_,o)&&(i[o]=u,l=!0)}),l&&this.server_.reportStats(i),vl(this.reportStats_.bind(this),Math.floor(Math.random()*2*Dx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(rn||(rn={}));function qh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Vh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Gh(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t,i,l){this.path=t,this.affectedTree=i,this.revert=l,this.type=rn.ACK_USER_WRITE,this.source=qh()}operationForChild(t){if(ce(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Re(t));return new ko(ge(),i,this.revert)}}else return j(ie(this.path)===t,"operationForChild called for unrelated child."),new ko(Ue(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,i){this.source=t,this.path=i,this.type=rn.LISTEN_COMPLETE}operationForChild(t){return ce(this.path)?new Dl(this.source,ge()):new Dl(this.source,Ue(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,i,l){this.source=t,this.path=i,this.snap=l,this.type=rn.OVERWRITE}operationForChild(t){return ce(this.path)?new ss(this.source,ge(),this.snap.getImmediateChild(t)):new ss(this.source,Ue(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,i,l){this.source=t,this.path=i,this.children=l,this.type=rn.MERGE}operationForChild(t){if(ce(this.path)){const i=this.children.subtree(new Re(t));return i.isEmpty()?null:i.value?new ss(this.source,ge(),i.value):new la(this.source,ge(),i)}else return j(ie(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new la(this.source,Ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t,i,l){this.node_=t,this.fullyInitialized_=i,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ce(t))return this.isFullyInitialized()&&!this.filtered_;const i=ie(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function kx(a,t,i,l){const o=[],u=[];return t.forEach(h=>{h.type==="child_changed"&&a.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(Cx(h.childName,h.snapshotNode))}),pl(a,o,"child_removed",t,l,i),pl(a,o,"child_added",t,l,i),pl(a,o,"child_moved",u,l,i),pl(a,o,"child_changed",t,l,i),pl(a,o,"value",t,l,i),o}function pl(a,t,i,l,o,u){const h=l.filter(m=>m.type===i);h.sort((m,p)=>Ux(a,m,p)),h.forEach(m=>{const p=Lx(a,m,u);o.forEach(g=>{g.respondsTo(m.type)&&t.push(g.createEvent(p,a.query_))})})}function Lx(a,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,a.index_)),t}function Ux(a,t,i){if(t.childName==null||i.childName==null)throw ca("Should only compare child_ events.");const l=new se(t.childName,t.snapshotNode),o=new se(i.childName,i.snapshotNode);return a.index_.compare(l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(a,t){return{eventCache:a,serverCache:t}}function bl(a,t,i,l){return Ko(new Ai(t,i,l),a.serverCache)}function i0(a,t,i,l){return Ko(a.eventCache,new Ai(t,i,l))}function Lo(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function as(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bf;const zx=()=>(Bf||(Bf=new Nt(Sw)),Bf);class Le{static fromObject(t){let i=new Le(null);return ht(t,(l,o)=>{i=i.set(new Re(l),o)}),i}constructor(t,i=zx()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:ge(),value:this.value};if(ce(t))return null;{const l=ie(t),o=this.children.get(l);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Ue(t),i);return u!=null?{path:Ge(new Re(l),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ce(t))return this;{const i=ie(t),l=this.children.get(i);return l!==null?l.subtree(Ue(t)):new Le(null)}}set(t,i){if(ce(t))return new Le(i,this.children);{const l=ie(t),u=(this.children.get(l)||new Le(null)).set(Ue(t),i),h=this.children.insert(l,u);return new Le(this.value,h)}}remove(t){if(ce(t))return this.children.isEmpty()?new Le(null):new Le(null,this.children);{const i=ie(t),l=this.children.get(i);if(l){const o=l.remove(Ue(t));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Le(null):new Le(this.value,u)}else return this}}get(t){if(ce(t))return this.value;{const i=ie(t),l=this.children.get(i);return l?l.get(Ue(t)):null}}setTree(t,i){if(ce(t))return i;{const l=ie(t),u=(this.children.get(l)||new Le(null)).setTree(Ue(t),i);let h;return u.isEmpty()?h=this.children.remove(l):h=this.children.insert(l,u),new Le(this.value,h)}}fold(t){return this.fold_(ge(),t)}fold_(t,i){const l={};return this.children.inorderTraversal((o,u)=>{l[o]=u.fold_(Ge(t,o),i)}),i(t,this.value,l)}findOnPath(t,i){return this.findOnPath_(t,ge(),i)}findOnPath_(t,i,l){const o=this.value?l(i,this.value):!1;if(o)return o;if(ce(t))return null;{const u=ie(t),h=this.children.get(u);return h?h.findOnPath_(Ue(t),Ge(i,u),l):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,ge(),i)}foreachOnPath_(t,i,l){if(ce(t))return this;{this.value&&l(i,this.value);const o=ie(t),u=this.children.get(o);return u?u.foreachOnPath_(Ue(t),Ge(i,o),l):new Le(null)}}foreach(t){this.foreach_(ge(),t)}foreach_(t,i){this.children.inorderTraversal((l,o)=>{o.foreach_(Ge(t,l),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,l)=>{l.value&&t(i,l.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.writeTree_=t}static empty(){return new cn(new Le(null))}}function Sl(a,t,i){if(ce(t))return new cn(new Le(i));{const l=a.writeTree_.findRootMostValueAndPath(t);if(l!=null){const o=l.path;let u=l.value;const h=_t(o,t);return u=u.updateChild(h,i),new cn(a.writeTree_.set(o,u))}else{const o=new Le(i),u=a.writeTree_.setTree(t,o);return new cn(u)}}}function nh(a,t,i){let l=a;return ht(i,(o,u)=>{l=Sl(l,Ge(t,o),u)}),l}function gy(a,t){if(ce(t))return cn.empty();{const i=a.writeTree_.setTree(t,new Le(null));return new cn(i)}}function ih(a,t){return rs(a,t)!=null}function rs(a,t){const i=a.writeTree_.findRootMostValueAndPath(t);return i!=null?a.writeTree_.get(i.path).getChild(_t(i.path,t)):null}function _y(a){const t=[],i=a.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Pe,(l,o)=>{t.push(new se(l,o))}):a.writeTree_.children.inorderTraversal((l,o)=>{o.value!=null&&t.push(new se(l,o.value))}),t}function Ci(a,t){if(ce(t))return a;{const i=rs(a,t);return i!=null?new cn(new Le(i)):new cn(a.writeTree_.subtree(t))}}function sh(a){return a.writeTree_.isEmpty()}function ra(a,t){return s0(ge(),a.writeTree_,t)}function s0(a,t,i){if(t.value!=null)return i.updateChild(a,t.value);{let l=null;return t.children.inorderTraversal((o,u)=>{o===".priority"?(j(u.value!==null,"Priority writes must always be leaf nodes"),l=u.value):i=s0(Ge(a,o),u,i)}),!i.getChild(a).isEmpty()&&l!==null&&(i=i.updateChild(Ge(a,".priority"),l)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(a,t){return o0(t,a)}function jx(a,t,i,l,o){j(l>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:t,snap:i,writeId:l,visible:o}),o&&(a.visibleWrites=Sl(a.visibleWrites,t,i)),a.lastWriteId=l}function Hx(a,t,i,l){j(l>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:t,children:i,writeId:l,visible:!0}),a.visibleWrites=nh(a.visibleWrites,t,i),a.lastWriteId=l}function Bx(a,t){for(let i=0;i<a.allWrites.length;i++){const l=a.allWrites[i];if(l.writeId===t)return l}return null}function qx(a,t){const i=a.allWrites.findIndex(m=>m.writeId===t);j(i>=0,"removeWrite called with nonexistent writeId.");const l=a.allWrites[i];a.allWrites.splice(i,1);let o=l.visible,u=!1,h=a.allWrites.length-1;for(;o&&h>=0;){const m=a.allWrites[h];m.visible&&(h>=i&&Vx(m,l.path)?o=!1:Zt(l.path,m.path)&&(u=!0)),h--}if(o){if(u)return Gx(a),!0;if(l.snap)a.visibleWrites=gy(a.visibleWrites,l.path);else{const m=l.children;ht(m,p=>{a.visibleWrites=gy(a.visibleWrites,Ge(l.path,p))})}return!0}else return!1}function Vx(a,t){if(a.snap)return Zt(a.path,t);for(const i in a.children)if(a.children.hasOwnProperty(i)&&Zt(Ge(a.path,i),t))return!0;return!1}function Gx(a){a.visibleWrites=a0(a.allWrites,Px,ge()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function Px(a){return a.visible}function a0(a,t,i){let l=cn.empty();for(let o=0;o<a.length;++o){const u=a[o];if(t(u)){const h=u.path;let m;if(u.snap)Zt(i,h)?(m=_t(i,h),l=Sl(l,m,u.snap)):Zt(h,i)&&(m=_t(h,i),l=Sl(l,ge(),u.snap.getChild(m)));else if(u.children){if(Zt(i,h))m=_t(i,h),l=nh(l,m,u.children);else if(Zt(h,i))if(m=_t(h,i),ce(m))l=nh(l,ge(),u.children);else{const p=ta(u.children,ie(m));if(p){const g=p.getChild(Ue(m));l=Sl(l,ge(),g)}}}else throw ca("WriteRecord should have .snap or .children")}}return l}function l0(a,t,i,l,o){if(!l&&!o){const u=rs(a.visibleWrites,t);if(u!=null)return u;{const h=Ci(a.visibleWrites,t);if(sh(h))return i;if(i==null&&!ih(h,ge()))return null;{const m=i||X.EMPTY_NODE;return ra(h,m)}}}else{const u=Ci(a.visibleWrites,t);if(!o&&sh(u))return i;if(!o&&i==null&&!ih(u,ge()))return null;{const h=function(g){return(g.visible||o)&&(!l||!~l.indexOf(g.writeId))&&(Zt(g.path,t)||Zt(t,g.path))},m=a0(a.allWrites,h,t),p=i||X.EMPTY_NODE;return ra(m,p)}}}function Yx(a,t,i){let l=X.EMPTY_NODE;const o=rs(a.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Pe,(u,h)=>{l=l.updateImmediateChild(u,h)}),l;if(i){const u=Ci(a.visibleWrites,t);return i.forEachChild(Pe,(h,m)=>{const p=ra(Ci(u,new Re(h)),m);l=l.updateImmediateChild(h,p)}),_y(u).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}else{const u=Ci(a.visibleWrites,t);return _y(u).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}}function Qx(a,t,i,l,o){j(l||o,"Either existingEventSnap or existingServerSnap must exist");const u=Ge(t,i);if(ih(a.visibleWrites,u))return null;{const h=Ci(a.visibleWrites,u);return sh(h)?o.getChild(i):ra(h,o.getChild(i))}}function Fx(a,t,i,l){const o=Ge(t,i),u=rs(a.visibleWrites,o);if(u!=null)return u;if(l.isCompleteForChild(i)){const h=Ci(a.visibleWrites,o);return ra(h,l.getNode().getImmediateChild(i))}else return null}function Kx(a,t){return rs(a.visibleWrites,t)}function Xx(a,t,i,l,o,u,h){let m;const p=Ci(a.visibleWrites,t),g=rs(p,ge());if(g!=null)m=g;else if(i!=null)m=ra(p,i);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const b=[],y=h.getCompare(),E=u?m.getReverseIteratorFrom(l,h):m.getIteratorFrom(l,h);let L=E.getNext();for(;L&&b.length<o;)y(L,l)!==0&&b.push(L),L=E.getNext();return b}else return[]}function Wx(){return{visibleWrites:cn.empty(),allWrites:[],lastWriteId:-1}}function Uo(a,t,i,l){return l0(a.writeTree,a.treePath,t,i,l)}function Ph(a,t){return Yx(a.writeTree,a.treePath,t)}function yy(a,t,i,l){return Qx(a.writeTree,a.treePath,t,i,l)}function zo(a,t){return Kx(a.writeTree,Ge(a.treePath,t))}function Zx(a,t,i,l,o,u){return Xx(a.writeTree,a.treePath,t,i,l,o,u)}function Yh(a,t,i){return Fx(a.writeTree,a.treePath,t,i)}function r0(a,t){return o0(Ge(a.treePath,t),a.writeTree)}function o0(a,t){return{treePath:a,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,l=t.childName;j(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),j(l!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(l);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(l,Rl(l,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(l);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(l,Nl(l,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(l,aa(l,t.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(l,Rl(l,t.snapshotNode,o.oldSnap));else throw ca("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(l,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{getCompleteChild(t){return null}getChildAfterChild(t,i,l){return null}}const c0=new $x;class Qh{constructor(t,i,l=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=l}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const l=this.optCompleteServerCache_!=null?new Ai(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yh(this.writes_,t,l)}}getChildAfterChild(t,i,l){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:as(this.viewCache_),u=Zx(this.writes_,o,i,1,l,t);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(a){return{filter:a}}function tA(a,t){j(t.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),j(t.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function nA(a,t,i,l,o){const u=new Jx;let h,m;if(i.type===rn.OVERWRITE){const g=i;g.source.fromUser?h=ah(a,t,g.path,g.snap,l,o,u):(j(g.source.fromServer,"Unknown source."),m=g.source.tagged||t.serverCache.isFiltered()&&!ce(g.path),h=jo(a,t,g.path,g.snap,l,o,m,u))}else if(i.type===rn.MERGE){const g=i;g.source.fromUser?h=sA(a,t,g.path,g.children,l,o,u):(j(g.source.fromServer,"Unknown source."),m=g.source.tagged||t.serverCache.isFiltered(),h=lh(a,t,g.path,g.children,l,o,m,u))}else if(i.type===rn.ACK_USER_WRITE){const g=i;g.revert?h=rA(a,t,g.path,l,o,u):h=aA(a,t,g.path,g.affectedTree,l,o,u)}else if(i.type===rn.LISTEN_COMPLETE)h=lA(a,t,i.path,l,u);else throw ca("Unknown operation type: "+i.type);const p=u.getChanges();return iA(t,h,p),{viewCache:h,changes:p}}function iA(a,t,i){const l=t.eventCache;if(l.isFullyInitialized()){const o=l.getNode().isLeafNode()||l.getNode().isEmpty(),u=Lo(a);(i.length>0||!a.eventCache.isFullyInitialized()||o&&!l.getNode().equals(u)||!l.getNode().getPriority().equals(u.getPriority()))&&i.push(t0(Lo(t)))}}function u0(a,t,i,l,o,u){const h=t.eventCache;if(zo(l,i)!=null)return t;{let m,p;if(ce(i))if(j(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=as(t),b=g instanceof X?g:X.EMPTY_NODE,y=Ph(l,b);m=a.filter.updateFullNode(t.eventCache.getNode(),y,u)}else{const g=Uo(l,as(t));m=a.filter.updateFullNode(t.eventCache.getNode(),g,u)}else{const g=ie(i);if(g===".priority"){j(xi(i)===1,"Can't have a priority with additional path components");const b=h.getNode();p=t.serverCache.getNode();const y=yy(l,i,b,p);y!=null?m=a.filter.updatePriority(b,y):m=h.getNode()}else{const b=Ue(i);let y;if(h.isCompleteForChild(g)){p=t.serverCache.getNode();const E=yy(l,i,h.getNode(),p);E!=null?y=h.getNode().getImmediateChild(g).updateChild(b,E):y=h.getNode().getImmediateChild(g)}else y=Yh(l,g,t.serverCache);y!=null?m=a.filter.updateChild(h.getNode(),g,y,b,o,u):m=h.getNode()}}return bl(t,m,h.isFullyInitialized()||ce(i),a.filter.filtersNodes())}}function jo(a,t,i,l,o,u,h,m){const p=t.serverCache;let g;const b=h?a.filter:a.filter.getIndexedFilter();if(ce(i))g=b.updateFullNode(p.getNode(),l,null);else if(b.filtersNodes()&&!p.isFiltered()){const L=p.getNode().updateChild(i,l);g=b.updateFullNode(p.getNode(),L,null)}else{const L=ie(i);if(!p.isCompleteForPath(i)&&xi(i)>1)return t;const U=Ue(i),Q=p.getNode().getImmediateChild(L).updateChild(U,l);L===".priority"?g=b.updatePriority(p.getNode(),Q):g=b.updateChild(p.getNode(),L,Q,U,c0,null)}const y=i0(t,g,p.isFullyInitialized()||ce(i),b.filtersNodes()),E=new Qh(o,y,u);return u0(a,y,i,o,E,m)}function ah(a,t,i,l,o,u,h){const m=t.eventCache;let p,g;const b=new Qh(o,t,u);if(ce(i))g=a.filter.updateFullNode(t.eventCache.getNode(),l,h),p=bl(t,g,!0,a.filter.filtersNodes());else{const y=ie(i);if(y===".priority")g=a.filter.updatePriority(t.eventCache.getNode(),l),p=bl(t,g,m.isFullyInitialized(),m.isFiltered());else{const E=Ue(i),L=m.getNode().getImmediateChild(y);let U;if(ce(E))U=l;else{const z=b.getCompleteChild(y);z!=null?Lh(E)===".priority"&&z.getChild(Kv(E)).isEmpty()?U=z:U=z.updateChild(E,l):U=X.EMPTY_NODE}if(L.equals(U))p=t;else{const z=a.filter.updateChild(m.getNode(),y,U,E,b,h);p=bl(t,z,m.isFullyInitialized(),a.filter.filtersNodes())}}}return p}function vy(a,t){return a.eventCache.isCompleteForChild(t)}function sA(a,t,i,l,o,u,h){let m=t;return l.foreach((p,g)=>{const b=Ge(i,p);vy(t,ie(b))&&(m=ah(a,m,b,g,o,u,h))}),l.foreach((p,g)=>{const b=Ge(i,p);vy(t,ie(b))||(m=ah(a,m,b,g,o,u,h))}),m}function by(a,t,i){return i.foreach((l,o)=>{t=t.updateChild(l,o)}),t}function lh(a,t,i,l,o,u,h,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p=t,g;ce(i)?g=l:g=new Le(null).setTree(i,l);const b=t.serverCache.getNode();return g.children.inorderTraversal((y,E)=>{if(b.hasChild(y)){const L=t.serverCache.getNode().getImmediateChild(y),U=by(a,L,E);p=jo(a,p,new Re(y),U,o,u,h,m)}}),g.children.inorderTraversal((y,E)=>{const L=!t.serverCache.isCompleteForChild(y)&&E.value===null;if(!b.hasChild(y)&&!L){const U=t.serverCache.getNode().getImmediateChild(y),z=by(a,U,E);p=jo(a,p,new Re(y),z,o,u,h,m)}}),p}function aA(a,t,i,l,o,u,h){if(zo(o,i)!=null)return t;const m=t.serverCache.isFiltered(),p=t.serverCache;if(l.value!=null){if(ce(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return jo(a,t,i,p.getNode().getChild(i),o,u,m,h);if(ce(i)){let g=new Le(null);return p.getNode().forEachChild(ea,(b,y)=>{g=g.set(new Re(b),y)}),lh(a,t,i,g,o,u,m,h)}else return t}else{let g=new Le(null);return l.foreach((b,y)=>{const E=Ge(i,b);p.isCompleteForPath(E)&&(g=g.set(b,p.getNode().getChild(E)))}),lh(a,t,i,g,o,u,m,h)}}function lA(a,t,i,l,o){const u=t.serverCache,h=i0(t,u.getNode(),u.isFullyInitialized()||ce(i),u.isFiltered());return u0(a,h,i,l,c0,o)}function rA(a,t,i,l,o,u){let h;if(zo(l,i)!=null)return t;{const m=new Qh(l,t,o),p=t.eventCache.getNode();let g;if(ce(i)||ie(i)===".priority"){let b;if(t.serverCache.isFullyInitialized())b=Uo(l,as(t));else{const y=t.serverCache.getNode();j(y instanceof X,"serverChildren would be complete if leaf node"),b=Ph(l,y)}b=b,g=a.filter.updateFullNode(p,b,u)}else{const b=ie(i);let y=Yh(l,b,t.serverCache);y==null&&t.serverCache.isCompleteForChild(b)&&(y=p.getImmediateChild(b)),y!=null?g=a.filter.updateChild(p,b,y,Ue(i),m,u):t.eventCache.getNode().hasChild(b)?g=a.filter.updateChild(p,b,X.EMPTY_NODE,Ue(i),m,u):g=p,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Uo(l,as(t)),h.isLeafNode()&&(g=a.filter.updateFullNode(g,h,u)))}return h=t.serverCache.isFullyInitialized()||zo(l,ge())!=null,bl(t,g,h,a.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const l=this.query_._queryParams,o=new Hh(l.getIndex()),u=xx(l);this.processor_=eA(u);const h=i.serverCache,m=i.eventCache,p=o.updateFullNode(X.EMPTY_NODE,h.getNode(),null),g=u.updateFullNode(X.EMPTY_NODE,m.getNode(),null),b=new Ai(p,h.isFullyInitialized(),o.filtersNodes()),y=new Ai(g,m.isFullyInitialized(),u.filtersNodes());this.viewCache_=Ko(y,b),this.eventGenerator_=new Ix(this.query_)}get query(){return this.query_}}function cA(a){return a.viewCache_.serverCache.getNode()}function uA(a){return Lo(a.viewCache_)}function fA(a,t){const i=as(a.viewCache_);return i&&(a.query._queryParams.loadsAllData()||!ce(t)&&!i.getImmediateChild(ie(t)).isEmpty())?i.getChild(t):null}function Sy(a){return a.eventRegistrations_.length===0}function hA(a,t){a.eventRegistrations_.push(t)}function Ey(a,t,i){const l=[];if(i){j(t==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(i,o);h&&l.push(h)})}if(t){let o=[];for(let u=0;u<a.eventRegistrations_.length;++u){const h=a.eventRegistrations_[u];if(!h.matches(t))o.push(h);else if(t.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(u+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return l}function Ty(a,t,i,l){t.type===rn.MERGE&&t.source.queryId!==null&&(j(as(a.viewCache_),"We should always have a full cache before handling merges"),j(Lo(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,u=nA(a.processor_,o,t,i,l);return tA(a.processor_,u.viewCache),j(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=u.viewCache,f0(a,u.changes,u.viewCache.eventCache.getNode(),null)}function dA(a,t){const i=a.viewCache_.eventCache,l=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Pe,(u,h)=>{l.push(aa(u,h))}),i.isFullyInitialized()&&l.push(t0(i.getNode())),f0(a,l,i.getNode(),t)}function f0(a,t,i,l){const o=l?[l]:a.eventRegistrations_;return kx(a.eventGenerator_,t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho;class h0{constructor(){this.views=new Map}}function mA(a){j(!Ho,"__referenceConstructor has already been defined"),Ho=a}function pA(){return j(Ho,"Reference.ts has not been loaded"),Ho}function gA(a){return a.views.size===0}function Fh(a,t,i,l){const o=t.source.queryId;if(o!==null){const u=a.views.get(o);return j(u!=null,"SyncTree gave us an op for an invalid query."),Ty(u,t,i,l)}else{let u=[];for(const h of a.views.values())u=u.concat(Ty(h,t,i,l));return u}}function d0(a,t,i,l,o){const u=t._queryIdentifier,h=a.views.get(u);if(!h){let m=Uo(i,o?l:null),p=!1;m?p=!0:l instanceof X?(m=Ph(i,l),p=!1):(m=X.EMPTY_NODE,p=!1);const g=Ko(new Ai(m,p,!1),new Ai(l,o,!1));return new oA(t,g)}return h}function _A(a,t,i,l,o,u){const h=d0(a,t,l,o,u);return a.views.has(t._queryIdentifier)||a.views.set(t._queryIdentifier,h),hA(h,i),dA(h,i)}function yA(a,t,i,l){const o=t._queryIdentifier,u=[];let h=[];const m=Ni(a);if(o==="default")for(const[p,g]of a.views.entries())h=h.concat(Ey(g,i,l)),Sy(g)&&(a.views.delete(p),g.query._queryParams.loadsAllData()||u.push(g.query));else{const p=a.views.get(o);p&&(h=h.concat(Ey(p,i,l)),Sy(p)&&(a.views.delete(o),p.query._queryParams.loadsAllData()||u.push(p.query)))}return m&&!Ni(a)&&u.push(new(pA())(t._repo,t._path)),{removed:u,events:h}}function m0(a){const t=[];for(const i of a.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function wi(a,t){let i=null;for(const l of a.views.values())i=i||fA(l,t);return i}function p0(a,t){if(t._queryParams.loadsAllData())return Wo(a);{const l=t._queryIdentifier;return a.views.get(l)}}function g0(a,t){return p0(a,t)!=null}function Ni(a){return Wo(a)!=null}function Wo(a){for(const t of a.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo;function vA(a){j(!Bo,"__referenceConstructor has already been defined"),Bo=a}function bA(){return j(Bo,"Reference.ts has not been loaded"),Bo}let SA=1;class Cy{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Le(null),this.pendingWriteTree_=Wx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _0(a,t,i,l,o){return jx(a.pendingWriteTree_,t,i,l,o),o?pa(a,new ss(qh(),t,i)):[]}function EA(a,t,i,l){Hx(a.pendingWriteTree_,t,i,l);const o=Le.fromObject(i);return pa(a,new la(qh(),t,o))}function bi(a,t,i=!1){const l=Bx(a.pendingWriteTree_,t);if(qx(a.pendingWriteTree_,t)){let u=new Le(null);return l.snap!=null?u=u.set(ge(),!0):ht(l.children,h=>{u=u.set(new Re(h),!0)}),pa(a,new ko(l.path,u,i))}else return[]}function Gl(a,t,i){return pa(a,new ss(Vh(),t,i))}function TA(a,t,i){const l=Le.fromObject(i);return pa(a,new la(Vh(),t,l))}function CA(a,t){return pa(a,new Dl(Vh(),t))}function wA(a,t,i){const l=Xh(a,i);if(l){const o=Wh(l),u=o.path,h=o.queryId,m=_t(u,t),p=new Dl(Gh(h),m);return Zh(a,u,p)}else return[]}function qo(a,t,i,l,o=!1){const u=t._path,h=a.syncPointTree_.get(u);let m=[];if(h&&(t._queryIdentifier==="default"||g0(h,t))){const p=yA(h,t,i,l);gA(h)&&(a.syncPointTree_=a.syncPointTree_.remove(u));const g=p.removed;if(m=p.events,!o){const b=g.findIndex(E=>E._queryParams.loadsAllData())!==-1,y=a.syncPointTree_.findOnPath(u,(E,L)=>Ni(L));if(b&&!y){const E=a.syncPointTree_.subtree(u);if(!E.isEmpty()){const L=NA(E);for(let U=0;U<L.length;++U){const z=L[U],Q=z.query,he=S0(a,z);a.listenProvider_.startListening(El(Q),Ml(a,Q),he.hashFn,he.onComplete)}}}!y&&g.length>0&&!l&&(b?a.listenProvider_.stopListening(El(t),null):g.forEach(E=>{const L=a.queryToTagMap.get(Zo(E));a.listenProvider_.stopListening(El(E),L)}))}RA(a,g)}return m}function y0(a,t,i,l){const o=Xh(a,l);if(o!=null){const u=Wh(o),h=u.path,m=u.queryId,p=_t(h,t),g=new ss(Gh(m),p,i);return Zh(a,h,g)}else return[]}function xA(a,t,i,l){const o=Xh(a,l);if(o){const u=Wh(o),h=u.path,m=u.queryId,p=_t(h,t),g=Le.fromObject(i),b=new la(Gh(m),p,g);return Zh(a,h,b)}else return[]}function rh(a,t,i,l=!1){const o=t._path;let u=null,h=!1;a.syncPointTree_.foreachOnPath(o,(E,L)=>{const U=_t(E,o);u=u||wi(L,U),h=h||Ni(L)});let m=a.syncPointTree_.get(o);m?(h=h||Ni(m),u=u||wi(m,ge())):(m=new h0,a.syncPointTree_=a.syncPointTree_.set(o,m));let p;u!=null?p=!0:(p=!1,u=X.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((L,U)=>{const z=wi(U,ge());z&&(u=u.updateImmediateChild(L,z))}));const g=g0(m,t);if(!g&&!t._queryParams.loadsAllData()){const E=Zo(t);j(!a.queryToTagMap.has(E),"View does not exist, but we have a tag");const L=OA();a.queryToTagMap.set(E,L),a.tagToQueryMap.set(L,E)}const b=Xo(a.pendingWriteTree_,o);let y=_A(m,t,i,b,u,p);if(!g&&!h&&!l){const E=p0(m,t);y=y.concat(DA(a,t,E))}return y}function Kh(a,t,i){const o=a.pendingWriteTree_,u=a.syncPointTree_.findOnPath(t,(h,m)=>{const p=_t(h,t),g=wi(m,p);if(g)return g});return l0(o,t,u,i,!0)}function AA(a,t){const i=t._path;let l=null;a.syncPointTree_.foreachOnPath(i,(g,b)=>{const y=_t(g,i);l=l||wi(b,y)});let o=a.syncPointTree_.get(i);o?l=l||wi(o,ge()):(o=new h0,a.syncPointTree_=a.syncPointTree_.set(i,o));const u=l!=null,h=u?new Ai(l,!0,!1):null,m=Xo(a.pendingWriteTree_,t._path),p=d0(o,t,m,u?h.getNode():X.EMPTY_NODE,u);return uA(p)}function pa(a,t){return v0(t,a.syncPointTree_,null,Xo(a.pendingWriteTree_,ge()))}function v0(a,t,i,l){if(ce(a.path))return b0(a,t,i,l);{const o=t.get(ge());i==null&&o!=null&&(i=wi(o,ge()));let u=[];const h=ie(a.path),m=a.operationForChild(h),p=t.children.get(h);if(p&&m){const g=i?i.getImmediateChild(h):null,b=r0(l,h);u=u.concat(v0(m,p,g,b))}return o&&(u=u.concat(Fh(o,a,l,i))),u}}function b0(a,t,i,l){const o=t.get(ge());i==null&&o!=null&&(i=wi(o,ge()));let u=[];return t.children.inorderTraversal((h,m)=>{const p=i?i.getImmediateChild(h):null,g=r0(l,h),b=a.operationForChild(h);b&&(u=u.concat(b0(b,m,p,g)))}),o&&(u=u.concat(Fh(o,a,l,i))),u}function S0(a,t){const i=t.query,l=Ml(a,i);return{hashFn:()=>(cA(t)||X.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return l?wA(a,i._path,l):CA(a,i._path);{const u=Cw(o,i);return qo(a,i,null,u)}}}}function Ml(a,t){const i=Zo(t);return a.queryToTagMap.get(i)}function Zo(a){return a._path.toString()+"$"+a._queryIdentifier}function Xh(a,t){return a.tagToQueryMap.get(t)}function Wh(a){const t=a.indexOf("$");return j(t!==-1&&t<a.length-1,"Bad queryKey."),{queryId:a.substr(t+1),path:new Re(a.substr(0,t))}}function Zh(a,t,i){const l=a.syncPointTree_.get(t);j(l,"Missing sync point for query tag that we're tracking");const o=Xo(a.pendingWriteTree_,t);return Fh(l,i,o,null)}function NA(a){return a.fold((t,i,l)=>{if(i&&Ni(i))return[Wo(i)];{let o=[];return i&&(o=m0(i)),ht(l,(u,h)=>{o=o.concat(h)}),o}})}function El(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(bA())(a._repo,a._path):a}function RA(a,t){for(let i=0;i<t.length;++i){const l=t[i];if(!l._queryParams.loadsAllData()){const o=Zo(l),u=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(u)}}}function OA(){return SA++}function DA(a,t,i){const l=t._path,o=Ml(a,t),u=S0(a,i),h=a.listenProvider_.startListening(El(t),o,u.hashFn,u.onComplete),m=a.syncPointTree_.subtree(l);if(o)j(!Ni(m.value),"If we're adding a query, it shouldn't be shadowed");else{const p=m.fold((g,b,y)=>{if(!ce(g)&&b&&Ni(b))return[Wo(b).query];{let E=[];return b&&(E=E.concat(m0(b).map(L=>L.query))),ht(y,(L,U)=>{E=E.concat(U)}),E}});for(let g=0;g<p.length;++g){const b=p[g];a.listenProvider_.stopListening(El(b),Ml(a,b))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new Jh(i)}node(){return this.node_}}class $h{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Ge(this.path_,t);return new $h(this.syncTree_,i)}node(){return Kh(this.syncTree_,this.path_)}}const MA=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},wy=function(a,t,i){if(!a||typeof a!="object")return a;if(j(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return IA(a[".sv"],t,i);if(typeof a[".sv"]=="object")return kA(a[".sv"],t);j(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},IA=function(a,t,i){switch(a){case"timestamp":return i.timestamp;default:j(!1,"Unexpected server value: "+a)}},kA=function(a,t,i){a.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const l=a.increment;typeof l!="number"&&j(!1,"Unexpected increment value: "+l);const o=t.node();if(j(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return l;const h=o.getValue();return typeof h!="number"?l:h+l},E0=function(a,t,i,l){return ed(t,new $h(i,a),l)},T0=function(a,t,i){return ed(a,new Jh(t),i)};function ed(a,t,i){const l=a.getPriority().val(),o=wy(l,t.getImmediateChild(".priority"),i);let u;if(a.isLeafNode()){const h=a,m=wy(h.getValue(),t,i);return m!==h.getValue()||o!==h.getPriority().val()?new st(m,et(o)):a}else{const h=a;return u=h,o!==h.getPriority().val()&&(u=u.updatePriority(new st(o))),h.forEachChild(Pe,(m,p)=>{const g=ed(p,t.getImmediateChild(m),i);g!==p&&(u=u.updateImmediateChild(m,g))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t="",i=null,l={children:{},childCount:0}){this.name=t,this.parent=i,this.node=l}}function nd(a,t){let i=t instanceof Re?t:new Re(t),l=a,o=ie(i);for(;o!==null;){const u=ta(l.node.children,o)||{children:{},childCount:0};l=new td(o,l,u),i=Ue(i),o=ie(i)}return l}function ga(a){return a.node.value}function C0(a,t){a.node.value=t,oh(a)}function w0(a){return a.node.childCount>0}function LA(a){return ga(a)===void 0&&!w0(a)}function Jo(a,t){ht(a.node.children,(i,l)=>{t(new td(i,a,l))})}function x0(a,t,i,l){i&&t(a),Jo(a,o=>{x0(o,t,!0)})}function UA(a,t,i){let l=a.parent;for(;l!==null;){if(t(l))return!0;l=l.parent}return!1}function Pl(a){return new Re(a.parent===null?a.name:Pl(a.parent)+"/"+a.name)}function oh(a){a.parent!==null&&zA(a.parent,a.name,a)}function zA(a,t,i){const l=LA(i),o=gn(a.node.children,t);l&&o?(delete a.node.children[t],a.node.childCount--,oh(a)):!l&&!o&&(a.node.children[t]=i.node,a.node.childCount++,oh(a))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=/[\[\].#$\/\u0000-\u001F\u007F]/,HA=/[\[\].#$\u0000-\u001F\u007F]/,qf=10*1024*1024,id=function(a){return typeof a=="string"&&a.length!==0&&!jA.test(a)},A0=function(a){return typeof a=="string"&&a.length!==0&&!HA.test(a)},BA=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),A0(a)},qA=function(a){return a===null||typeof a=="string"||typeof a=="number"&&!Oh(a)||a&&typeof a=="object"&&gn(a,".sv")},N0=function(a,t,i,l){l&&t===void 0||$o(Vo(a,"value"),t,i)},$o=function(a,t,i){const l=i instanceof Re?new sx(i,a):i;if(t===void 0)throw new Error(a+"contains undefined "+Wi(l));if(typeof t=="function")throw new Error(a+"contains a function "+Wi(l)+" with contents = "+t.toString());if(Oh(t))throw new Error(a+"contains "+t.toString()+" "+Wi(l));if(typeof t=="string"&&t.length>qf/3&&Go(t)>qf)throw new Error(a+"contains a string greater than "+qf+" utf8 bytes "+Wi(l)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,u=!1;if(ht(t,(h,m)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(u=!0,!id(h)))throw new Error(a+" contains an invalid key ("+h+") "+Wi(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ax(l,h),$o(a,m,l),lx(l)}),o&&u)throw new Error(a+' contains ".value" child '+Wi(l)+" in addition to actual children.")}},VA=function(a,t){let i,l;for(i=0;i<t.length;i++){l=t[i];const u=Al(l);for(let h=0;h<u.length;h++)if(!(u[h]===".priority"&&h===u.length-1)){if(!id(u[h]))throw new Error(a+"contains an invalid key ("+u[h]+") in path "+l.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(ix);let o=null;for(i=0;i<t.length;i++){if(l=t[i],o!==null&&Zt(o,l))throw new Error(a+"contains a path "+o.toString()+" that is ancestor of another path "+l.toString());o=l}},GA=function(a,t,i,l){const o=Vo(a,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const u=[];ht(t,(h,m)=>{const p=new Re(h);if($o(o,m,Ge(i,p)),Lh(p)===".priority"&&!qA(m))throw new Error(o+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),VA(o,u)},R0=function(a,t,i,l){if(!A0(i))throw new Error(Vo(a,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},PA=function(a,t,i,l){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),R0(a,t,i)},sd=function(a,t){if(ie(t)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},YA=function(a,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!id(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!BA(i))throw new Error(Vo(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ec(a,t){let i=null;for(let l=0;l<t.length;l++){const o=t[l],u=o.getPath();i!==null&&!Uh(u,i.path)&&(a.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&a.eventLists_.push(i)}function O0(a,t,i){ec(a,i),D0(a,l=>Uh(l,t))}function Jt(a,t,i){ec(a,i),D0(a,l=>Zt(l,t)||Zt(t,l))}function D0(a,t){a.recursionDepth_++;let i=!0;for(let l=0;l<a.eventLists_.length;l++){const o=a.eventLists_[l];if(o){const u=o.path;t(u)?(FA(a.eventLists_[l]),a.eventLists_[l]=null):i=!1}}i&&(a.eventLists_=[]),a.recursionDepth_--}function FA(a){for(let t=0;t<a.events.length;t++){const i=a.events[t];if(i!==null){a.events[t]=null;const l=i.getEventRunner();yl&&ft("event: "+i.toString()),ma(l)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="repo_interrupt",XA=25;class WA{constructor(t,i,l,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=l,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new QA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Io(),this.transactionQueueTree_=new td,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ZA(a,t,i){if(a.stats_=Ih(a.repoInfo_),a.forceRestClient_||Nw())a.server_=new Mo(a.repoInfo_,(l,o,u,h)=>{xy(a,l,o,u,h)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>Ay(a,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tt(i)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}a.persistentConnection_=new Bn(a.repoInfo_,t,(l,o,u,h)=>{xy(a,l,o,u,h)},l=>{Ay(a,l)},l=>{JA(a,l)},a.authTokenProvider_,a.appCheckProvider_,i),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(l=>{a.server_.refreshAuthToken(l)}),a.appCheckProvider_.addTokenChangeListener(l=>{a.server_.refreshAppCheckToken(l.token)}),a.statsReporter_=Iw(a.repoInfo_,()=>new Mx(a.stats_,a.server_)),a.infoData_=new Ax,a.infoSyncTree_=new Cy({startListening:(l,o,u,h)=>{let m=[];const p=a.infoData_.getNode(l._path);return p.isEmpty()||(m=Gl(a.infoSyncTree_,l._path,p),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),ad(a,"connected",!1),a.serverSyncTree_=new Cy({startListening:(l,o,u,h)=>(a.server_.listen(l,u,o,(m,p)=>{const g=h(m,p);Jt(a.eventQueue_,l._path,g)}),[]),stopListening:(l,o)=>{a.server_.unlisten(l,o)}})}function M0(a){const i=a.infoData_.getNode(new Re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function tc(a){return MA({timestamp:M0(a)})}function xy(a,t,i,l,o){a.dataUpdateCount++;const u=new Re(t);i=a.interceptServerDataCallback_?a.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(l){const p=So(i,g=>et(g));h=xA(a.serverSyncTree_,u,p,o)}else{const p=et(i);h=y0(a.serverSyncTree_,u,p,o)}else if(l){const p=So(i,g=>et(g));h=TA(a.serverSyncTree_,u,p)}else{const p=et(i);h=Gl(a.serverSyncTree_,u,p)}let m=u;h.length>0&&(m=oa(a,u)),Jt(a.eventQueue_,m,h)}function Ay(a,t){ad(a,"connected",t),t===!1&&nN(a)}function JA(a,t){ht(t,(i,l)=>{ad(a,i,l)})}function ad(a,t,i){const l=new Re("/.info/"+t),o=et(i);a.infoData_.updateSnapshot(l,o);const u=Gl(a.infoSyncTree_,l,o);Jt(a.eventQueue_,l,u)}function ld(a){return a.nextWriteId_++}function $A(a,t,i){const l=AA(a.serverSyncTree_,t);return l!=null?Promise.resolve(l):a.server_.get(t).then(o=>{const u=et(o).withIndex(t._queryParams.getIndex());rh(a.serverSyncTree_,t,i,!0);let h;if(t._queryParams.loadsAllData())h=Gl(a.serverSyncTree_,t._path,u);else{const m=Ml(a.serverSyncTree_,t);h=y0(a.serverSyncTree_,t._path,u,m)}return Jt(a.eventQueue_,t._path,h),qo(a.serverSyncTree_,t,i,null,!0),u},o=>(Yl(a,"get for query "+tt(t)+" failed: "+o),Promise.reject(new Error(o))))}function eN(a,t,i,l,o){Yl(a,"set",{path:t.toString(),value:i,priority:l});const u=tc(a),h=et(i,l),m=Kh(a.serverSyncTree_,t),p=T0(h,m,u),g=ld(a),b=_0(a.serverSyncTree_,t,p,g,!0);ec(a.eventQueue_,b),a.server_.put(t.toString(),h.val(!0),(E,L)=>{const U=E==="ok";U||yt("set at "+t+" failed: "+E);const z=bi(a.serverSyncTree_,g,!U);Jt(a.eventQueue_,t,z),ch(a,o,E,L)});const y=od(a,t);oa(a,y),Jt(a.eventQueue_,y,[])}function tN(a,t,i,l){Yl(a,"update",{path:t.toString(),value:i});let o=!0;const u=tc(a),h={};if(ht(i,(m,p)=>{o=!1,h[m]=E0(Ge(t,m),et(p),a.serverSyncTree_,u)}),o)ft("update() called with empty data.  Don't do anything."),ch(a,l,"ok",void 0);else{const m=ld(a),p=EA(a.serverSyncTree_,t,h,m);ec(a.eventQueue_,p),a.server_.merge(t.toString(),i,(g,b)=>{const y=g==="ok";y||yt("update at "+t+" failed: "+g);const E=bi(a.serverSyncTree_,m,!y),L=E.length>0?oa(a,t):t;Jt(a.eventQueue_,L,E),ch(a,l,g,b)}),ht(i,g=>{const b=od(a,Ge(t,g));oa(a,b)}),Jt(a.eventQueue_,t,[])}}function nN(a){Yl(a,"onDisconnectEvents");const t=tc(a),i=Io();th(a.onDisconnect_,ge(),(o,u)=>{const h=E0(o,u,a.serverSyncTree_,t);n0(i,o,h)});let l=[];th(i,ge(),(o,u)=>{l=l.concat(Gl(a.serverSyncTree_,o,u));const h=od(a,o);oa(a,h)}),a.onDisconnect_=Io(),Jt(a.eventQueue_,ge(),l)}function iN(a,t,i){let l;ie(t._path)===".info"?l=rh(a.infoSyncTree_,t,i):l=rh(a.serverSyncTree_,t,i),O0(a.eventQueue_,t._path,l)}function sN(a,t,i){let l;ie(t._path)===".info"?l=qo(a.infoSyncTree_,t,i):l=qo(a.serverSyncTree_,t,i),O0(a.eventQueue_,t._path,l)}function aN(a){a.persistentConnection_&&a.persistentConnection_.interrupt(KA)}function Yl(a,...t){let i="";a.persistentConnection_&&(i=a.persistentConnection_.id+":"),ft(i,...t)}function ch(a,t,i,l){t&&ma(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let u=o;l&&(u+=": "+l);const h=new Error(u);h.code=o,t(h)}})}function I0(a,t,i){return Kh(a.serverSyncTree_,t,i)||X.EMPTY_NODE}function rd(a,t=a.transactionQueueTree_){if(t||nc(a,t),ga(t)){const i=L0(a,t);j(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&lN(a,Pl(t),i)}else w0(t)&&Jo(t,i=>{rd(a,i)})}function lN(a,t,i){const l=i.map(g=>g.currentWriteId),o=I0(a,t,l);let u=o;const h=o.hash();for(let g=0;g<i.length;g++){const b=i[g];j(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const y=_t(t,b.path);u=u.updateChild(y,b.currentOutputSnapshotRaw)}const m=u.val(!0),p=t;a.server_.put(p.toString(),m,g=>{Yl(a,"transaction put response",{path:p.toString(),status:g});let b=[];if(g==="ok"){const y=[];for(let E=0;E<i.length;E++)i[E].status=2,b=b.concat(bi(a.serverSyncTree_,i[E].currentWriteId)),i[E].onComplete&&y.push(()=>i[E].onComplete(null,!0,i[E].currentOutputSnapshotResolved)),i[E].unwatcher();nc(a,nd(a.transactionQueueTree_,t)),rd(a,a.transactionQueueTree_),Jt(a.eventQueue_,t,b);for(let E=0;E<y.length;E++)ma(y[E])}else{if(g==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{yt("transaction at "+p.toString()+" failed: "+g);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=g}oa(a,t)}},h)}function oa(a,t){const i=k0(a,t),l=Pl(i),o=L0(a,i);return rN(a,o,l),l}function rN(a,t,i){if(t.length===0)return;const l=[];let o=[];const h=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const p=t[m],g=_t(i,p.path);let b=!1,y;if(j(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)b=!0,y=p.abortReason,o=o.concat(bi(a.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=XA)b=!0,y="maxretry",o=o.concat(bi(a.serverSyncTree_,p.currentWriteId,!0));else{const E=I0(a,p.path,h);p.currentInputSnapshot=E;const L=t[m].update(E.val());if(L!==void 0){$o("transaction failed: Data returned ",L,p.path);let U=et(L);typeof L=="object"&&L!=null&&gn(L,".priority")||(U=U.updatePriority(E.getPriority()));const Q=p.currentWriteId,he=tc(a),be=T0(U,E,he);p.currentOutputSnapshotRaw=U,p.currentOutputSnapshotResolved=be,p.currentWriteId=ld(a),h.splice(h.indexOf(Q),1),o=o.concat(_0(a.serverSyncTree_,p.path,be,p.currentWriteId,p.applyLocally)),o=o.concat(bi(a.serverSyncTree_,Q,!0))}else b=!0,y="nodata",o=o.concat(bi(a.serverSyncTree_,p.currentWriteId,!0))}Jt(a.eventQueue_,i,o),o=[],b&&(t[m].status=2,(function(E){setTimeout(E,Math.floor(0))})(t[m].unwatcher),t[m].onComplete&&(y==="nodata"?l.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):l.push(()=>t[m].onComplete(new Error(y),!1,null))))}nc(a,a.transactionQueueTree_);for(let m=0;m<l.length;m++)ma(l[m]);rd(a,a.transactionQueueTree_)}function k0(a,t){let i,l=a.transactionQueueTree_;for(i=ie(t);i!==null&&ga(l)===void 0;)l=nd(l,i),t=Ue(t),i=ie(t);return l}function L0(a,t){const i=[];return U0(a,t,i),i.sort((l,o)=>l.order-o.order),i}function U0(a,t,i){const l=ga(t);if(l)for(let o=0;o<l.length;o++)i.push(l[o]);Jo(t,o=>{U0(a,o,i)})}function nc(a,t){const i=ga(t);if(i){let l=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[l]=i[o],l++);i.length=l,C0(t,i.length>0?i:void 0)}Jo(t,l=>{nc(a,l)})}function od(a,t){const i=Pl(k0(a,t)),l=nd(a.transactionQueueTree_,t);return UA(l,o=>{Vf(a,o)}),Vf(a,l),x0(l,o=>{Vf(a,o)}),i}function Vf(a,t){const i=ga(t);if(i){const l=[];let o=[],u=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(j(u===h-1,"All SENT items should be at beginning of queue."),u=h,i[h].status=3,i[h].abortReason="set"):(j(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(bi(a.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&l.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));u===-1?C0(t,void 0):i.length=u+1,Jt(a.eventQueue_,Pl(t),o);for(let h=0;h<l.length;h++)ma(l[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(a){let t="";const i=a.split("/");for(let l=0;l<i.length;l++)if(i[l].length>0){let o=i[l];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function cN(a){const t={};a.charAt(0)==="?"&&(a=a.substring(1));for(const i of a.split("&")){if(i.length===0)continue;const l=i.split("=");l.length===2?t[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):yt(`Invalid query segment '${i}' in query '${a}'`)}return t}const Ny=function(a,t){const i=uN(a),l=i.namespace;i.domain==="firebase.com"&&Gn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&i.domain!=="localhost"&&Gn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||vw();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Hv(i.host,i.secure,l,o,t,"",l!==i.subdomain),path:new Re(i.pathString)}},uN=function(a){let t="",i="",l="",o="",u="",h=!0,m="https",p=443;if(typeof a=="string"){let g=a.indexOf("//");g>=0&&(m=a.substring(0,g-1),a=a.substring(g+2));let b=a.indexOf("/");b===-1&&(b=a.length);let y=a.indexOf("?");y===-1&&(y=a.length),t=a.substring(0,Math.min(b,y)),b<y&&(o=oN(a.substring(b,y)));const E=cN(a.substring(Math.min(a.length,y)));g=t.indexOf(":"),g>=0?(h=m==="https"||m==="wss",p=parseInt(t.substring(g+1),10)):g=t.length;const L=t.slice(0,g);if(L.toLowerCase()==="localhost")i="localhost";else if(L.split(".").length<=2)i=L;else{const U=t.indexOf(".");l=t.substring(0,U).toLowerCase(),i=t.substring(U+1),u=l}"ns"in E&&(u=E.ns)}return{host:t,port:p,domain:i,subdomain:l,secure:h,scheme:m,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fN=(function(){let a=0;const t=[];return function(i){const l=i===a;a=i;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=Ry.charAt(i%64),i=Math.floor(i/64);j(i===0,"Cannot push at time == 0");let h=u.join("");if(l){for(o=11;o>=0&&t[o]===63;o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=Ry.charAt(t[o]);return j(h.length===20,"nextPushId: Length should be 20."),h}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(t,i,l,o){this.eventType=t,this.eventRegistration=i,this.snapshot=l,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tt(this.snapshot.exportVal())}}class dN{constructor(t,i,l){this.eventRegistration=t,this.error=i,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return j(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(t,i,l,o){this._repo=t,this._path=i,this._queryParams=l,this._orderByCalled=o}get key(){return ce(this._path)?null:Lh(this._path)}get ref(){return new Pn(this._repo,this._path)}get _queryIdentifier(){const t=my(this._queryParams),i=Dh(t);return i==="{}"?"default":i}get _queryObject(){return my(this._queryParams)}isEqual(t){if(t=bt(t),!(t instanceof cd))return!1;const i=this._repo===t._repo,l=Uh(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&l&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+nx(this._path)}}class Pn extends cd{constructor(t,i){super(t,i,new Bh,!1)}get parent(){const t=Kv(this._path);return t===null?null:new Pn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Il{constructor(t,i,l){this._node=t,this.ref=i,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Re(t),l=kl(this.ref,t);return new Il(this._node.getChild(i),l,Pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,o)=>t(new Il(o,kl(this.ref,l),Pe)))}hasChild(t){const i=new Re(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Fs(a,t){return a=bt(a),a._checkNotDeleted("ref"),t!==void 0?kl(a._root,t):a._root}function kl(a,t){return a=bt(a),ie(a._path)===null?PA("child","path",t):R0("child","path",t),new Pn(a._repo,Ge(a._path,t))}function mN(a,t){a=bt(a),sd("push",a._path),N0("push",t,a._path,!0);const i=M0(a._repo),l=fN(i),o=kl(a,l),u=kl(a,l);let h;return h=Promise.resolve(u),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function pN(a){return sd("remove",a._path),uh(a,null)}function uh(a,t){a=bt(a),sd("set",a._path),N0("set",t,a._path,!1);const i=new Ll;return eN(a._repo,a._path,t,null,i.wrapCallback(()=>{})),i.promise}function gN(a,t){GA("update",t,a._path);const i=new Ll;return tN(a._repo,a._path,t,i.wrapCallback(()=>{})),i.promise}function _N(a){a=bt(a);const t=new z0(()=>{}),i=new ic(t);return $A(a._repo,a,i).then(l=>new Il(l,new Pn(a._repo,a._path),a._queryParams.getIndex()))}class ic{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const l=i._queryParams.getIndex();return new hN("value",this,new Il(t.snapshotNode,new Pn(i._repo,i._path),l))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new dN(this,t,i):null}matches(t){return t instanceof ic?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function yN(a,t,i,l,o){const u=new z0(i,void 0),h=new ic(u);return iN(a._repo,a,h),()=>sN(a._repo,a,h)}function vN(a,t,i,l){return yN(a,"value",t)}mA(Pn);vA(Pn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="FIREBASE_DATABASE_EMULATOR_HOST",fh={};let SN=!1;function EN(a,t,i,l){const o=t.lastIndexOf(":"),u=t.substring(0,o),h=ua(u);a.repoInfo_=new Hv(t,h,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,i),l&&(a.authTokenProvider_=l)}function TN(a,t,i,l,o){let u=l||a.options.databaseURL;u===void 0&&(a.options.projectId||Gn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ft("Using default host for project ",a.options.projectId),u=`${a.options.projectId}-default-rtdb.firebaseio.com`);let h=Ny(u,o),m=h.repoInfo,p;typeof process<"u"&&W_&&(p=W_[bN]),p?(u=`http://${p}?ns=${m.namespace}`,h=Ny(u,o),m=h.repoInfo):h.repoInfo.secure;const g=new Ow(a.name,a.options,t);YA("Invalid Firebase Database URL",h),ce(h.path)||Gn("Database URL must point to the root of a Firebase Database (not including a child path).");const b=wN(m,a,g,new Rw(a,i));return new xN(b,a)}function CN(a,t){const i=fh[t];(!i||i[a.key]!==a)&&Gn(`Database ${t}(${a.repoInfo_}) has already been deleted.`),aN(a),delete i[a.key]}function wN(a,t,i,l){let o=fh[t.name];o||(o={},fh[t.name]=o);let u=o[a.toURLString()];return u&&Gn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new WA(a,SN,i,l),o[a.toURLString()]=u,u}class xN{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ZA(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pn(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(CN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Gn("Cannot call "+t+" on a deleted database.")}}function AN(a=Qy(),t){const i=vh(a,"database").getImmediate({identifier:t});if(!i._instanceStarted){const l=US("database");l&&NN(i,...l)}return i}function NN(a,t,i,l={}){a=bt(a),a._checkNotDeleted("useEmulator");const o=`${t}:${i}`,u=a._repoInternal;if(a._instanceStarted){if(o===a._repoInternal.repoInfo_.host&&es(l,u.repoInfo_.emulatorOptions))return;Gn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(u.repoInfo_.nodeAdmin)l.mockUserToken&&Gn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new yo(yo.OWNER);else if(l.mockUserToken){const m=typeof l.mockUserToken=="string"?l.mockUserToken:zS(l.mockUserToken,a.app.options.projectId);h=new yo(m)}ua(t)&&(Hy(t),By("Database",!0)),EN(u,o,l,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(a){dw(ha),na(new ts("database",(t,{instanceIdentifier:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return TN(l,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Ti(Z_,J_,a),Ti(Z_,J_,"esm2020")}Bn.prototype.simpleListen=function(a,t){this.sendRequest("q",{p:a},t)};Bn.prototype.echo=function(a,t){this.sendRequest("echo",{d:a},t)};RN();const ON={apiKey:"AIzaSyDe5lAkO9SOuQ7O_RIzwvz5d58GwNW_ls4",authDomain:"superyap.firebaseapp.com",databaseURL:"https://superyap-default-rtdb.firebaseio.com",projectId:"superyap",storageBucket:"superyap.firebasestorage.app",messagingSenderId:"697948183395",appId:"1:697948183395:web:286e3bf1ce96f03253d156"},j0=Yy(ON),hh=fw(j0),DN=new Ln,Ks=AN(j0);class MN{onValue(t,i){const l=Fs(Ks,t);return vN(l,o=>{const u=o.val();i(u)})}async set(t,i){const l=Fs(Ks,t);await uh(l,i)}async push(t,i){const l=Fs(Ks,t),o=mN(l);await uh(o,{...i,id:o.key})}async updateMessage(t,i,l){const o=Fs(Ks,`${t}/${i}`);await gN(o,l)}async removeMessage(t,i){const l=Fs(Ks,`${t}/${i}`);await pN(l)}async get(t){const i=Fs(Ks,t);return(await _N(i)).val()}}const gt=new MN,H0=(a,t)=>{const i=[a,t].sort();return`chats/${i[0]}_${i[1]}`},B0=({index:a,className:t=""})=>{const[i,l]=oe.useState(`/emojis/emoji_${a}.png`),[o,u]=oe.useState(!1);oe.useEffect(()=>{l(`/emojis/emoji_${a}.png`),u(!1)},[a]);const h=()=>{i.endsWith(`emoji_${a}.png`)?l(`/emojis/emoji${a}.png`):i.endsWith(`emoji${a}.png`)?l(`/emojis/${a}.png`):u(!0)};return o?S.jsx("div",{className:`inline-flex items-center justify-center bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl ${t}`,title:`Missing sticker: ${a}`,children:S.jsx("span",{className:"text-slate-300 font-chewy text-xl select-none",children:"?"})}):S.jsx("div",{className:`inline-flex items-center justify-center overflow-hidden ${t}`,children:S.jsx("img",{src:i,alt:`Sticker ${a}`,className:"w-full h-full object-contain drop-shadow-md hover:scale-110 transition-transform duration-200",loading:"lazy",onError:h})})},IN=["","","","","",""],kN=({onReact:a,onDelete:t,onClose:i,isMe:l})=>S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm animate-in fade-in duration-200",onClick:i,children:S.jsx("div",{className:"bg-white rounded-3xl shadow-2xl p-6 w-full max-w-xs animate-in zoom-in-95 duration-200",onClick:o=>o.stopPropagation(),children:S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"space-y-3",children:[S.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] text-center",children:"React"}),S.jsx("div",{className:"grid grid-cols-6 gap-2",children:IN.map(o=>S.jsx("button",{onClick:()=>a(o),className:"text-2xl hover:scale-125 transition-transform active:scale-95 p-1",children:o},o))})]}),S.jsx("div",{className:"h-px bg-slate-100"}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("button",{onClick:t,className:`w-full py-4 px-4 rounded-2xl flex items-center justify-center gap-2 font-black text-sm uppercase tracking-widest transition-colors ${l?"bg-red-50 text-red-500 hover:bg-red-100":"bg-slate-50 text-slate-400 cursor-not-allowed opacity-50"}`,disabled:!l,children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Message"]}),!l&&S.jsx("p",{className:"text-[9px] text-center text-slate-400 font-bold italic",children:"Only your own messages can be deleted"})]}),S.jsx("button",{onClick:i,className:"w-full py-3 text-slate-500 font-bold text-sm hover:text-slate-900 transition-colors uppercase tracking-widest",children:"Cancel"})]})})}),LN=(a,t,{threshold:i=500,onStart:l,onCancel:o}={})=>{const[u,h]=oe.useState(!1),m=oe.useRef(),p=oe.useRef(!1),g=oe.useCallback(y=>{p.current=!1,l&&l(y),m.current=setTimeout(()=>{p.current||(h(!0),a(y))},i)},[a,i,l]),b=oe.useCallback(y=>{p.current=!0,m.current&&clearTimeout(m.current),u&&h(!1),o&&o(y)},[t,u,o]);return{onMouseDown:g,onMouseUp:b,onMouseLeave:b,onTouchStart:g,onTouchEnd:b}},UN=({msg:a,user:t,contact:i,isMe:l,isLastInGroup:o,onSelect:u,onReact:h})=>{const m=Dy(a.content,i.hashingKey),p=m.startsWith("EMOJI:"),g=p?parseInt(m.split(":")[1],10):-1,b=LN(()=>u(a));return S.jsxs("div",{className:`flex items-end gap-3 ${l?"flex-row-reverse":""} mb-2`,children:[S.jsx("div",{className:`shrink-0 ${o?"opacity-100":"opacity-0"} w-8 h-8`,children:S.jsx(Hn,{id:l?t.id:i.id,username:l?t.username:i.username,className:"w-8 h-8"})}),S.jsxs("div",{className:`flex flex-col ${l?"items-end":"items-start"} max-w-[80%]`,children:[p?S.jsx("div",{className:"p-2 animate-in zoom-in duration-300 transform transition-transform hover:scale-110 cursor-pointer",onDoubleClick:()=>u(a),...b,children:S.jsx(B0,{index:g,className:"w-28 h-28 lg:w-44 lg:h-44"})}):S.jsx("div",{className:`px-5 py-3 rounded-3xl transition-colors cursor-pointer select-none ${l?"bg-slate-900 text-white rounded-br-none hover:bg-black":"bg-slate-100 text-slate-800 rounded-bl-none hover:bg-slate-200"}`,onDoubleClick:()=>u(a),...b,children:S.jsx("p",{className:"text-sm lg:text-base font-bold leading-relaxed whitespace-pre-wrap",children:m})}),a.reactions&&Object.keys(a.reactions).length>0&&S.jsx("div",{className:`flex flex-wrap gap-1 mt-1 ${l?"justify-end":"justify-start"}`,children:Object.entries(a.reactions).map(([y,E])=>S.jsxs("button",{onClick:()=>{u(a),h(y)},className:`flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs border transition-all ${E.includes(t.id)?"bg-slate-900 border-slate-900 text-white":"bg-white border-slate-100 text-slate-600 hover:border-slate-300"}`,children:[S.jsx("span",{className:"text-sm",children:y}),S.jsx("span",{className:"font-black text-[10px]",children:E.length})]},y))}),o&&S.jsx("span",{className:"text-[8px] font-black text-slate-300 mt-1 uppercase tracking-widest",children:new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},zN=40,jN=({contact:a,user:t,onBack:i,hideHeader:l=!1})=>{const[o,u]=oe.useState([]),[h,m]=oe.useState(""),[p,g]=oe.useState(!1),[b,y]=oe.useState(null),E=oe.useRef(null),L=H0(t.id,a.id);oe.useEffect(()=>{const W=gt.onValue(L,_e=>{if(_e){const Oe=Object.values(_e);u(Oe)}else u([])});return()=>W()},[L]),oe.useEffect(()=>{E.current&&(E.current.scrollTop=E.current.scrollHeight)},[o]);const U=W=>{const _e=xS(W,a.hashingKey),Oe={senderId:t.id,content:_e,timestamp:Date.now()};gt.push(L,Oe)},z=W=>{W.preventDefault(),h.trim()&&(U(h),m(""))},Q=W=>{U(`EMOJI:${W}`),g(!1)},he=()=>{b&&(gt.removeMessage(L,b.id),y(null))},be=W=>{if(b){const _e=b.reactions||{},Oe=_e[W]||[];let De;Oe.includes(t.id)?De=Oe.filter(F=>F!==t.id):De=[...Oe,t.id];const H={..._e};De.length>0?H[W]=De:delete H[W],gt.updateMessage(L,b.id,{reactions:H}),y(null)}};return S.jsxs("div",{className:"flex flex-col h-full bg-white animate-in slide-in-from-right duration-500",children:[!l&&S.jsx("div",{className:"h-16 flex items-center justify-between px-6 bg-white border-b border-slate-50 sticky top-0 z-10 shrink-0",children:S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("button",{onClick:i,className:"lg:hidden p-2 -ml-2 hover:bg-slate-50 rounded-full text-slate-400 transition-colors",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M15 19l-7-7 7-7"})})}),S.jsx(Hn,{id:a.id,username:a.username,className:"w-10 h-10"}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-black text-slate-900 leading-tight text-sm lg:text-base",children:a.username}),S.jsx("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest",children:"End-to-end Hashed"})]})]})}),S.jsx("div",{ref:E,className:"flex-1 overflow-y-auto px-6 lg:px-12 py-8 space-y-6 bg-white",children:o.map((W,_e)=>{const Oe=W.senderId===t.id,De=o[_e+1],H=!De||De.senderId!==W.senderId;return S.jsx(UN,{msg:W,user:t,contact:a,isMe:Oe,isLastInGroup:H,onSelect:y,onReact:be},W.id||_e)})}),S.jsxs("div",{className:"bg-white shrink-0 border-t border-slate-50 pb-safe",children:[p&&S.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100 animate-in slide-in-from-bottom duration-300",children:S.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-8 md:grid-cols-10 gap-3 max-h-[280px] overflow-y-auto no-scrollbar py-2",children:Array.from({length:zN}).map((W,_e)=>{const Oe=_e+1;return S.jsx("button",{type:"button",onClick:()=>Q(Oe),className:"aspect-square flex items-center justify-center p-1.5 bg-white rounded-2xl hover:bg-slate-100 hover:shadow-sm transition-all active:scale-90 border border-slate-100 overflow-hidden",children:S.jsx(B0,{index:Oe,className:"w-full h-full"})},Oe)})})}),S.jsx("div",{className:"p-4 lg:p-6 pb-[calc(1rem+env(safe-area-inset-bottom))] lg:pb-6 max-w-5xl mx-auto w-full",children:S.jsxs("form",{onSubmit:z,className:"flex items-center gap-3 bg-slate-50 rounded-full px-5 py-2 border border-slate-100 focus-within:border-slate-300 focus-within:bg-white transition-all",children:[S.jsx("button",{type:"button",onClick:()=>g(!p),className:`p-2 rounded-full transition-all ${p?"text-slate-900 bg-white rotate-12":"text-slate-400 hover:text-slate-600"}`,children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),S.jsx("input",{type:"text",value:h,onChange:W=>m(W.target.value),placeholder:"Secure hashed message...",className:"flex-1 bg-transparent border-none py-2 text-slate-900 focus:outline-none placeholder-slate-400 font-bold text-sm lg:text-base"}),S.jsx("button",{type:"submit",disabled:!h.trim(),className:"w-10 h-10 bg-slate-900 hover:bg-black rounded-full flex items-center justify-center text-white disabled:opacity-20 transition-all active:scale-90 shrink-0 border-none",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 rotate-90",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})})]}),b&&S.jsx(kN,{isMe:b.senderId===t.id,onDelete:he,onReact:be,onClose:()=>y(null)})]})},HN=({user:a,onUpdate:t,onBack:i})=>{const[l,o]=oe.useState(!1),u=()=>{const h=`${window.location.origin}?user=${a.id}`;navigator.clipboard.writeText(h),o(!0),setTimeout(()=>o(!1),2e3)};return S.jsx("div",{className:"h-full bg-white flex flex-col overflow-y-auto animate-in fade-in slide-in-from-bottom duration-500",children:S.jsxs("div",{className:"w-full max-w-2xl mx-auto px-6 py-10 lg:py-16 pb-[calc(2.5rem+env(safe-area-inset-bottom))] lg:pb-16 flex-1 flex flex-col",children:[S.jsxs("div",{className:"mb-10",children:[S.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:"Account"}),S.jsx("p",{className:"text-sm text-slate-400 font-bold mt-1",children:"Manage your identity."})]}),S.jsxs("div",{className:"space-y-10 flex-1",children:[S.jsxs("section",{className:"flex flex-col sm:flex-row items-center gap-8 p-6 lg:p-8 bg-slate-100 rounded-none border-none",children:[S.jsx("div",{className:"relative group shrink-0",children:S.jsx(Hn,{id:a.id,username:a.username,className:"w-24 h-24 text-4xl"})}),S.jsxs("div",{className:"flex-1 text-center sm:text-left min-w-0",children:[S.jsx("h4",{className:"font-black text-slate-800 text-xl mb-1 truncate",children:a.username}),S.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest",children:"Permanent Identity Image"}),S.jsx("p",{className:"mt-2 text-[10px] text-slate-400 font-medium",children:"Profile pictures are automatically generated from your Public Key."})]})]}),S.jsx("div",{className:"space-y-6",children:S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Display Alias"}),S.jsx("input",{type:"text",value:a.username,onChange:h=>t({username:h.target.value}),className:"w-full bg-slate-100 border-none p-4 rounded-none outline-none font-bold text-base text-slate-700 focus:bg-slate-200"})]})}),S.jsx("div",{className:"p-8 bg-slate-100 rounded-none border-none overflow-hidden",children:S.jsx("div",{className:"flex flex-col gap-5",children:S.jsxs("div",{className:"min-w-0",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest block mb-2",children:"Public Key"}),S.jsx("code",{className:"text-[11px] font-mono text-slate-900 font-black break-all block bg-white p-3 rounded-none border-none",children:a.id})]})})}),S.jsx("button",{onClick:()=>eC(hh),className:"w-full bg-red-50 hover:bg-red-100 text-red-500 font-black py-4 rounded-full transition-all active:scale-[0.98] uppercase tracking-widest text-xs border-none mt-4",children:"Logout session"})]}),S.jsxs("div",{className:"flex gap-4 mt-8",children:[S.jsxs("button",{onClick:i,className:"flex-1 bg-slate-100 hover:bg-slate-200 text-slate-900 font-black py-4 rounded-full transition-all active:scale-[0.98] flex items-center justify-center gap-2 border-none",children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Chat"]}),S.jsxs("button",{onClick:u,className:`flex-1 font-black py-4 rounded-full transition-all active:scale-[0.98] flex items-center justify-center gap-2 border-none ${l?"bg-emerald-500 text-white":"bg-slate-900 text-white hover:bg-black"}`,children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),l?"Link Copied":"Share Profile"]})]})]})})},BN=({onAdd:a,onBack:t})=>{const[i,l]=oe.useState(""),[o,u]=oe.useState(!1),[h,m]=oe.useState(!1),[p,g]=oe.useState(null),b=async L=>{if(!(L.length<5)){m(!0),g(null),u(!1);try{const U=await gt.get(`users/${L}`);U&&g({username:U.username,avatar:U.avatar,id:U.id})}catch(U){console.error("User lookup failed",U),U.code==="PERMISSION_DENIED"&&u(!0)}finally{m(!1)}}},y=L=>{const U=L.target.value;l(U),U.length>=10?b(U):g(null)},E=L=>{if(L.preventDefault(),!p)return;const U=`shared_hash_${p.id}`,z={id:p.id,username:p.username,hashingKey:U,avatar:p.avatar};a(z)};return S.jsx("div",{className:"h-full bg-white flex flex-col overflow-y-auto animate-in fade-in slide-in-from-bottom duration-500",children:S.jsxs("div",{className:"w-full max-w-2xl mx-auto px-6 py-10 lg:py-16",children:[S.jsxs("div",{className:"mb-10",children:[S.jsx("div",{className:"flex items-center gap-4 mb-4",children:S.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:"Add Friend"})}),S.jsx("p",{className:"text-sm text-slate-400 font-bold mt-1",children:"Connect with their identity key to start chatting."})]}),S.jsxs("form",{onSubmit:E,className:"space-y-10",children:[S.jsxs("section",{className:"flex flex-col sm:flex-row items-center gap-8 p-6 lg:p-8 bg-slate-100 rounded-none border-none transition-all duration-300",children:[S.jsx("div",{className:"shrink-0",children:S.jsx(Hn,{id:(p==null?void 0:p.id)||i||"temp",username:(p==null?void 0:p.username)||"?",className:"w-24 h-24 text-4xl"})}),S.jsxs("div",{className:"flex-1 text-center sm:text-left min-w-0",children:[h?S.jsx("h4",{className:"font-black text-slate-400 text-xl mb-1 truncate animate-pulse",children:"Searching..."}):S.jsx("h4",{className:"font-black text-slate-800 text-xl mb-1 truncate",children:p?p.username:"Unknown User"}),S.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest",children:p?"User Found":"Enter a valid ID"})]})]}),S.jsx("div",{className:"space-y-6",children:S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Public Identity Key"}),S.jsx("input",{type:"text",value:i,onChange:y,placeholder:"Paste UID or Identity Key",className:"w-full bg-slate-100 border-none p-4 rounded-none outline-none font-mono text-sm text-slate-900 font-bold"}),o&&S.jsx("p",{className:"text-xs text-red-500 font-bold px-1",children:"Could not find user. The ID might be incorrect."})]})}),S.jsx("button",{type:"submit",disabled:!p,className:"w-full bg-slate-900 hover:bg-black disabled:opacity-30 disabled:cursor-not-allowed text-white font-black py-4 rounded-full transition-all active:scale-[0.98] uppercase tracking-widest text-xs border-none shadow-none",children:"Start Hashed Chat"})]})]})})},qN=({contact:a,onBack:t,onRemove:i,onChat:l})=>{const[o,u]=oe.useState(!1),h=()=>{const m=`${window.location.origin}?user=${a.id}`;navigator.clipboard.writeText(m),u(!0),setTimeout(()=>u(!1),2e3)};return S.jsx("div",{className:"h-full bg-white flex flex-col overflow-y-auto animate-in fade-in slide-in-from-bottom duration-500",children:S.jsxs("div",{className:"w-full max-w-2xl mx-auto px-6 py-10 lg:py-16 pb-[calc(2.5rem+env(safe-area-inset-bottom))] lg:pb-16 flex-1 flex flex-col",children:[S.jsx("div",{className:"mb-8 flex items-center gap-4",children:S.jsx("h2",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Contact Info"})}),S.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[S.jsx("div",{className:"w-32 h-32 mb-6",children:S.jsx(Hn,{id:a.id,username:a.username,className:"w-full h-full text-5xl shadow-2xl"})}),S.jsx("h1",{className:"text-3xl font-black text-slate-900 text-center mb-2",children:a.username}),S.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-10",children:"Encrypted Chat Contact"}),S.jsxs("div",{className:"w-full space-y-8 flex-1",children:[S.jsxs("div",{className:"p-6 bg-slate-50 rounded-2xl border border-slate-100",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3",children:"Identity Key"}),S.jsx("code",{className:"text-[11px] font-mono text-slate-700 font-bold break-all block leading-relaxed",children:a.id})]}),S.jsx("button",{onClick:i,className:"w-full py-4 text-red-500 font-black uppercase tracking-widest text-xs hover:bg-red-50 rounded-2xl transition-colors",children:"Remove Contact"})]}),S.jsxs("div",{className:"w-full flex gap-4 mt-8",children:[S.jsxs("button",{onClick:l,className:"flex-1 bg-slate-100 hover:bg-slate-200 text-slate-900 font-black py-4 rounded-full transition-all active:scale-[0.98] flex items-center justify-center gap-2 border-none",children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Chat"]}),S.jsxs("button",{onClick:h,className:`flex-1 font-black py-4 rounded-full transition-all active:scale-[0.98] flex items-center justify-center gap-2 border-none ${o?"bg-emerald-500 text-white":"bg-slate-900 text-white hover:bg-black"}`,children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),o?"Link Copied":"Share Profile"]})]})]})]})})},VN=()=>{const[a,t]=oe.useState(null),i=(H,F)=>`shared_hash_${[H,F].sort().join("_")}`,[l,o]=oe.useState(null),[u,h]=oe.useState("HOME"),[m,p]=oe.useState(null),[g,b]=oe.useState([]),[y,E]=oe.useState(!0),[L,U]=oe.useState(!0);oe.useEffect(()=>{const H=setTimeout(()=>{E(!1)},2e3);return()=>clearTimeout(H)},[]),oe.useEffect(()=>{const H=$T(hh,async F=>{if(F){o(F);const Te=await gt.get(`users/${F.uid}`);if(Te)t(Te);else{const Be={id:F.uid,username:F.displayName||`User_${F.uid.substring(0,5)}`,avatar:F.photoURL||"robohash",hashingKey:"master_key_"+Math.random().toString(36).substring(7)};await gt.set(`users/${F.uid}`,Be),t(Be)}}else o(null),t(null);U(!1)});return()=>H()},[]),oe.useEffect(()=>{if(!a)return;const F=new URLSearchParams(window.location.search).get("user");F&&F!==a.id&&(window.history.replaceState({},"",window.location.pathname),(async()=>{const Be=g.find(Me=>Me.id===F);if(Be)p(Be),h("CHAT");else try{const Me=await gt.get(`users/${F}`);if(Me){const Je=i(a.id,Me.id),Bt={id:Me.id,username:Me.username,avatar:Me.avatar,hashingKey:Je};await gt.set(`users/${a.id}/contacts/${F}`,Bt),p(Bt),h("CHAT")}}catch(Me){console.error("Failed to resolve deep link user",Me)}})())},[a==null?void 0:a.id,g.length]),oe.useEffect(()=>{if(!a)return;const H=gt.onValue(`users/${a.id}/contacts`,F=>{if(F){const Te=Object.values(F);b(Te)}});return()=>H()},[a==null?void 0:a.id]),oe.useEffect(()=>{if(!a||g.length===0)return;const H=g.map(F=>{const Te=H0(a.id,F.id);return gt.onValue(Te,Be=>{if(Be&&Be.length>0){const Me=Object.values(Be),Je=Me[Me.length-1];b(Bt=>Bt.map(Rt=>Rt.id===F.id?{...Rt,lastMessage:Je.content,lastTimestamp:Je.timestamp}:Rt))}})});return()=>H.forEach(F=>F())},[a==null?void 0:a.id,g.length]);const z=async()=>{try{await bC(hh,DN)}catch(H){console.error("Login failed",H)}},Q=[...g].sort((H,F)=>H.pinned&&!F.pinned?-1:!H.pinned&&F.pinned?1:(F.lastTimestamp||0)-(H.lastTimestamp||0)),he=async H=>{if(!a)return;const F=g.find(Be=>Be.id===H);if(!F)return;const Te=!F.pinned;b(Be=>Be.map(Me=>Me.id===H?{...Me,pinned:Te}:Me)),await gt.set(`users/${a.id}/contacts/${H}/pinned`,Te)},be=async H=>{a&&window.confirm("Are you sure you want to remove this contact? Chats will be preserved.")&&(await gt.set(`users/${a.id}/contacts/${H}`,null),b(F=>F.filter(Te=>Te.id!==H)),(m==null?void 0:m.id)===H&&(h("HOME"),p(null)))},W=async H=>{if(!a)return;const F={...a,...H};await gt.set(`users/${a.id}`,F),t(F)},_e=async H=>{if(!a)return;if(!g.find(Te=>Te.id===H.id)){const Te=i(a.id,H.id),Be={...H,hashingKey:Te};await gt.set(`users/${a.id}/contacts/${H.id}`,Be)}h("HOME")},Oe=H=>{p(H),h("CHAT")},De=H=>{p(H),h("CONTACT_PROFILE")};return y?S.jsx("div",{className:"fixed inset-0 z-[999] flex flex-col items-center justify-center bg-white animate-out fade-out duration-700 fill-mode-forwards",children:S.jsx("h1",{className:"text-7xl font-chewy font-black text-slate-900 tracking-tight animate-in zoom-in-75 duration-500 uppercase",children:"Super Yap"})}):L?null:l?a?S.jsxs("div",{className:"flex h-[100dvh] w-full bg-white overflow-hidden text-slate-900 animate-in fade-in duration-500",children:[S.jsxs("aside",{className:"hidden lg:flex w-80 bg-slate-50 flex-col shrink-0 border-r border-slate-100",children:[S.jsx("div",{className:"h-16 flex items-center px-6",children:S.jsx("button",{onClick:()=>h("HOME"),className:"font-chewy text-2xl text-slate-900 tracking-wide",children:"Super Yap"})}),S.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4",children:S.jsx(S_,{contacts:Q,onChatClick:Oe,onPinChat:he,onRemoveChat:be,onProfileClick:De,activeContactId:m==null?void 0:m.id,isMobile:!1})}),S.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100",children:S.jsxs("button",{onClick:()=>h("DASHBOARD"),className:`flex items-center gap-3 w-full p-3 rounded-2xl transition-all group border-none ${u==="DASHBOARD"?"bg-slate-900 text-white":"hover:bg-white text-slate-700 hover:shadow-sm"}`,children:[S.jsx(Hn,{id:a.id,username:a.username,className:"w-10 h-10"}),S.jsxs("div",{className:"flex-1 text-left min-w-0",children:[S.jsx("p",{className:"text-sm font-black truncate",children:a.username}),S.jsx("p",{className:`text-[10px] font-black uppercase tracking-widest ${u==="DASHBOARD"?"text-white/50":"text-slate-400"}`,children:"Settings"})]})]})})]}),S.jsxs("main",{className:"flex-1 flex flex-col relative bg-white min-w-0 overflow-hidden",children:[S.jsxs("header",{className:`h-16 flex items-center justify-between px-6 bg-white border-b border-slate-50 sticky top-0 z-20 shrink-0 ${u==="HOME"&&"lg:hidden"}`,children:[S.jsxs("div",{className:"flex items-center gap-3",children:[u!=="HOME"&&S.jsx("button",{onClick:()=>h("HOME"),className:"p-2 -ml-2 rounded-full text-slate-400 transition-colors hover:bg-slate-100","aria-label":"Back",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M15 19l-7-7 7-7"})})}),S.jsxs("div",{children:[u==="HOME"&&S.jsx("h1",{className:"font-chewy text-2xl text-slate-900",children:"Super Yap"}),u==="CHAT"&&m&&S.jsx("div",{className:"flex items-center gap-3",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("button",{onClick:()=>m&&De(m),children:S.jsx(Hn,{id:m.id,username:m.username,className:"w-8 h-8"})}),S.jsxs("button",{onClick:()=>m&&De(m),className:"text-left",children:[S.jsx("h3",{className:"font-black text-slate-900 text-sm leading-none",children:m.username}),S.jsx("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest mt-1",children:"Hashed Active"})]})]})}),u==="DASHBOARD"&&S.jsx("h1",{className:"font-black text-slate-800 tracking-widest uppercase text-sm",children:"Profile Settings"}),u==="ADD_CONTACT"&&S.jsx("h1",{className:"font-black text-slate-800 tracking-widest uppercase text-sm",children:"Connect with Hash"})]})]}),S.jsxs("div",{className:"flex items-center gap-4",children:[u==="HOME"&&S.jsx("button",{onClick:()=>h("DASHBOARD"),className:"lg:hidden",children:S.jsx(Hn,{id:a.id,username:a.username,className:"w-10 h-10"})}),u==="DASHBOARD"&&S.jsx("button",{onClick:()=>h("HOME"),className:"p-2 -mr-2 rounded-full text-slate-400 transition-colors hover:bg-slate-100",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),S.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[u==="HOME"&&S.jsxs("div",{className:"h-full flex flex-col",children:[S.jsx("div",{className:"lg:hidden flex-1 overflow-y-auto",children:S.jsx(S_,{contacts:Q,onChatClick:Oe,onPinChat:he,onRemoveChat:be,onProfileClick:De,activeContactId:m==null?void 0:m.id,isMobile:!0})}),S.jsxs("div",{className:"hidden lg:flex h-full flex-col items-center justify-center p-12 text-center",children:[S.jsx("div",{className:"w-24 h-24 bg-slate-50 flex items-center justify-center mb-8 rounded-3xl border border-slate-100",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-slate-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),S.jsx("h2",{className:"text-4xl font-chewy text-slate-800 mb-2 tracking-wide",children:"Ready for lift off?"}),S.jsx("p",{className:"text-slate-400 text-lg max-w-xs mb-10 font-medium",children:"Fast, Hashed, and Minimalist."}),S.jsx("button",{onClick:()=>h("ADD_CONTACT"),className:"bg-slate-900 hover:bg-black text-white font-chewy text-xl py-4 px-12 rounded-full transition-all active:scale-95 flex items-center gap-3 border-none",children:"+ Add Someone"})]})]}),u==="CHAT"&&m&&S.jsx(jN,{contact:m,user:a,onBack:()=>h("HOME"),hideHeader:!0}),u==="DASHBOARD"&&S.jsx(HN,{user:a,onUpdate:W,onBack:()=>h("HOME")}),u==="ADD_CONTACT"&&S.jsx(BN,{onAdd:_e,onBack:()=>h("HOME")}),u==="CONTACT_PROFILE"&&m&&S.jsx(qN,{contact:m,onBack:()=>h("HOME"),onRemove:()=>be(m.id)})]}),u==="HOME"&&S.jsxs("button",{onClick:()=>h("ADD_CONTACT"),className:"absolute bottom-[calc(2rem+env(safe-area-inset-bottom))] right-8 h-16 px-6 bg-slate-900 rounded-full flex items-center justify-center text-white active:scale-90 z-20 transition-all duration-300 hover:scale-105 hover:bg-black shadow-xl border-none",children:[S.jsx("span",{className:"font-chewy text-2xl mr-2",children:"+"}),S.jsx("span",{className:"font-chewy text-xl uppercase tracking-wider",children:"New"})]})]})]}):null:S.jsxs("div",{className:"flex h-[100dvh] w-full flex-col items-center justify-center bg-white p-6 text-center animate-in fade-in duration-500",children:[S.jsx("h1",{className:"text-6xl font-chewy font-black text-slate-900 mb-4",children:"Super Yap"}),S.jsx("p",{className:"text-slate-400 text-xl max-w-xs mb-10 font-medium",children:"Fast, Hashed, and Minimalist."}),S.jsx("button",{onClick:z,className:"bg-slate-900 hover:bg-black text-white font-chewy text-2xl py-5 px-16 rounded-full transition-all active:scale-95 flex items-center gap-4 border-none shadow-xl",children:"Login with Google"})]})},q0=document.getElementById("root");if(!q0)throw new Error("Could not find root element to mount to");const GN=ES.createRoot(q0);GN.render(S.jsx(mS.StrictMode,{children:S.jsx(VN,{})}));
