(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function Oy(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Tf={exports:{}},ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function f1(){if(f_)return ul;f_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(l,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:a,type:l,key:h,ref:o!==void 0?o:null,props:u}}return ul.Fragment=t,ul.jsx=i,ul.jsxs=i,ul}var h_;function h1(){return h_||(h_=1,Tf.exports=f1()),Tf.exports}var T=h1(),Cf={exports:{}},$={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function d1(){if(d_)return $;d_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function L(C){return C===null||typeof C!="object"?null:(C=S&&C[S]||C["@@iterator"],typeof C=="function"?C:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,ie={};function me(C,U,H){this.props=C,this.context=U,this.refs=ie,this.updater=H||O}me.prototype.isReactComponent={},me.prototype.setState=function(C,U){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,U,"setState")},me.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Re(){}Re.prototype=me.prototype;function J(C,U,H){this.props=C,this.context=U,this.refs=ie,this.updater=H||O}var pe=J.prototype=new Re;pe.constructor=J,B(pe,me.prototype),pe.isPureReactComponent=!0;var Q=Array.isArray;function F(){}var P={H:null,A:null,T:null,S:null},Oe=Object.prototype.hasOwnProperty;function it(C,U,H){var V=H.ref;return{$$typeof:a,type:C,key:U,ref:V!==void 0?V:null,props:H}}function mn(C,U){return it(C.type,U,C.props)}function zt(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function Je(C){var U={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(H){return U[H]})}var Ri=/\/+/g;function pn(C,U){return typeof C=="object"&&C!==null&&C.key!=null?Je(""+C.key):U.toString(36)}function Wt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(F,F):(C.status="pending",C.then(function(U){C.status==="pending"&&(C.status="fulfilled",C.value=U)},function(U){C.status==="pending"&&(C.status="rejected",C.reason=U)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function M(C,U,H,V,ee){var le=typeof C;(le==="undefined"||le==="boolean")&&(C=null);var be=!1;if(C===null)be=!0;else switch(le){case"bigint":case"string":case"number":be=!0;break;case"object":switch(C.$$typeof){case a:case t:be=!0;break;case b:return be=C._init,M(be(C._payload),U,H,V,ee)}}if(be)return ee=ee(C),be=V===""?"."+pn(C,0):V,Q(ee)?(H="",be!=null&&(H=be.replace(Ri,"$&/")+"/"),M(ee,U,H,"",function(_a){return _a})):ee!=null&&(zt(ee)&&(ee=mn(ee,H+(ee.key==null||C&&C.key===ee.key?"":(""+ee.key).replace(Ri,"$&/")+"/")+be)),U.push(ee)),1;be=0;var ht=V===""?".":V+":";if(Q(C))for(var Ve=0;Ve<C.length;Ve++)V=C[Ve],le=ht+pn(V,Ve),be+=M(V,U,H,le,ee);else if(Ve=L(C),typeof Ve=="function")for(C=Ve.call(C),Ve=0;!(V=C.next()).done;)V=V.value,le=ht+pn(V,Ve++),be+=M(V,U,H,le,ee);else if(le==="object"){if(typeof C.then=="function")return M(Wt(C),U,H,V,ee);throw U=String(C),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return be}function j(C,U,H){if(C==null)return C;var V=[],ee=0;return M(C,V,"","",function(le){return U.call(H,le,ee++)}),V}function W(C){if(C._status===-1){var U=C._result;U=U(),U.then(function(H){(C._status===0||C._status===-1)&&(C._status=1,C._result=H)},function(H){(C._status===0||C._status===-1)&&(C._status=2,C._result=H)}),C._status===-1&&(C._status=0,C._result=U)}if(C._status===1)return C._result.default;throw C._result}var Te=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},De={map:j,forEach:function(C,U,H){j(C,function(){U.apply(this,arguments)},H)},count:function(C){var U=0;return j(C,function(){U++}),U},toArray:function(C){return j(C,function(U){return U})||[]},only:function(C){if(!zt(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return $.Activity=y,$.Children=De,$.Component=me,$.Fragment=i,$.Profiler=o,$.PureComponent=J,$.StrictMode=l,$.Suspense=g,$.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,$.__COMPILER_RUNTIME={__proto__:null,c:function(C){return P.H.useMemoCache(C)}},$.cache=function(C){return function(){return C.apply(null,arguments)}},$.cacheSignal=function(){return null},$.cloneElement=function(C,U,H){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var V=B({},C.props),ee=C.key;if(U!=null)for(le in U.key!==void 0&&(ee=""+U.key),U)!Oe.call(U,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&U.ref===void 0||(V[le]=U[le]);var le=arguments.length-2;if(le===1)V.children=H;else if(1<le){for(var be=Array(le),ht=0;ht<le;ht++)be[ht]=arguments[ht+2];V.children=be}return it(C.type,ee,V)},$.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},$.createElement=function(C,U,H){var V,ee={},le=null;if(U!=null)for(V in U.key!==void 0&&(le=""+U.key),U)Oe.call(U,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(ee[V]=U[V]);var be=arguments.length-2;if(be===1)ee.children=H;else if(1<be){for(var ht=Array(be),Ve=0;Ve<be;Ve++)ht[Ve]=arguments[Ve+2];ee.children=ht}if(C&&C.defaultProps)for(V in be=C.defaultProps,be)ee[V]===void 0&&(ee[V]=be[V]);return it(C,le,ee)},$.createRef=function(){return{current:null}},$.forwardRef=function(C){return{$$typeof:m,render:C}},$.isValidElement=zt,$.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:W}},$.memo=function(C,U){return{$$typeof:p,type:C,compare:U===void 0?null:U}},$.startTransition=function(C){var U=P.T,H={};P.T=H;try{var V=C(),ee=P.S;ee!==null&&ee(H,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(F,Te)}catch(le){Te(le)}finally{U!==null&&H.types!==null&&(U.types=H.types),P.T=U}},$.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},$.use=function(C){return P.H.use(C)},$.useActionState=function(C,U,H){return P.H.useActionState(C,U,H)},$.useCallback=function(C,U){return P.H.useCallback(C,U)},$.useContext=function(C){return P.H.useContext(C)},$.useDebugValue=function(){},$.useDeferredValue=function(C,U){return P.H.useDeferredValue(C,U)},$.useEffect=function(C,U){return P.H.useEffect(C,U)},$.useEffectEvent=function(C){return P.H.useEffectEvent(C)},$.useId=function(){return P.H.useId()},$.useImperativeHandle=function(C,U,H){return P.H.useImperativeHandle(C,U,H)},$.useInsertionEffect=function(C,U){return P.H.useInsertionEffect(C,U)},$.useLayoutEffect=function(C,U){return P.H.useLayoutEffect(C,U)},$.useMemo=function(C,U){return P.H.useMemo(C,U)},$.useOptimistic=function(C,U){return P.H.useOptimistic(C,U)},$.useReducer=function(C,U,H){return P.H.useReducer(C,U,H)},$.useRef=function(C){return P.H.useRef(C)},$.useState=function(C){return P.H.useState(C)},$.useSyncExternalStore=function(C,U,H){return P.H.useSyncExternalStore(C,U,H)},$.useTransition=function(){return P.H.useTransition()},$.version="19.2.4",$}var m_;function dh(){return m_||(m_=1,Cf.exports=d1()),Cf.exports}var de=dh();const m1=Oy(de);var wf={exports:{}},fl={},Af={exports:{}},Nf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function p1(){return p_||(p_=1,(function(a){function t(M,j){var W=M.length;M.push(j);e:for(;0<W;){var Te=W-1>>>1,De=M[Te];if(0<o(De,j))M[Te]=j,M[W]=De,W=Te;else break e}}function i(M){return M.length===0?null:M[0]}function l(M){if(M.length===0)return null;var j=M[0],W=M.pop();if(W!==j){M[0]=W;e:for(var Te=0,De=M.length,C=De>>>1;Te<C;){var U=2*(Te+1)-1,H=M[U],V=U+1,ee=M[V];if(0>o(H,W))V<De&&0>o(ee,H)?(M[Te]=ee,M[V]=W,Te=V):(M[Te]=H,M[U]=W,Te=U);else if(V<De&&0>o(ee,W))M[Te]=ee,M[V]=W,Te=V;else break e}}return j}function o(M,j){var W=M.sortIndex-j.sortIndex;return W!==0?W:M.id-j.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var g=[],p=[],b=1,y=null,S=3,L=!1,O=!1,B=!1,ie=!1,me=typeof setTimeout=="function"?setTimeout:null,Re=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function pe(M){for(var j=i(p);j!==null;){if(j.callback===null)l(p);else if(j.startTime<=M)l(p),j.sortIndex=j.expirationTime,t(g,j);else break;j=i(p)}}function Q(M){if(B=!1,pe(M),!O)if(i(g)!==null)O=!0,F||(F=!0,Je());else{var j=i(p);j!==null&&Wt(Q,j.startTime-M)}}var F=!1,P=-1,Oe=5,it=-1;function mn(){return ie?!0:!(a.unstable_now()-it<Oe)}function zt(){if(ie=!1,F){var M=a.unstable_now();it=M;var j=!0;try{e:{O=!1,B&&(B=!1,Re(P),P=-1),L=!0;var W=S;try{t:{for(pe(M),y=i(g);y!==null&&!(y.expirationTime>M&&mn());){var Te=y.callback;if(typeof Te=="function"){y.callback=null,S=y.priorityLevel;var De=Te(y.expirationTime<=M);if(M=a.unstable_now(),typeof De=="function"){y.callback=De,pe(M),j=!0;break t}y===i(g)&&l(g),pe(M)}else l(g);y=i(g)}if(y!==null)j=!0;else{var C=i(p);C!==null&&Wt(Q,C.startTime-M),j=!1}}break e}finally{y=null,S=W,L=!1}j=void 0}}finally{j?Je():F=!1}}}var Je;if(typeof J=="function")Je=function(){J(zt)};else if(typeof MessageChannel<"u"){var Ri=new MessageChannel,pn=Ri.port2;Ri.port1.onmessage=zt,Je=function(){pn.postMessage(null)}}else Je=function(){me(zt,0)};function Wt(M,j){P=me(function(){M(a.unstable_now())},j)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(M){M.callback=null},a.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Oe=0<M?Math.floor(1e3/M):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(M){switch(S){case 1:case 2:case 3:var j=3;break;default:j=S}var W=S;S=j;try{return M()}finally{S=W}},a.unstable_requestPaint=function(){ie=!0},a.unstable_runWithPriority=function(M,j){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=S;S=M;try{return j()}finally{S=W}},a.unstable_scheduleCallback=function(M,j,W){var Te=a.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Te+W:Te):W=Te,M){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=W+De,M={id:b++,callback:j,priorityLevel:M,startTime:W,expirationTime:De,sortIndex:-1},W>Te?(M.sortIndex=W,t(p,M),i(g)===null&&M===i(p)&&(B?(Re(P),P=-1):B=!0,Wt(Q,W-Te))):(M.sortIndex=De,t(g,M),O||L||(O=!0,F||(F=!0,Je()))),M},a.unstable_shouldYield=mn,a.unstable_wrapCallback=function(M){var j=S;return function(){var W=S;S=j;try{return M.apply(this,arguments)}finally{S=W}}}})(Nf)),Nf}var g_;function g1(){return g_||(g_=1,Af.exports=p1()),Af.exports}var xf={exports:{}},ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function _1(){if(__)return ft;__=1;var a=dh();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:g,containerInfo:p,implementation:b}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ft.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(g,p,null,b)},ft.flushSync=function(g){var p=h.T,b=l.p;try{if(h.T=null,l.p=2,g)return g()}finally{h.T=p,l.p=b,l.d.f()}},ft.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},ft.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},ft.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,y=m(b,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,L=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:L}):b==="script"&&l.d.X(g,{crossOrigin:y,integrity:S,fetchPriority:L,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ft.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},ft.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,y=m(b,p.crossOrigin);l.d.L(g,b,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ft.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=m(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},ft.requestFormReset=function(g){l.d.r(g)},ft.unstable_batchedUpdates=function(g,p){return g(p)},ft.useFormState=function(g,p,b){return h.H.useFormState(g,p,b)},ft.useFormStatus=function(){return h.H.useHostTransitionStatus()},ft.version="19.2.4",ft}var y_;function y1(){if(y_)return xf.exports;y_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),xf.exports=_1(),xf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function v1(){if(v_)return fl;v_=1;var a=g1(),t=dh(),i=y1();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(l(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(l(188));return n!==e?null:e}for(var s=e,r=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(r=c.return,r!==null){s=r;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return g(c),e;if(f===r)return g(c),n;f=f.sibling}throw Error(l(188))}if(s.return!==r.return)s=c,r=f;else{for(var d=!1,_=c.child;_;){if(_===s){d=!0,s=c,r=f;break}if(_===r){d=!0,r=c,s=f;break}_=_.sibling}if(!d){for(_=f.child;_;){if(_===s){d=!0,s=f,r=c;break}if(_===r){d=!0,r=f,s=c;break}_=_.sibling}if(!d)throw Error(l(189))}}if(s.alternate!==r)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),Re=Symbol.for("react.consumer"),J=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),Oe=Symbol.for("react.lazy"),it=Symbol.for("react.activity"),mn=Symbol.for("react.memo_cache_sentinel"),zt=Symbol.iterator;function Je(e){return e===null||typeof e!="object"?null:(e=zt&&e[zt]||e["@@iterator"],typeof e=="function"?e:null)}var Ri=Symbol.for("react.client.reference");function pn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ri?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case me:return"Profiler";case ie:return"StrictMode";case Q:return"Suspense";case F:return"SuspenseList";case it:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case J:return e.displayName||"Context";case Re:return(e._context.displayName||"Context")+".Consumer";case pe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return n=e.displayName||null,n!==null?n:pn(e.type)||"Memo";case Oe:n=e._payload,e=e._init;try{return pn(e(n))}catch{}}return null}var Wt=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Te=[],De=-1;function C(e){return{current:e}}function U(e){0>De||(e.current=Te[De],Te[De]=null,De--)}function H(e,n){De++,Te[De]=e.current,e.current=n}var V=C(null),ee=C(null),le=C(null),be=C(null);function ht(e,n){switch(H(le,n),H(ee,e),H(V,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?kg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=kg(n),e=Lg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(V),H(V,e)}function Ve(){U(V),U(ee),U(le)}function _a(e){e.memoizedState!==null&&H(be,e);var n=V.current,s=Lg(n,e.type);n!==s&&(H(ee,e),H(V,s))}function Ql(e){ee.current===e&&(U(V),U(ee)),be.current===e&&(U(be),ll._currentValue=W)}var sc,ud;function Oi(e){if(sc===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);sc=n&&n[1]||"",ud=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sc+e+ud}var ac=!1;function lc(e,n){if(!e||ac)return"";ac=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(R){var x=R}Reflect.construct(e,[],k)}else{try{k.call()}catch(R){x=R}e.call(k.prototype)}}else{try{throw Error()}catch(R){x=R}(k=e())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(R){if(R&&x&&typeof R.stack=="string")return[R.stack,x.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),d=f[0],_=f[1];if(d&&_){var v=d.split(`
`),N=_.split(`
`);for(c=r=0;r<v.length&&!v[r].includes("DetermineComponentFrameRoot");)r++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(r===v.length||c===N.length)for(r=v.length-1,c=N.length-1;1<=r&&0<=c&&v[r]!==N[c];)c--;for(;1<=r&&0<=c;r--,c--)if(v[r]!==N[c]){if(r!==1||c!==1)do if(r--,c--,0>c||v[r]!==N[c]){var D=`
`+v[r].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=r&&0<=c);break}}}finally{ac=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Oi(s):""}function V0(e,n){switch(e.tag){case 26:case 27:case 5:return Oi(e.type);case 16:return Oi("Lazy");case 13:return e.child!==n&&n!==null?Oi("Suspense Fallback"):Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return lc(e.type,!1);case 11:return lc(e.type.render,!1);case 1:return lc(e.type,!0);case 31:return Oi("Activity");default:return""}}function fd(e){try{var n="",s=null;do n+=V0(e,s),s=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var rc=Object.prototype.hasOwnProperty,oc=a.unstable_scheduleCallback,cc=a.unstable_cancelCallback,G0=a.unstable_shouldYield,P0=a.unstable_requestPaint,At=a.unstable_now,Y0=a.unstable_getCurrentPriorityLevel,hd=a.unstable_ImmediatePriority,dd=a.unstable_UserBlockingPriority,Fl=a.unstable_NormalPriority,Q0=a.unstable_LowPriority,md=a.unstable_IdlePriority,F0=a.log,K0=a.unstable_setDisableYieldValue,ya=null,Nt=null;function Gn(e){if(typeof F0=="function"&&K0(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(ya,e)}catch{}}var xt=Math.clz32?Math.clz32:Z0,X0=Math.log,W0=Math.LN2;function Z0(e){return e>>>=0,e===0?32:31-(X0(e)/W0|0)|0}var Kl=256,Xl=262144,Wl=4194304;function Di(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zl(e,n,s){var r=e.pendingLanes;if(r===0)return 0;var c=0,f=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~f,r!==0?c=Di(r):(d&=_,d!==0?c=Di(d):s||(s=_&~e,s!==0&&(c=Di(s))))):(_=r&~f,_!==0?c=Di(_):d!==0?c=Di(d):s||(s=r&~e,s!==0&&(c=Di(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function va(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function J0(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pd(){var e=Wl;return Wl<<=1,(Wl&62914560)===0&&(Wl=4194304),e}function uc(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ba(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $0(e,n,s,r,c,f){var d=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var _=e.entanglements,v=e.expirationTimes,N=e.hiddenUpdates;for(s=d&~s;0<s;){var D=31-xt(s),k=1<<D;_[D]=0,v[D]=-1;var x=N[D];if(x!==null)for(N[D]=null,D=0;D<x.length;D++){var R=x[D];R!==null&&(R.lane&=-536870913)}s&=~k}r!==0&&gd(e,r,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(d&~n))}function gd(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-xt(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|s&261930}function _d(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var r=31-xt(s),c=1<<r;c&n|e[r]&n&&(e[r]|=n),s&=~c}}function yd(e,n){var s=n&-n;return s=(s&42)!==0?1:fc(s),(s&(e.suspendedLanes|n))!==0?0:s}function fc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function hc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vd(){var e=j.p;return e!==0?e:(e=window.event,e===void 0?32:s_(e.type))}function bd(e,n){var s=j.p;try{return j.p=e,n()}finally{j.p=s}}var Pn=Math.random().toString(36).slice(2),st="__reactFiber$"+Pn,yt="__reactProps$"+Pn,os="__reactContainer$"+Pn,dc="__reactEvents$"+Pn,eb="__reactListeners$"+Pn,tb="__reactHandles$"+Pn,Sd="__reactResources$"+Pn,Sa="__reactMarker$"+Pn;function mc(e){delete e[st],delete e[yt],delete e[dc],delete e[eb],delete e[tb]}function cs(e){var n=e[st];if(n)return n;for(var s=e.parentNode;s;){if(n=s[os]||s[st]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Vg(e);e!==null;){if(s=e[st])return s;e=Vg(e)}return n}e=s,s=e.parentNode}return null}function us(e){if(e=e[st]||e[os]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ea(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function fs(e){var n=e[Sd];return n||(n=e[Sd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $e(e){e[Sa]=!0}var Ed=new Set,Td={};function Mi(e,n){hs(e,n),hs(e+"Capture",n)}function hs(e,n){for(Td[e]=n,e=0;e<n.length;e++)Ed.add(n[e])}var nb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cd={},wd={};function ib(e){return rc.call(wd,e)?!0:rc.call(Cd,e)?!1:nb.test(e)?wd[e]=!0:(Cd[e]=!0,!1)}function Jl(e,n,s){if(ib(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function $l(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function gn(e,n,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+r)}}function jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ad(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function sb(e,n,s){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(d){s=""+d,f.call(this,d)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function pc(e){if(!e._valueTracker){var n=Ad(e)?"checked":"value";e._valueTracker=sb(e,n,""+e[n])}}function Nd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return e&&(r=Ad(e)?e.checked?"true":"false":e.value),e=r,e!==s?(n.setValue(e),!0):!1}function er(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ab=/[\n"\\]/g;function Ht(e){return e.replace(ab,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function gc(e,n,s,r,c,f,d,_){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),n!=null?d==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+jt(n)):e.value!==""+jt(n)&&(e.value=""+jt(n)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),n!=null?_c(e,d,jt(n)):s!=null?_c(e,d,jt(s)):r!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+jt(_):e.removeAttribute("name")}function xd(e,n,s,r,c,f,d,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){pc(e);return}s=s!=null?""+jt(s):"",n=n!=null?""+jt(n):s,_||n===e.value||(e.value=n),e.defaultValue=n}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),pc(e)}function _c(e,n,s){n==="number"&&er(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ds(e,n,s,r){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&r&&(e[s].defaultSelected=!0)}else{for(s=""+jt(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Rd(e,n,s){if(n!=null&&(n=""+jt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+jt(s):""}function Od(e,n,s,r){if(n==null){if(r!=null){if(s!=null)throw Error(l(92));if(Wt(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),n=s}s=jt(n),e.defaultValue=s,r=e.textContent,r===s&&r!==""&&r!==null&&(e.value=r),pc(e)}function ms(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var lb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dd(e,n,s){var r=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,s):typeof s!="number"||s===0||lb.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Md(e,n,s){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in n)r=n[c],n.hasOwnProperty(c)&&s[c]!==r&&Dd(e,c,r)}else for(var f in n)n.hasOwnProperty(f)&&Dd(e,f,n[f])}function yc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ob=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tr(e){return ob.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _n(){}var vc=null;function bc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ps=null,gs=null;function Id(e){var n=us(e);if(n&&(e=n.stateNode)){var s=e[yt]||null;e:switch(e=n.stateNode,n.type){case"input":if(gc(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ht(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==e&&r.form===e.form){var c=r[yt]||null;if(!c)throw Error(l(90));gc(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)r=s[n],r.form===e.form&&Nd(r)}break e;case"textarea":Rd(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&ds(e,!!s.multiple,n,!1)}}}var Sc=!1;function kd(e,n,s){if(Sc)return e(n,s);Sc=!0;try{var r=e(n);return r}finally{if(Sc=!1,(ps!==null||gs!==null)&&(Vr(),ps&&(n=ps,e=gs,gs=ps=null,Id(n),e)))for(n=0;n<e.length;n++)Id(e[n])}}function Ta(e,n){var s=e.stateNode;if(s===null)return null;var r=s[yt]||null;if(r===null)return null;s=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ec=!1;if(yn)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){Ec=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{Ec=!1}var Yn=null,Tc=null,nr=null;function Ld(){if(nr)return nr;var e,n=Tc,s=n.length,r,c="value"in Yn?Yn.value:Yn.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var d=s-e;for(r=1;r<=d&&n[s-r]===c[f-r];r++);return nr=c.slice(e,1<r?1-r:void 0)}function ir(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function sr(){return!0}function Ud(){return!1}function vt(e){function n(s,r,c,f,d){this._reactName=s,this._targetInst=c,this.type=r,this.nativeEvent=f,this.target=d,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?sr:Ud,this.isPropagationStopped=Ud,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),n}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ar=vt(Ii),wa=y({},Ii,{view:0,detail:0}),cb=vt(wa),Cc,wc,Aa,lr=y({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Aa&&(Aa&&e.type==="mousemove"?(Cc=e.screenX-Aa.screenX,wc=e.screenY-Aa.screenY):wc=Cc=0,Aa=e),Cc)},movementY:function(e){return"movementY"in e?e.movementY:wc}}),zd=vt(lr),ub=y({},lr,{dataTransfer:0}),fb=vt(ub),hb=y({},wa,{relatedTarget:0}),Ac=vt(hb),db=y({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),mb=vt(db),pb=y({},Ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gb=vt(pb),_b=y({},Ii,{data:0}),jd=vt(_b),yb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sb(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bb[e])?!!n[e]:!1}function Nc(){return Sb}var Eb=y({},wa,{key:function(e){if(e.key){var n=yb[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ir(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nc,charCode:function(e){return e.type==="keypress"?ir(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ir(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tb=vt(Eb),Cb=y({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hd=vt(Cb),wb=y({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nc}),Ab=vt(wb),Nb=y({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),xb=vt(Nb),Rb=y({},lr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ob=vt(Rb),Db=y({},Ii,{newState:0,oldState:0}),Mb=vt(Db),Ib=[9,13,27,32],xc=yn&&"CompositionEvent"in window,Na=null;yn&&"documentMode"in document&&(Na=document.documentMode);var kb=yn&&"TextEvent"in window&&!Na,Bd=yn&&(!xc||Na&&8<Na&&11>=Na),qd=" ",Vd=!1;function Gd(e,n){switch(e){case"keyup":return Ib.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _s=!1;function Lb(e,n){switch(e){case"compositionend":return Pd(n);case"keypress":return n.which!==32?null:(Vd=!0,qd);case"textInput":return e=n.data,e===qd&&Vd?null:e;default:return null}}function Ub(e,n){if(_s)return e==="compositionend"||!xc&&Gd(e,n)?(e=Ld(),nr=Tc=Yn=null,_s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bd&&n.locale!=="ko"?null:n.data;default:return null}}var zb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!zb[e.type]:n==="textarea"}function Qd(e,n,s,r){ps?gs?gs.push(r):gs=[r]:ps=r,n=Xr(n,"onChange"),0<n.length&&(s=new ar("onChange","change",null,s,r),e.push({event:s,listeners:n}))}var xa=null,Ra=null;function jb(e){xg(e,0)}function rr(e){var n=Ea(e);if(Nd(n))return e}function Fd(e,n){if(e==="change")return n}var Kd=!1;if(yn){var Rc;if(yn){var Oc="oninput"in document;if(!Oc){var Xd=document.createElement("div");Xd.setAttribute("oninput","return;"),Oc=typeof Xd.oninput=="function"}Rc=Oc}else Rc=!1;Kd=Rc&&(!document.documentMode||9<document.documentMode)}function Wd(){xa&&(xa.detachEvent("onpropertychange",Zd),Ra=xa=null)}function Zd(e){if(e.propertyName==="value"&&rr(Ra)){var n=[];Qd(n,Ra,e,bc(e)),kd(jb,n)}}function Hb(e,n,s){e==="focusin"?(Wd(),xa=n,Ra=s,xa.attachEvent("onpropertychange",Zd)):e==="focusout"&&Wd()}function Bb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rr(Ra)}function qb(e,n){if(e==="click")return rr(n)}function Vb(e,n){if(e==="input"||e==="change")return rr(n)}function Gb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Rt=typeof Object.is=="function"?Object.is:Gb;function Oa(e,n){if(Rt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var c=s[r];if(!rc.call(n,c)||!Rt(e[c],n[c]))return!1}return!0}function Jd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $d(e,n){var s=Jd(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=n&&r>=n)return{node:s,offset:n-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Jd(s)}}function em(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?em(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function tm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=er(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=er(e.document)}return n}function Dc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Pb=yn&&"documentMode"in document&&11>=document.documentMode,ys=null,Mc=null,Da=null,Ic=!1;function nm(e,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ic||ys==null||ys!==er(r)||(r=ys,"selectionStart"in r&&Dc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Da&&Oa(Da,r)||(Da=r,r=Xr(Mc,"onSelect"),0<r.length&&(n=new ar("onSelect","select",null,n,s),e.push({event:n,listeners:r}),n.target=ys)))}function ki(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var vs={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionrun:ki("Transition","TransitionRun"),transitionstart:ki("Transition","TransitionStart"),transitioncancel:ki("Transition","TransitionCancel"),transitionend:ki("Transition","TransitionEnd")},kc={},im={};yn&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Li(e){if(kc[e])return kc[e];if(!vs[e])return e;var n=vs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in im)return kc[e]=n[s];return e}var sm=Li("animationend"),am=Li("animationiteration"),lm=Li("animationstart"),Yb=Li("transitionrun"),Qb=Li("transitionstart"),Fb=Li("transitioncancel"),rm=Li("transitionend"),om=new Map,Lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lc.push("scrollEnd");function Zt(e,n){om.set(e,n),Mi(n,[e])}var or=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],bs=0,Uc=0;function cr(){for(var e=bs,n=Uc=bs=0;n<e;){var s=Bt[n];Bt[n++]=null;var r=Bt[n];Bt[n++]=null;var c=Bt[n];Bt[n++]=null;var f=Bt[n];if(Bt[n++]=null,r!==null&&c!==null){var d=r.pending;d===null?c.next=c:(c.next=d.next,d.next=c),r.pending=c}f!==0&&cm(s,c,f)}}function ur(e,n,s,r){Bt[bs++]=e,Bt[bs++]=n,Bt[bs++]=s,Bt[bs++]=r,Uc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function zc(e,n,s,r){return ur(e,n,s,r),fr(e)}function Ui(e,n){return ur(e,null,null,n),fr(e)}function cm(e,n,s){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,r=f.alternate,r!==null&&(r.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-xt(s),e=f.hiddenUpdates,r=e[c],r===null?e[c]=[n]:r.push(n),n.lane=s|536870912),f):null}function fr(e){if(50<$a)throw $a=0,Qu=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ss={};function Kb(e,n,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,n,s,r){return new Kb(e,n,s,r)}function jc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vn(e,n){var s=e.alternate;return s===null?(s=Ot(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function um(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function hr(e,n,s,r,c,f){var d=0;if(r=e,typeof e=="function")jc(e)&&(d=1);else if(typeof e=="string")d=$S(e,s,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case it:return e=Ot(31,s,n,c),e.elementType=it,e.lanes=f,e;case B:return zi(s.children,c,f,n);case ie:d=8,c|=24;break;case me:return e=Ot(12,s,n,c|2),e.elementType=me,e.lanes=f,e;case Q:return e=Ot(13,s,n,c),e.elementType=Q,e.lanes=f,e;case F:return e=Ot(19,s,n,c),e.elementType=F,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:d=10;break e;case Re:d=9;break e;case pe:d=11;break e;case P:d=14;break e;case Oe:d=16,r=null;break e}d=29,s=Error(l(130,e===null?"null":typeof e,"")),r=null}return n=Ot(d,s,n,c),n.elementType=e,n.type=r,n.lanes=f,n}function zi(e,n,s,r){return e=Ot(7,e,r,n),e.lanes=s,e}function Hc(e,n,s){return e=Ot(6,e,null,n),e.lanes=s,e}function fm(e){var n=Ot(18,null,null,0);return n.stateNode=e,n}function Bc(e,n,s){return n=Ot(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var hm=new WeakMap;function qt(e,n){if(typeof e=="object"&&e!==null){var s=hm.get(e);return s!==void 0?s:(n={value:e,source:n,stack:fd(n)},hm.set(e,n),n)}return{value:e,source:n,stack:fd(n)}}var Es=[],Ts=0,dr=null,Ma=0,Vt=[],Gt=0,Qn=null,rn=1,on="";function bn(e,n){Es[Ts++]=Ma,Es[Ts++]=dr,dr=e,Ma=n}function dm(e,n,s){Vt[Gt++]=rn,Vt[Gt++]=on,Vt[Gt++]=Qn,Qn=e;var r=rn;e=on;var c=32-xt(r)-1;r&=~(1<<c),s+=1;var f=32-xt(n)+c;if(30<f){var d=c-c%5;f=(r&(1<<d)-1).toString(32),r>>=d,c-=d,rn=1<<32-xt(n)+c|s<<c|r,on=f+e}else rn=1<<f|s<<c|r,on=e}function qc(e){e.return!==null&&(bn(e,1),dm(e,1,0))}function Vc(e){for(;e===dr;)dr=Es[--Ts],Es[Ts]=null,Ma=Es[--Ts],Es[Ts]=null;for(;e===Qn;)Qn=Vt[--Gt],Vt[Gt]=null,on=Vt[--Gt],Vt[Gt]=null,rn=Vt[--Gt],Vt[Gt]=null}function mm(e,n){Vt[Gt++]=rn,Vt[Gt++]=on,Vt[Gt++]=Qn,rn=n.id,on=n.overflow,Qn=e}var at=null,Le=null,he=!1,Fn=null,Pt=!1,Gc=Error(l(519));function Kn(e){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ia(qt(n,e)),Gc}function pm(e){var n=e.stateNode,s=e.type,r=e.memoizedProps;switch(n[st]=e,n[yt]=r,s){case"dialog":oe("cancel",n),oe("close",n);break;case"iframe":case"object":case"embed":oe("load",n);break;case"video":case"audio":for(s=0;s<tl.length;s++)oe(tl[s],n);break;case"source":oe("error",n);break;case"img":case"image":case"link":oe("error",n),oe("load",n);break;case"details":oe("toggle",n);break;case"input":oe("invalid",n),xd(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":oe("invalid",n);break;case"textarea":oe("invalid",n),Od(n,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||r.suppressHydrationWarning===!0||Mg(n.textContent,s)?(r.popover!=null&&(oe("beforetoggle",n),oe("toggle",n)),r.onScroll!=null&&oe("scroll",n),r.onScrollEnd!=null&&oe("scrollend",n),r.onClick!=null&&(n.onclick=_n),n=!0):n=!1,n||Kn(e,!0)}function gm(e){for(at=e.return;at;)switch(at.tag){case 5:case 31:case 13:Pt=!1;return;case 27:case 3:Pt=!0;return;default:at=at.return}}function Cs(e){if(e!==at)return!1;if(!he)return gm(e),he=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||of(e.type,e.memoizedProps)),s=!s),s&&Le&&Kn(e),gm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Le=qg(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Le=qg(e)}else n===27?(n=Le,oi(e.type)?(e=df,df=null,Le=e):Le=n):Le=at?Qt(e.stateNode.nextSibling):null;return!0}function ji(){Le=at=null,he=!1}function Pc(){var e=Fn;return e!==null&&(Tt===null?Tt=e:Tt.push.apply(Tt,e),Fn=null),e}function Ia(e){Fn===null?Fn=[e]:Fn.push(e)}var Yc=C(null),Hi=null,Sn=null;function Xn(e,n,s){H(Yc,n._currentValue),n._currentValue=s}function En(e){e._currentValue=Yc.current,U(Yc)}function Qc(e,n,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===s)break;e=e.return}}function Fc(e,n,s,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var d=c.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=c;for(var v=0;v<n.length;v++)if(_.context===n[v]){f.lanes|=s,_=f.alternate,_!==null&&(_.lanes|=s),Qc(f.return,s,e),r||(d=null);break e}f=_.next}}else if(c.tag===18){if(d=c.return,d===null)throw Error(l(341));d.lanes|=s,f=d.alternate,f!==null&&(f.lanes|=s),Qc(d,s,e),d=null}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===e){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}}function ws(e,n,s,r){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var d=c.alternate;if(d===null)throw Error(l(387));if(d=d.memoizedProps,d!==null){var _=c.type;Rt(c.pendingProps.value,d.value)||(e!==null?e.push(_):e=[_])}}else if(c===be.current){if(d=c.alternate,d===null)throw Error(l(387));d.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ll):e=[ll])}c=c.return}e!==null&&Fc(n,e,s,r),n.flags|=262144}function mr(e){for(e=e.firstContext;e!==null;){if(!Rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bi(e){Hi=e,Sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return _m(Hi,e)}function pr(e,n){return Hi===null&&Bi(e),_m(e,n)}function _m(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Sn===null){if(e===null)throw Error(l(308));Sn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Sn=Sn.next=n;return s}var Xb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},Wb=a.unstable_scheduleCallback,Zb=a.unstable_NormalPriority,Ye={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kc(){return{controller:new Xb,data:new Map,refCount:0}}function ka(e){e.refCount--,e.refCount===0&&Wb(Zb,function(){e.controller.abort()})}var La=null,Xc=0,As=0,Ns=null;function Jb(e,n){if(La===null){var s=La=[];Xc=0,As=Ju(),Ns={status:"pending",value:void 0,then:function(r){s.push(r)}}}return Xc++,n.then(ym,ym),n}function ym(){if(--Xc===0&&La!==null){Ns!==null&&(Ns.status="fulfilled");var e=La;La=null,As=0,Ns=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function $b(e,n){var s=[],r={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(r.status="rejected",r.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),r}var vm=M.S;M.S=function(e,n){ng=At(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Jb(e,n),vm!==null&&vm(e,n)};var qi=C(null);function Wc(){var e=qi.current;return e!==null?e:Me.pooledCache}function gr(e,n){n===null?H(qi,qi.current):H(qi,n.pool)}function bm(){var e=Wc();return e===null?null:{parent:Ye._currentValue,pool:e}}var xs=Error(l(460)),Zc=Error(l(474)),_r=Error(l(542)),yr={then:function(){}};function Sm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Em(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(_n,_n),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cm(e),e;default:if(typeof n.status=="string")n.then(_n,_n);else{if(e=Me,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=r}},function(r){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cm(e),e}throw Gi=n,xs}}function Vi(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Gi=s,xs):s}}var Gi=null;function Tm(){if(Gi===null)throw Error(l(459));var e=Gi;return Gi=null,e}function Cm(e){if(e===xs||e===_r)throw Error(l(483))}var Rs=null,Ua=0;function vr(e){var n=Ua;return Ua+=1,Rs===null&&(Rs=[]),Em(Rs,e,n)}function za(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function br(e,n){throw n.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function wm(e){function n(w,E){if(e){var A=w.deletions;A===null?(w.deletions=[E],w.flags|=16):A.push(E)}}function s(w,E){if(!e)return null;for(;E!==null;)n(w,E),E=E.sibling;return null}function r(w){for(var E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function c(w,E){return w=vn(w,E),w.index=0,w.sibling=null,w}function f(w,E,A){return w.index=A,e?(A=w.alternate,A!==null?(A=A.index,A<E?(w.flags|=67108866,E):A):(w.flags|=67108866,E)):(w.flags|=1048576,E)}function d(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function _(w,E,A,I){return E===null||E.tag!==6?(E=Hc(A,w.mode,I),E.return=w,E):(E=c(E,A),E.return=w,E)}function v(w,E,A,I){var Y=A.type;return Y===B?D(w,E,A.props.children,I,A.key):E!==null&&(E.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Oe&&Vi(Y)===E.type)?(E=c(E,A.props),za(E,A),E.return=w,E):(E=hr(A.type,A.key,A.props,null,w.mode,I),za(E,A),E.return=w,E)}function N(w,E,A,I){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=Bc(A,w.mode,I),E.return=w,E):(E=c(E,A.children||[]),E.return=w,E)}function D(w,E,A,I,Y){return E===null||E.tag!==7?(E=zi(A,w.mode,I,Y),E.return=w,E):(E=c(E,A),E.return=w,E)}function k(w,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Hc(""+E,w.mode,A),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case L:return A=hr(E.type,E.key,E.props,null,w.mode,A),za(A,E),A.return=w,A;case O:return E=Bc(E,w.mode,A),E.return=w,E;case Oe:return E=Vi(E),k(w,E,A)}if(Wt(E)||Je(E))return E=zi(E,w.mode,A,null),E.return=w,E;if(typeof E.then=="function")return k(w,vr(E),A);if(E.$$typeof===J)return k(w,pr(w,E),A);br(w,E)}return null}function x(w,E,A,I){var Y=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return Y!==null?null:_(w,E,""+A,I);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case L:return A.key===Y?v(w,E,A,I):null;case O:return A.key===Y?N(w,E,A,I):null;case Oe:return A=Vi(A),x(w,E,A,I)}if(Wt(A)||Je(A))return Y!==null?null:D(w,E,A,I,null);if(typeof A.then=="function")return x(w,E,vr(A),I);if(A.$$typeof===J)return x(w,E,pr(w,A),I);br(w,A)}return null}function R(w,E,A,I,Y){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return w=w.get(A)||null,_(E,w,""+I,Y);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case L:return w=w.get(I.key===null?A:I.key)||null,v(E,w,I,Y);case O:return w=w.get(I.key===null?A:I.key)||null,N(E,w,I,Y);case Oe:return I=Vi(I),R(w,E,A,I,Y)}if(Wt(I)||Je(I))return w=w.get(A)||null,D(E,w,I,Y,null);if(typeof I.then=="function")return R(w,E,A,vr(I),Y);if(I.$$typeof===J)return R(w,E,A,pr(E,I),Y);br(E,I)}return null}function q(w,E,A,I){for(var Y=null,ge=null,G=E,ne=E=0,fe=null;G!==null&&ne<A.length;ne++){G.index>ne?(fe=G,G=null):fe=G.sibling;var _e=x(w,G,A[ne],I);if(_e===null){G===null&&(G=fe);break}e&&G&&_e.alternate===null&&n(w,G),E=f(_e,E,ne),ge===null?Y=_e:ge.sibling=_e,ge=_e,G=fe}if(ne===A.length)return s(w,G),he&&bn(w,ne),Y;if(G===null){for(;ne<A.length;ne++)G=k(w,A[ne],I),G!==null&&(E=f(G,E,ne),ge===null?Y=G:ge.sibling=G,ge=G);return he&&bn(w,ne),Y}for(G=r(G);ne<A.length;ne++)fe=R(G,w,ne,A[ne],I),fe!==null&&(e&&fe.alternate!==null&&G.delete(fe.key===null?ne:fe.key),E=f(fe,E,ne),ge===null?Y=fe:ge.sibling=fe,ge=fe);return e&&G.forEach(function(di){return n(w,di)}),he&&bn(w,ne),Y}function K(w,E,A,I){if(A==null)throw Error(l(151));for(var Y=null,ge=null,G=E,ne=E=0,fe=null,_e=A.next();G!==null&&!_e.done;ne++,_e=A.next()){G.index>ne?(fe=G,G=null):fe=G.sibling;var di=x(w,G,_e.value,I);if(di===null){G===null&&(G=fe);break}e&&G&&di.alternate===null&&n(w,G),E=f(di,E,ne),ge===null?Y=di:ge.sibling=di,ge=di,G=fe}if(_e.done)return s(w,G),he&&bn(w,ne),Y;if(G===null){for(;!_e.done;ne++,_e=A.next())_e=k(w,_e.value,I),_e!==null&&(E=f(_e,E,ne),ge===null?Y=_e:ge.sibling=_e,ge=_e);return he&&bn(w,ne),Y}for(G=r(G);!_e.done;ne++,_e=A.next())_e=R(G,w,ne,_e.value,I),_e!==null&&(e&&_e.alternate!==null&&G.delete(_e.key===null?ne:_e.key),E=f(_e,E,ne),ge===null?Y=_e:ge.sibling=_e,ge=_e);return e&&G.forEach(function(u1){return n(w,u1)}),he&&bn(w,ne),Y}function Ae(w,E,A,I){if(typeof A=="object"&&A!==null&&A.type===B&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case L:e:{for(var Y=A.key;E!==null;){if(E.key===Y){if(Y=A.type,Y===B){if(E.tag===7){s(w,E.sibling),I=c(E,A.props.children),I.return=w,w=I;break e}}else if(E.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Oe&&Vi(Y)===E.type){s(w,E.sibling),I=c(E,A.props),za(I,A),I.return=w,w=I;break e}s(w,E);break}else n(w,E);E=E.sibling}A.type===B?(I=zi(A.props.children,w.mode,I,A.key),I.return=w,w=I):(I=hr(A.type,A.key,A.props,null,w.mode,I),za(I,A),I.return=w,w=I)}return d(w);case O:e:{for(Y=A.key;E!==null;){if(E.key===Y)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){s(w,E.sibling),I=c(E,A.children||[]),I.return=w,w=I;break e}else{s(w,E);break}else n(w,E);E=E.sibling}I=Bc(A,w.mode,I),I.return=w,w=I}return d(w);case Oe:return A=Vi(A),Ae(w,E,A,I)}if(Wt(A))return q(w,E,A,I);if(Je(A)){if(Y=Je(A),typeof Y!="function")throw Error(l(150));return A=Y.call(A),K(w,E,A,I)}if(typeof A.then=="function")return Ae(w,E,vr(A),I);if(A.$$typeof===J)return Ae(w,E,pr(w,A),I);br(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,E!==null&&E.tag===6?(s(w,E.sibling),I=c(E,A),I.return=w,w=I):(s(w,E),I=Hc(A,w.mode,I),I.return=w,w=I),d(w)):s(w,E)}return function(w,E,A,I){try{Ua=0;var Y=Ae(w,E,A,I);return Rs=null,Y}catch(G){if(G===xs||G===_r)throw G;var ge=Ot(29,G,null,w.mode);return ge.lanes=I,ge.return=w,ge}finally{}}}var Pi=wm(!0),Am=wm(!1),Wn=!1;function Jc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $c(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Jn(e,n,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ve&2)!==0){var c=r.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),r.pending=n,n=fr(e),cm(e,null,s),n}return ur(e,r,n,s),fr(e)}function ja(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,_d(e,s)}}function eu(e,n){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var d={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=d:f=f.next=d,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var tu=!1;function Ha(){if(tu){var e=Ns;if(e!==null)throw e}}function Ba(e,n,s,r){tu=!1;var c=e.updateQueue;Wn=!1;var f=c.firstBaseUpdate,d=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var v=_,N=v.next;v.next=null,d===null?f=N:d.next=N,d=v;var D=e.alternate;D!==null&&(D=D.updateQueue,_=D.lastBaseUpdate,_!==d&&(_===null?D.firstBaseUpdate=N:_.next=N,D.lastBaseUpdate=v))}if(f!==null){var k=c.baseState;d=0,D=N=v=null,_=f;do{var x=_.lane&-536870913,R=x!==_.lane;if(R?(ue&x)===x:(r&x)===x){x!==0&&x===As&&(tu=!0),D!==null&&(D=D.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var q=e,K=_;x=n;var Ae=s;switch(K.tag){case 1:if(q=K.payload,typeof q=="function"){k=q.call(Ae,k,x);break e}k=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=K.payload,x=typeof q=="function"?q.call(Ae,k,x):q,x==null)break e;k=y({},k,x);break e;case 2:Wn=!0}}x=_.callback,x!==null&&(e.flags|=64,R&&(e.flags|=8192),R=c.callbacks,R===null?c.callbacks=[x]:R.push(x))}else R={lane:x,tag:_.tag,payload:_.payload,callback:_.callback,next:null},D===null?(N=D=R,v=k):D=D.next=R,d|=x;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;R=_,_=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);D===null&&(v=k),c.baseState=v,c.firstBaseUpdate=N,c.lastBaseUpdate=D,f===null&&(c.shared.lanes=0),ii|=d,e.lanes=d,e.memoizedState=k}}function Nm(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function xm(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Nm(s[e],n)}var Os=C(null),Sr=C(0);function Rm(e,n){e=Dn,H(Sr,e),H(Os,n),Dn=e|n.baseLanes}function nu(){H(Sr,Dn),H(Os,Os.current)}function iu(){Dn=Sr.current,U(Os),U(Sr)}var Dt=C(null),Yt=null;function $n(e){var n=e.alternate;H(Ge,Ge.current&1),H(Dt,e),Yt===null&&(n===null||Os.current!==null||n.memoizedState!==null)&&(Yt=e)}function su(e){H(Ge,Ge.current),H(Dt,e),Yt===null&&(Yt=e)}function Om(e){e.tag===22?(H(Ge,Ge.current),H(Dt,e),Yt===null&&(Yt=e)):ei()}function ei(){H(Ge,Ge.current),H(Dt,Dt.current)}function Mt(e){U(Dt),Yt===e&&(Yt=null),U(Ge)}var Ge=C(0);function Er(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ff(s)||hf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Tn=0,te=null,Ce=null,Qe=null,Tr=!1,Ds=!1,Yi=!1,Cr=0,qa=0,Ms=null,eS=0;function je(){throw Error(l(321))}function au(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Rt(e[s],n[s]))return!1;return!0}function lu(e,n,s,r,c,f){return Tn=f,te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=e===null||e.memoizedState===null?dp:Su,Yi=!1,f=s(r,c),Yi=!1,Ds&&(f=Mm(n,s,r,c)),Dm(e),f}function Dm(e){M.H=Pa;var n=Ce!==null&&Ce.next!==null;if(Tn=0,Qe=Ce=te=null,Tr=!1,qa=0,Ms=null,n)throw Error(l(300));e===null||Fe||(e=e.dependencies,e!==null&&mr(e)&&(Fe=!0))}function Mm(e,n,s,r){te=e;var c=0;do{if(Ds&&(Ms=null),qa=0,Ds=!1,25<=c)throw Error(l(301));if(c+=1,Qe=Ce=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=mp,f=n(s,r)}while(Ds);return f}function tS(){var e=M.H,n=e.useState()[0];return n=typeof n.then=="function"?Va(n):n,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(te.flags|=1024),n}function ru(){var e=Cr!==0;return Cr=0,e}function ou(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function cu(e){if(Tr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Tr=!1}Tn=0,Qe=Ce=te=null,Ds=!1,qa=Cr=0,Ms=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?te.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Pe(){if(Ce===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var n=Qe===null?te.memoizedState:Qe.next;if(n!==null)Qe=n,Ce=e;else{if(e===null)throw te.alternate===null?Error(l(467)):Error(l(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Qe===null?te.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function wr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Va(e){var n=qa;return qa+=1,Ms===null&&(Ms=[]),e=Em(Ms,e,n),n=te,(Qe===null?n.memoizedState:Qe.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?dp:Su),e}function Ar(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Va(e);if(e.$$typeof===J)return lt(e)}throw Error(l(438,String(e)))}function uu(e){var n=null,s=te.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var r=te.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=wr(),te.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),r=0;r<e;r++)s[r]=mn;return n.index++,s}function Cn(e,n){return typeof n=="function"?n(e):n}function Nr(e){var n=Pe();return fu(n,Ce,e)}function fu(e,n,s){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=s;var c=e.baseQueue,f=r.pending;if(f!==null){if(c!==null){var d=c.next;c.next=f.next,f.next=d}n.baseQueue=c=f,r.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var _=d=null,v=null,N=n,D=!1;do{var k=N.lane&-536870913;if(k!==N.lane?(ue&k)===k:(Tn&k)===k){var x=N.revertLane;if(x===0)v!==null&&(v=v.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),k===As&&(D=!0);else if((Tn&x)===x){N=N.next,x===As&&(D=!0);continue}else k={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},v===null?(_=v=k,d=f):v=v.next=k,te.lanes|=x,ii|=x;k=N.action,Yi&&s(f,k),f=N.hasEagerState?N.eagerState:s(f,k)}else x={lane:k,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},v===null?(_=v=x,d=f):v=v.next=x,te.lanes|=k,ii|=k;N=N.next}while(N!==null&&N!==n);if(v===null?d=f:v.next=_,!Rt(f,e.memoizedState)&&(Fe=!0,D&&(s=Ns,s!==null)))throw s;e.memoizedState=f,e.baseState=d,e.baseQueue=v,r.lastRenderedState=f}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function hu(e){var n=Pe(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var r=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var d=c=c.next;do f=e(f,d.action),d=d.next;while(d!==c);Rt(f,n.memoizedState)||(Fe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,r]}function Im(e,n,s){var r=te,c=Pe(),f=he;if(f){if(s===void 0)throw Error(l(407));s=s()}else s=n();var d=!Rt((Ce||c).memoizedState,s);if(d&&(c.memoizedState=s,Fe=!0),c=c.queue,pu(Um.bind(null,r,c,e),[e]),c.getSnapshot!==n||d||Qe!==null&&Qe.memoizedState.tag&1){if(r.flags|=2048,Is(9,{destroy:void 0},Lm.bind(null,r,c,s,n),null),Me===null)throw Error(l(349));f||(Tn&127)!==0||km(r,n,s)}return s}function km(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=te.updateQueue,n===null?(n=wr(),te.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Lm(e,n,s,r){n.value=s,n.getSnapshot=r,zm(n)&&jm(e)}function Um(e,n,s){return s(function(){zm(n)&&jm(e)})}function zm(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Rt(e,s)}catch{return!0}}function jm(e){var n=Ui(e,2);n!==null&&Ct(n,e,2)}function du(e){var n=dt();if(typeof e=="function"){var s=e;if(e=s(),Yi){Gn(!0);try{s()}finally{Gn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:e},n}function Hm(e,n,s,r){return e.baseState=s,fu(e,Ce,typeof r=="function"?r:Cn)}function nS(e,n,s,r,c){if(Or(e))throw Error(l(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){f.listeners.push(d)}};M.T!==null?s(!0):f.isTransition=!1,r(f),s=n.pending,s===null?(f.next=n.pending=f,Bm(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Bm(e,n){var s=n.action,r=n.payload,c=e.state;if(n.isTransition){var f=M.T,d={};M.T=d;try{var _=s(c,r),v=M.S;v!==null&&v(d,_),qm(e,n,_)}catch(N){mu(e,n,N)}finally{f!==null&&d.types!==null&&(f.types=d.types),M.T=f}}else try{f=s(c,r),qm(e,n,f)}catch(N){mu(e,n,N)}}function qm(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){Vm(e,n,r)},function(r){return mu(e,n,r)}):Vm(e,n,s)}function Vm(e,n,s){n.status="fulfilled",n.value=s,Gm(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Bm(e,s)))}function mu(e,n,s){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=s,Gm(n),n=n.next;while(n!==r)}e.action=null}function Gm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Pm(e,n){return n}function Ym(e,n){if(he){var s=Me.formState;if(s!==null){e:{var r=te;if(he){if(Le){t:{for(var c=Le,f=Pt;c.nodeType!==8;){if(!f){c=null;break t}if(c=Qt(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Le=Qt(c.nextSibling),r=c.data==="F!";break e}}Kn(r)}r=!1}r&&(n=s[0])}}return s=dt(),s.memoizedState=s.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:n},s.queue=r,s=up.bind(null,te,r),r.dispatch=s,r=du(!1),f=bu.bind(null,te,!1,r.queue),r=dt(),c={state:n,dispatch:null,action:e,pending:null},r.queue=c,s=nS.bind(null,te,c,f,s),c.dispatch=s,r.memoizedState=e,[n,s,!1]}function Qm(e){var n=Pe();return Fm(n,Ce,e)}function Fm(e,n,s){if(n=fu(e,n,Pm)[0],e=Nr(Cn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=Va(n)}catch(d){throw d===xs?_r:d}else r=n;n=Pe();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(te.flags|=2048,Is(9,{destroy:void 0},iS.bind(null,c,s),null)),[r,f,e]}function iS(e,n){e.action=n}function Km(e){var n=Pe(),s=Ce;if(s!==null)return Fm(n,s,e);Pe(),n=n.memoizedState,s=Pe();var r=s.queue.dispatch;return s.memoizedState=e,[n,r,!1]}function Is(e,n,s,r){return e={tag:e,create:s,deps:r,inst:n,next:null},n=te.updateQueue,n===null&&(n=wr(),te.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,n.lastEffect=e),e}function Xm(){return Pe().memoizedState}function xr(e,n,s,r){var c=dt();te.flags|=e,c.memoizedState=Is(1|n,{destroy:void 0},s,r===void 0?null:r)}function Rr(e,n,s,r){var c=Pe();r=r===void 0?null:r;var f=c.memoizedState.inst;Ce!==null&&r!==null&&au(r,Ce.memoizedState.deps)?c.memoizedState=Is(n,f,s,r):(te.flags|=e,c.memoizedState=Is(1|n,f,s,r))}function Wm(e,n){xr(8390656,8,e,n)}function pu(e,n){Rr(2048,8,e,n)}function sS(e){te.flags|=4;var n=te.updateQueue;if(n===null)n=wr(),te.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Zm(e){var n=Pe().memoizedState;return sS({ref:n,nextImpl:e}),function(){if((ve&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function Jm(e,n){return Rr(4,2,e,n)}function $m(e,n){return Rr(4,4,e,n)}function ep(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function tp(e,n,s){s=s!=null?s.concat([e]):null,Rr(4,4,ep.bind(null,n,e),s)}function gu(){}function np(e,n){var s=Pe();n=n===void 0?null:n;var r=s.memoizedState;return n!==null&&au(n,r[1])?r[0]:(s.memoizedState=[e,n],e)}function ip(e,n){var s=Pe();n=n===void 0?null:n;var r=s.memoizedState;if(n!==null&&au(n,r[1]))return r[0];if(r=e(),Yi){Gn(!0);try{e()}finally{Gn(!1)}}return s.memoizedState=[r,n],r}function _u(e,n,s){return s===void 0||(Tn&1073741824)!==0&&(ue&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=sg(),te.lanes|=e,ii|=e,s)}function sp(e,n,s,r){return Rt(s,n)?s:Os.current!==null?(e=_u(e,s,r),Rt(e,n)||(Fe=!0),e):(Tn&42)===0||(Tn&1073741824)!==0&&(ue&261930)===0?(Fe=!0,e.memoizedState=s):(e=sg(),te.lanes|=e,ii|=e,n)}function ap(e,n,s,r,c){var f=j.p;j.p=f!==0&&8>f?f:8;var d=M.T,_={};M.T=_,bu(e,!1,n,s);try{var v=c(),N=M.S;if(N!==null&&N(_,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var D=$b(v,r);Ga(e,n,D,Lt(e))}else Ga(e,n,r,Lt(e))}catch(k){Ga(e,n,{then:function(){},status:"rejected",reason:k},Lt())}finally{j.p=f,d!==null&&_.types!==null&&(d.types=_.types),M.T=d}}function aS(){}function yu(e,n,s,r){if(e.tag!==5)throw Error(l(476));var c=lp(e).queue;ap(e,c,n,W,s===null?aS:function(){return rp(e),s(r)})}function lp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:W},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function rp(e){var n=lp(e);n.next===null&&(n=e.alternate.memoizedState),Ga(e,n.next.queue,{},Lt())}function vu(){return lt(ll)}function op(){return Pe().memoizedState}function cp(){return Pe().memoizedState}function lS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Lt();e=Zn(s);var r=Jn(n,e,s);r!==null&&(Ct(r,n,s),ja(r,n,s)),n={cache:Kc()},e.payload=n;return}n=n.return}}function rS(e,n,s){var r=Lt();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Or(e)?fp(n,s):(s=zc(e,n,s,r),s!==null&&(Ct(s,e,r),hp(s,n,r)))}function up(e,n,s){var r=Lt();Ga(e,n,s,r)}function Ga(e,n,s,r){var c={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Or(e))fp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var d=n.lastRenderedState,_=f(d,s);if(c.hasEagerState=!0,c.eagerState=_,Rt(_,d))return ur(e,n,c,0),Me===null&&cr(),!1}catch{}finally{}if(s=zc(e,n,c,r),s!==null)return Ct(s,e,r),hp(s,n,r),!0}return!1}function bu(e,n,s,r){if(r={lane:2,revertLane:Ju(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Or(e)){if(n)throw Error(l(479))}else n=zc(e,s,r,2),n!==null&&Ct(n,e,2)}function Or(e){var n=e.alternate;return e===te||n!==null&&n===te}function fp(e,n){Ds=Tr=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function hp(e,n,s){if((s&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,_d(e,s)}}var Pa={readContext:lt,use:Ar,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je};Pa.useEffectEvent=je;var dp={readContext:lt,use:Ar,useCallback:function(e,n){return dt().memoizedState=[e,n===void 0?null:n],e},useContext:lt,useEffect:Wm,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,xr(4194308,4,ep.bind(null,n,e),s)},useLayoutEffect:function(e,n){return xr(4194308,4,e,n)},useInsertionEffect:function(e,n){xr(4,2,e,n)},useMemo:function(e,n){var s=dt();n=n===void 0?null:n;var r=e();if(Yi){Gn(!0);try{e()}finally{Gn(!1)}}return s.memoizedState=[r,n],r},useReducer:function(e,n,s){var r=dt();if(s!==void 0){var c=s(n);if(Yi){Gn(!0);try{s(n)}finally{Gn(!1)}}}else c=n;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=rS.bind(null,te,e),[r.memoizedState,e]},useRef:function(e){var n=dt();return e={current:e},n.memoizedState=e},useState:function(e){e=du(e);var n=e.queue,s=up.bind(null,te,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:gu,useDeferredValue:function(e,n){var s=dt();return _u(s,e,n)},useTransition:function(){var e=du(!1);return e=ap.bind(null,te,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var r=te,c=dt();if(he){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),Me===null)throw Error(l(349));(ue&127)!==0||km(r,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Wm(Um.bind(null,r,f,e),[e]),r.flags|=2048,Is(9,{destroy:void 0},Lm.bind(null,r,f,s,n),null),s},useId:function(){var e=dt(),n=Me.identifierPrefix;if(he){var s=on,r=rn;s=(r&~(1<<32-xt(r)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Cr++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=eS++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:vu,useFormState:Ym,useActionState:Ym,useOptimistic:function(e){var n=dt();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=bu.bind(null,te,!0,s),s.dispatch=n,[e,n]},useMemoCache:uu,useCacheRefresh:function(){return dt().memoizedState=lS.bind(null,te)},useEffectEvent:function(e){var n=dt(),s={impl:e};return n.memoizedState=s,function(){if((ve&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},Su={readContext:lt,use:Ar,useCallback:np,useContext:lt,useEffect:pu,useImperativeHandle:tp,useInsertionEffect:Jm,useLayoutEffect:$m,useMemo:ip,useReducer:Nr,useRef:Xm,useState:function(){return Nr(Cn)},useDebugValue:gu,useDeferredValue:function(e,n){var s=Pe();return sp(s,Ce.memoizedState,e,n)},useTransition:function(){var e=Nr(Cn)[0],n=Pe().memoizedState;return[typeof e=="boolean"?e:Va(e),n]},useSyncExternalStore:Im,useId:op,useHostTransitionStatus:vu,useFormState:Qm,useActionState:Qm,useOptimistic:function(e,n){var s=Pe();return Hm(s,Ce,e,n)},useMemoCache:uu,useCacheRefresh:cp};Su.useEffectEvent=Zm;var mp={readContext:lt,use:Ar,useCallback:np,useContext:lt,useEffect:pu,useImperativeHandle:tp,useInsertionEffect:Jm,useLayoutEffect:$m,useMemo:ip,useReducer:hu,useRef:Xm,useState:function(){return hu(Cn)},useDebugValue:gu,useDeferredValue:function(e,n){var s=Pe();return Ce===null?_u(s,e,n):sp(s,Ce.memoizedState,e,n)},useTransition:function(){var e=hu(Cn)[0],n=Pe().memoizedState;return[typeof e=="boolean"?e:Va(e),n]},useSyncExternalStore:Im,useId:op,useHostTransitionStatus:vu,useFormState:Km,useActionState:Km,useOptimistic:function(e,n){var s=Pe();return Ce!==null?Hm(s,Ce,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:uu,useCacheRefresh:cp};mp.useEffectEvent=Zm;function Eu(e,n,s,r){n=e.memoizedState,s=s(r,n),s=s==null?n:y({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Tu={enqueueSetState:function(e,n,s){e=e._reactInternals;var r=Lt(),c=Zn(r);c.payload=n,s!=null&&(c.callback=s),n=Jn(e,c,r),n!==null&&(Ct(n,e,r),ja(n,e,r))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var r=Lt(),c=Zn(r);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Jn(e,c,r),n!==null&&(Ct(n,e,r),ja(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Lt(),r=Zn(s);r.tag=2,n!=null&&(r.callback=n),n=Jn(e,r,s),n!==null&&(Ct(n,e,s),ja(n,e,s))}};function pp(e,n,s,r,c,f,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,d):n.prototype&&n.prototype.isPureReactComponent?!Oa(s,r)||!Oa(c,f):!0}function gp(e,n,s,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==e&&Tu.enqueueReplaceState(n,n.state,null)}function Qi(e,n){var s=n;if("ref"in n){s={};for(var r in n)r!=="ref"&&(s[r]=n[r])}if(e=e.defaultProps){s===n&&(s=y({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function _p(e){or(e)}function yp(e){console.error(e)}function vp(e){or(e)}function Dr(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function bp(e,n,s){try{var r=e.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Cu(e,n,s){return s=Zn(s),s.tag=3,s.payload={element:null},s.callback=function(){Dr(e,n)},s}function Sp(e){return e=Zn(e),e.tag=3,e}function Ep(e,n,s,r){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;e.payload=function(){return c(f)},e.callback=function(){bp(n,s,r)}}var d=s.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){bp(n,s,r),typeof c!="function"&&(si===null?si=new Set([this]):si.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function oS(e,n,s,r,c){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=s.alternate,n!==null&&ws(n,s,c,!0),s=Dt.current,s!==null){switch(s.tag){case 31:case 13:return Yt===null?Gr():s.alternate===null&&He===0&&(He=3),s.flags&=-257,s.flags|=65536,s.lanes=c,r===yr?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([r]):n.add(r),Xu(e,r,c)),!1;case 22:return s.flags|=65536,r===yr?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([r]):s.add(r)),Xu(e,r,c)),!1}throw Error(l(435,s.tag))}return Xu(e,r,c),Gr(),!1}if(he)return n=Dt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,r!==Gc&&(e=Error(l(422),{cause:r}),Ia(qt(e,s)))):(r!==Gc&&(n=Error(l(423),{cause:r}),Ia(qt(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=qt(r,s),c=Cu(e.stateNode,r,c),eu(e,c),He!==4&&(He=2)),!1;var f=Error(l(520),{cause:r});if(f=qt(f,s),Ja===null?Ja=[f]:Ja.push(f),He!==4&&(He=2),n===null)return!0;r=qt(r,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=Cu(s.stateNode,r,e),eu(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(si===null||!si.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Sp(c),Ep(c,e,s,r),eu(s,c),!1}s=s.return}while(s!==null);return!1}var wu=Error(l(461)),Fe=!1;function rt(e,n,s,r){n.child=e===null?Am(n,null,s,r):Pi(n,e.child,s,r)}function Tp(e,n,s,r,c){s=s.render;var f=n.ref;if("ref"in r){var d={};for(var _ in r)_!=="ref"&&(d[_]=r[_])}else d=r;return Bi(n),r=lu(e,n,s,d,f,c),_=ru(),e!==null&&!Fe?(ou(e,n,c),wn(e,n,c)):(he&&_&&qc(n),n.flags|=1,rt(e,n,r,c),n.child)}function Cp(e,n,s,r,c){if(e===null){var f=s.type;return typeof f=="function"&&!jc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,wp(e,n,f,r,c)):(e=hr(s.type,null,r,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Iu(e,c)){var d=f.memoizedProps;if(s=s.compare,s=s!==null?s:Oa,s(d,r)&&e.ref===n.ref)return wn(e,n,c)}return n.flags|=1,e=vn(f,r),e.ref=n.ref,e.return=n,n.child=e}function wp(e,n,s,r,c){if(e!==null){var f=e.memoizedProps;if(Oa(f,r)&&e.ref===n.ref)if(Fe=!1,n.pendingProps=r=f,Iu(e,c))(e.flags&131072)!==0&&(Fe=!0);else return n.lanes=e.lanes,wn(e,n,c)}return Au(e,n,s,r,c)}function Ap(e,n,s,r){var c=r.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(r=n.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~f}else r=0,n.child=null;return Np(e,n,f,s,r)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&gr(n,f!==null?f.cachePool:null),f!==null?Rm(n,f):nu(),Om(n);else return r=n.lanes=536870912,Np(e,n,f!==null?f.baseLanes|s:s,s,r)}else f!==null?(gr(n,f.cachePool),Rm(n,f),ei(),n.memoizedState=null):(e!==null&&gr(n,null),nu(),ei());return rt(e,n,c,s),n.child}function Ya(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Np(e,n,s,r,c){var f=Wc();return f=f===null?null:{parent:Ye._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&gr(n,null),nu(),Om(n),e!==null&&ws(e,n,r,!0),n.childLanes=c,null}function Mr(e,n){return n=kr({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function xp(e,n,s){return Pi(n,e.child,null,s),e=Mr(n,n.pendingProps),e.flags|=2,Mt(n),n.memoizedState=null,e}function cS(e,n,s){var r=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(he){if(r.mode==="hidden")return e=Mr(n,r),n.lanes=536870912,Ya(null,e);if(su(n),(e=Le)?(e=Bg(e,Pt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:rn,overflow:on}:null,retryLane:536870912,hydrationErrors:null},s=fm(e),s.return=n,n.child=s,at=n,Le=null)):e=null,e===null)throw Kn(n);return n.lanes=536870912,null}return Mr(n,r)}var f=e.memoizedState;if(f!==null){var d=f.dehydrated;if(su(n),c)if(n.flags&256)n.flags&=-257,n=xp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(l(558));else if(Fe||ws(e,n,s,!1),c=(s&e.childLanes)!==0,Fe||c){if(r=Me,r!==null&&(d=yd(r,s),d!==0&&d!==f.retryLane))throw f.retryLane=d,Ui(e,d),Ct(r,e,d),wu;Gr(),n=xp(e,n,s)}else e=f.treeContext,Le=Qt(d.nextSibling),at=n,he=!0,Fn=null,Pt=!1,e!==null&&mm(n,e),n=Mr(n,r),n.flags|=4096;return n}return e=vn(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ir(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Au(e,n,s,r,c){return Bi(n),s=lu(e,n,s,r,void 0,c),r=ru(),e!==null&&!Fe?(ou(e,n,c),wn(e,n,c)):(he&&r&&qc(n),n.flags|=1,rt(e,n,s,c),n.child)}function Rp(e,n,s,r,c,f){return Bi(n),n.updateQueue=null,s=Mm(n,r,s,c),Dm(e),r=ru(),e!==null&&!Fe?(ou(e,n,f),wn(e,n,f)):(he&&r&&qc(n),n.flags|=1,rt(e,n,s,f),n.child)}function Op(e,n,s,r,c){if(Bi(n),n.stateNode===null){var f=Ss,d=s.contextType;typeof d=="object"&&d!==null&&(f=lt(d)),f=new s(r,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Tu,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=r,f.state=n.memoizedState,f.refs={},Jc(n),d=s.contextType,f.context=typeof d=="object"&&d!==null?lt(d):Ss,f.state=n.memoizedState,d=s.getDerivedStateFromProps,typeof d=="function"&&(Eu(n,s,d,r),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(d=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),d!==f.state&&Tu.enqueueReplaceState(f,f.state,null),Ba(n,r,f,c),Ha(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){f=n.stateNode;var _=n.memoizedProps,v=Qi(s,_);f.props=v;var N=f.context,D=s.contextType;d=Ss,typeof D=="object"&&D!==null&&(d=lt(D));var k=s.getDerivedStateFromProps;D=typeof k=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,D||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||N!==d)&&gp(n,f,r,d),Wn=!1;var x=n.memoizedState;f.state=x,Ba(n,r,f,c),Ha(),N=n.memoizedState,_||x!==N||Wn?(typeof k=="function"&&(Eu(n,s,k,r),N=n.memoizedState),(v=Wn||pp(n,s,v,r,x,N,d))?(D||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=N),f.props=r,f.state=N,f.context=d,r=v):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{f=n.stateNode,$c(e,n),d=n.memoizedProps,D=Qi(s,d),f.props=D,k=n.pendingProps,x=f.context,N=s.contextType,v=Ss,typeof N=="object"&&N!==null&&(v=lt(N)),_=s.getDerivedStateFromProps,(N=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(d!==k||x!==v)&&gp(n,f,r,v),Wn=!1,x=n.memoizedState,f.state=x,Ba(n,r,f,c),Ha();var R=n.memoizedState;d!==k||x!==R||Wn||e!==null&&e.dependencies!==null&&mr(e.dependencies)?(typeof _=="function"&&(Eu(n,s,_,r),R=n.memoizedState),(D=Wn||pp(n,s,D,r,x,R,v)||e!==null&&e.dependencies!==null&&mr(e.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,R,v),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,R,v)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=R),f.props=r,f.state=R,f.context=v,r=D):(typeof f.componentDidUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),r=!1)}return f=r,Ir(e,n),r=(n.flags&128)!==0,f||r?(f=n.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&r?(n.child=Pi(n,e.child,null,c),n.child=Pi(n,null,s,c)):rt(e,n,s,c),n.memoizedState=f.state,e=n.child):e=wn(e,n,c),e}function Dp(e,n,s,r){return ji(),n.flags|=256,rt(e,n,s,r),n.child}var Nu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xu(e){return{baseLanes:e,cachePool:bm()}}function Ru(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=kt),e}function Mp(e,n,s){var r=n.pendingProps,c=!1,f=(n.flags&128)!==0,d;if((d=f)||(d=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),d&&(c=!0,n.flags&=-129),d=(n.flags&32)!==0,n.flags&=-33,e===null){if(he){if(c?$n(n):ei(),(e=Le)?(e=Bg(e,Pt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:rn,overflow:on}:null,retryLane:536870912,hydrationErrors:null},s=fm(e),s.return=n,n.child=s,at=n,Le=null)):e=null,e===null)throw Kn(n);return hf(e)?n.lanes=32:n.lanes=536870912,null}var _=r.children;return r=r.fallback,c?(ei(),c=n.mode,_=kr({mode:"hidden",children:_},c),r=zi(r,c,s,null),_.return=n,r.return=n,_.sibling=r,n.child=_,r=n.child,r.memoizedState=xu(s),r.childLanes=Ru(e,d,s),n.memoizedState=Nu,Ya(null,r)):($n(n),Ou(n,_))}var v=e.memoizedState;if(v!==null&&(_=v.dehydrated,_!==null)){if(f)n.flags&256?($n(n),n.flags&=-257,n=Du(e,n,s)):n.memoizedState!==null?(ei(),n.child=e.child,n.flags|=128,n=null):(ei(),_=r.fallback,c=n.mode,r=kr({mode:"visible",children:r.children},c),_=zi(_,c,s,null),_.flags|=2,r.return=n,_.return=n,r.sibling=_,n.child=r,Pi(n,e.child,null,s),r=n.child,r.memoizedState=xu(s),r.childLanes=Ru(e,d,s),n.memoizedState=Nu,n=Ya(null,r));else if($n(n),hf(_)){if(d=_.nextSibling&&_.nextSibling.dataset,d)var N=d.dgst;d=N,r=Error(l(419)),r.stack="",r.digest=d,Ia({value:r,source:null,stack:null}),n=Du(e,n,s)}else if(Fe||ws(e,n,s,!1),d=(s&e.childLanes)!==0,Fe||d){if(d=Me,d!==null&&(r=yd(d,s),r!==0&&r!==v.retryLane))throw v.retryLane=r,Ui(e,r),Ct(d,e,r),wu;ff(_)||Gr(),n=Du(e,n,s)}else ff(_)?(n.flags|=192,n.child=e.child,n=null):(e=v.treeContext,Le=Qt(_.nextSibling),at=n,he=!0,Fn=null,Pt=!1,e!==null&&mm(n,e),n=Ou(n,r.children),n.flags|=4096);return n}return c?(ei(),_=r.fallback,c=n.mode,v=e.child,N=v.sibling,r=vn(v,{mode:"hidden",children:r.children}),r.subtreeFlags=v.subtreeFlags&65011712,N!==null?_=vn(N,_):(_=zi(_,c,s,null),_.flags|=2),_.return=n,r.return=n,r.sibling=_,n.child=r,Ya(null,r),r=n.child,_=e.child.memoizedState,_===null?_=xu(s):(c=_.cachePool,c!==null?(v=Ye._currentValue,c=c.parent!==v?{parent:v,pool:v}:c):c=bm(),_={baseLanes:_.baseLanes|s,cachePool:c}),r.memoizedState=_,r.childLanes=Ru(e,d,s),n.memoizedState=Nu,Ya(e.child,r)):($n(n),s=e.child,e=s.sibling,s=vn(s,{mode:"visible",children:r.children}),s.return=n,s.sibling=null,e!==null&&(d=n.deletions,d===null?(n.deletions=[e],n.flags|=16):d.push(e)),n.child=s,n.memoizedState=null,s)}function Ou(e,n){return n=kr({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function kr(e,n){return e=Ot(22,e,null,n),e.lanes=0,e}function Du(e,n,s){return Pi(n,e.child,null,s),e=Ou(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ip(e,n,s){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),Qc(e.return,n,s)}function Mu(e,n,s,r,c,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:c,treeForkCount:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=s,d.tailMode=c,d.treeForkCount=f)}function kp(e,n,s){var r=n.pendingProps,c=r.revealOrder,f=r.tail;r=r.children;var d=Ge.current,_=(d&2)!==0;if(_?(d=d&1|2,n.flags|=128):d&=1,H(Ge,d),rt(e,n,r,s),r=he?Ma:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ip(e,s,n);else if(e.tag===19)Ip(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Er(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Mu(n,!1,c,s,f,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Er(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Mu(n,!0,s,null,f,r);break;case"together":Mu(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function wn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ii|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ws(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,s=vn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=vn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Iu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&mr(e)))}function uS(e,n,s){switch(n.tag){case 3:ht(n,n.stateNode.containerInfo),Xn(n,Ye,e.memoizedState.cache),ji();break;case 27:case 5:_a(n);break;case 4:ht(n,n.stateNode.containerInfo);break;case 10:Xn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,su(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?($n(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Mp(e,n,s):($n(n),e=wn(e,n,s),e!==null?e.sibling:null);$n(n);break;case 19:var c=(e.flags&128)!==0;if(r=(s&n.childLanes)!==0,r||(ws(e,n,s,!1),r=(s&n.childLanes)!==0),c){if(r)return kp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),H(Ge,Ge.current),r)break;return null;case 22:return n.lanes=0,Ap(e,n,s,n.pendingProps);case 24:Xn(n,Ye,e.memoizedState.cache)}return wn(e,n,s)}function Lp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Fe=!0;else{if(!Iu(e,s)&&(n.flags&128)===0)return Fe=!1,uS(e,n,s);Fe=(e.flags&131072)!==0}else Fe=!1,he&&(n.flags&1048576)!==0&&dm(n,Ma,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=Vi(n.elementType),n.type=e,typeof e=="function")jc(e)?(r=Qi(e,r),n.tag=1,n=Op(null,n,e,r,s)):(n.tag=0,n=Au(null,n,e,r,s));else{if(e!=null){var c=e.$$typeof;if(c===pe){n.tag=11,n=Tp(null,n,e,r,s);break e}else if(c===P){n.tag=14,n=Cp(null,n,e,r,s);break e}}throw n=pn(e)||e,Error(l(306,n,""))}}return n;case 0:return Au(e,n,n.type,n.pendingProps,s);case 1:return r=n.type,c=Qi(r,n.pendingProps),Op(e,n,r,c,s);case 3:e:{if(ht(n,n.stateNode.containerInfo),e===null)throw Error(l(387));r=n.pendingProps;var f=n.memoizedState;c=f.element,$c(e,n),Ba(n,r,null,s);var d=n.memoizedState;if(r=d.cache,Xn(n,Ye,r),r!==f.cache&&Fc(n,[Ye],s,!0),Ha(),r=d.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:d.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Dp(e,n,r,s);break e}else if(r!==c){c=qt(Error(l(424)),n),Ia(c),n=Dp(e,n,r,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Qt(e.firstChild),at=n,he=!0,Fn=null,Pt=!0,s=Am(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ji(),r===c){n=wn(e,n,s);break e}rt(e,n,r,s)}n=n.child}return n;case 26:return Ir(e,n),e===null?(s=Qg(n.type,null,n.pendingProps,null))?n.memoizedState=s:he||(s=n.type,e=n.pendingProps,r=Wr(le.current).createElement(s),r[st]=n,r[yt]=e,ot(r,s,e),$e(r),n.stateNode=r):n.memoizedState=Qg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return _a(n),e===null&&he&&(r=n.stateNode=Gg(n.type,n.pendingProps,le.current),at=n,Pt=!0,c=Le,oi(n.type)?(df=c,Le=Qt(r.firstChild)):Le=c),rt(e,n,n.pendingProps.children,s),Ir(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&he&&((c=r=Le)&&(r=BS(r,n.type,n.pendingProps,Pt),r!==null?(n.stateNode=r,at=n,Le=Qt(r.firstChild),Pt=!1,c=!0):c=!1),c||Kn(n)),_a(n),c=n.type,f=n.pendingProps,d=e!==null?e.memoizedProps:null,r=f.children,of(c,f)?r=null:d!==null&&of(c,d)&&(n.flags|=32),n.memoizedState!==null&&(c=lu(e,n,tS,null,null,s),ll._currentValue=c),Ir(e,n),rt(e,n,r,s),n.child;case 6:return e===null&&he&&((e=s=Le)&&(s=qS(s,n.pendingProps,Pt),s!==null?(n.stateNode=s,at=n,Le=null,e=!0):e=!1),e||Kn(n)),null;case 13:return Mp(e,n,s);case 4:return ht(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=Pi(n,null,r,s):rt(e,n,r,s),n.child;case 11:return Tp(e,n,n.type,n.pendingProps,s);case 7:return rt(e,n,n.pendingProps,s),n.child;case 8:return rt(e,n,n.pendingProps.children,s),n.child;case 12:return rt(e,n,n.pendingProps.children,s),n.child;case 10:return r=n.pendingProps,Xn(n,n.type,r.value),rt(e,n,r.children,s),n.child;case 9:return c=n.type._context,r=n.pendingProps.children,Bi(n),c=lt(c),r=r(c),n.flags|=1,rt(e,n,r,s),n.child;case 14:return Cp(e,n,n.type,n.pendingProps,s);case 15:return wp(e,n,n.type,n.pendingProps,s);case 19:return kp(e,n,s);case 31:return cS(e,n,s);case 22:return Ap(e,n,s,n.pendingProps);case 24:return Bi(n),r=lt(Ye),e===null?(c=Wc(),c===null&&(c=Me,f=Kc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:r,cache:c},Jc(n),Xn(n,Ye,c)):((e.lanes&s)!==0&&($c(e,n),Ba(n,null,null,s),Ha()),c=e.memoizedState,f=n.memoizedState,c.parent!==r?(c={parent:r,cache:r},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Xn(n,Ye,r)):(r=f.cache,Xn(n,Ye,r),r!==c.cache&&Fc(n,[Ye],s,!0))),rt(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function An(e){e.flags|=4}function ku(e,n,s,r,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(og())e.flags|=8192;else throw Gi=yr,Zc}else e.flags&=-16777217}function Up(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Zg(n))if(og())e.flags|=8192;else throw Gi=yr,Zc}function Lr(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?pd():536870912,e.lanes|=n,zs|=n)}function Qa(e,n){if(!he)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ue(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=s,n}function fS(e,n,s){var r=n.pendingProps;switch(Vc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(n),null;case 1:return Ue(n),null;case 3:return s=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),En(Ye),Ve(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Cs(n)?An(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Pc())),Ue(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(An(n),f!==null?(Ue(n),Up(n,f)):(Ue(n),ku(n,c,null,r,s))):f?f!==e.memoizedState?(An(n),Ue(n),Up(n,f)):(Ue(n),n.flags&=-16777217):(e=e.memoizedProps,e!==r&&An(n),Ue(n),ku(n,c,e,r,s)),null;case 27:if(Ql(n),s=le.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&An(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return Ue(n),null}e=V.current,Cs(n)?pm(n):(e=Gg(c,r,s),n.stateNode=e,An(n))}return Ue(n),null;case 5:if(Ql(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&An(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return Ue(n),null}if(f=V.current,Cs(n))pm(n);else{var d=Wr(le.current);switch(f){case 1:f=d.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=d.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=d.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=d.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=d.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?d.createElement("select",{is:r.is}):d.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?d.createElement(c,{is:r.is}):d.createElement(c)}}f[st]=n,f[yt]=r;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)f.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=f;e:switch(ot(f,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&An(n)}}return Ue(n),ku(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&An(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(l(166));if(e=le.current,Cs(n)){if(e=n.stateNode,s=n.memoizedProps,r=null,c=at,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[st]=n,e=!!(e.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||Mg(e.nodeValue,s)),e||Kn(n,!0)}else e=Wr(e).createTextNode(r),e[st]=n,n.stateNode=e}return Ue(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(r=Cs(n),s!==null){if(e===null){if(!r)throw Error(l(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[st]=n}else ji(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ue(n),e=!1}else s=Pc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Mt(n),n):(Mt(n),null);if((n.flags&128)!==0)throw Error(l(558))}return Ue(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Cs(n),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[st]=n}else ji(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ue(n),c=!1}else c=Pc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Mt(n),n):(Mt(n),null)}return Mt(n),(n.flags&128)!==0?(n.lanes=s,n):(s=r!==null,e=e!==null&&e.memoizedState!==null,s&&(r=n.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==c&&(r.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Lr(n,n.updateQueue),Ue(n),null);case 4:return Ve(),e===null&&nf(n.stateNode.containerInfo),Ue(n),null;case 10:return En(n.type),Ue(n),null;case 19:if(U(Ge),r=n.memoizedState,r===null)return Ue(n),null;if(c=(n.flags&128)!==0,f=r.rendering,f===null)if(c)Qa(r,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Er(e),f!==null){for(n.flags|=128,Qa(r,!1),e=f.updateQueue,n.updateQueue=e,Lr(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)um(s,e),s=s.sibling;return H(Ge,Ge.current&1|2),he&&bn(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&At()>Br&&(n.flags|=128,c=!0,Qa(r,!1),n.lanes=4194304)}else{if(!c)if(e=Er(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Lr(n,e),Qa(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!he)return Ue(n),null}else 2*At()-r.renderingStartTime>Br&&s!==536870912&&(n.flags|=128,c=!0,Qa(r,!1),n.lanes=4194304);r.isBackwards?(f.sibling=n.child,n.child=f):(e=r.last,e!==null?e.sibling=f:n.child=f,r.last=f)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=At(),e.sibling=null,s=Ge.current,H(Ge,c?s&1|2:s&1),he&&bn(n,r.treeForkCount),e):(Ue(n),null);case 22:case 23:return Mt(n),iu(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(s&536870912)!==0&&(n.flags&128)===0&&(Ue(n),n.subtreeFlags&6&&(n.flags|=8192)):Ue(n),s=n.updateQueue,s!==null&&Lr(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048),e!==null&&U(qi),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),En(Ye),Ue(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function hS(e,n){switch(Vc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return En(Ye),Ve(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ql(n),null;case 31:if(n.memoizedState!==null){if(Mt(n),n.alternate===null)throw Error(l(340));ji()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Mt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));ji()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return U(Ge),null;case 4:return Ve(),null;case 10:return En(n.type),null;case 22:case 23:return Mt(n),iu(),e!==null&&U(qi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return En(Ye),null;case 25:return null;default:return null}}function zp(e,n){switch(Vc(n),n.tag){case 3:En(Ye),Ve();break;case 26:case 27:case 5:Ql(n);break;case 4:Ve();break;case 31:n.memoizedState!==null&&Mt(n);break;case 13:Mt(n);break;case 19:U(Ge);break;case 10:En(n.type);break;case 22:case 23:Mt(n),iu(),e!==null&&U(qi);break;case 24:En(Ye)}}function Fa(e,n){try{var s=n.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var c=r.next;s=c;do{if((s.tag&e)===e){r=void 0;var f=s.create,d=s.inst;r=f(),d.destroy=r}s=s.next}while(s!==c)}}catch(_){Ee(n,n.return,_)}}function ti(e,n,s){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&e)===e){var d=r.inst,_=d.destroy;if(_!==void 0){d.destroy=void 0,c=n;var v=s,N=_;try{N()}catch(D){Ee(c,v,D)}}}r=r.next}while(r!==f)}}catch(D){Ee(n,n.return,D)}}function jp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{xm(n,s)}catch(r){Ee(e,e.return,r)}}}function Hp(e,n,s){s.props=Qi(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(r){Ee(e,n,r)}}function Ka(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof s=="function"?e.refCleanup=s(r):s.current=r}}catch(c){Ee(e,n,c)}}function cn(e,n){var s=e.ref,r=e.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(c){Ee(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Ee(e,n,c)}else s.current=null}function Bp(e){var n=e.type,s=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(c){Ee(e,e.return,c)}}function Lu(e,n,s){try{var r=e.stateNode;kS(r,e.type,s,n),r[yt]=n}catch(c){Ee(e,e.return,c)}}function qp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&oi(e.type)||e.tag===4}function Uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&oi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zu(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=_n));else if(r!==4&&(r===27&&oi(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(zu(e,n,s),e=e.sibling;e!==null;)zu(e,n,s),e=e.sibling}function Ur(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(r!==4&&(r===27&&oi(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ur(e,n,s),e=e.sibling;e!==null;)Ur(e,n,s),e=e.sibling}function Vp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var r=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ot(n,r,s),n[st]=e,n[yt]=s}catch(f){Ee(e,e.return,f)}}var Nn=!1,Ke=!1,ju=!1,Gp=typeof WeakSet=="function"?WeakSet:Set,et=null;function dS(e,n){if(e=e.containerInfo,lf=io,e=tm(e),Dc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var c=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var d=0,_=-1,v=-1,N=0,D=0,k=e,x=null;t:for(;;){for(var R;k!==s||c!==0&&k.nodeType!==3||(_=d+c),k!==f||r!==0&&k.nodeType!==3||(v=d+r),k.nodeType===3&&(d+=k.nodeValue.length),(R=k.firstChild)!==null;)x=k,k=R;for(;;){if(k===e)break t;if(x===s&&++N===c&&(_=d),x===f&&++D===r&&(v=d),(R=k.nextSibling)!==null)break;k=x,x=k.parentNode}k=R}s=_===-1||v===-1?null:{start:_,end:v}}else s=null}s=s||{start:0,end:0}}else s=null;for(rf={focusedElem:e,selectionRange:s},io=!1,et=n;et!==null;)if(n=et,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,et=e;else for(;et!==null;){switch(n=et,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,r=s.stateNode;try{var q=Qi(s.type,c);e=r.getSnapshotBeforeUpdate(q,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(K){Ee(s,s.return,K)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)uf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":uf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,et=e;break}et=n.return}}function Pp(e,n,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:Rn(e,s),r&4&&Fa(5,s);break;case 1:if(Rn(e,s),r&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(d){Ee(s,s.return,d)}else{var c=Qi(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Ee(s,s.return,d)}}r&64&&jp(s),r&512&&Ka(s,s.return);break;case 3:if(Rn(e,s),r&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{xm(e,n)}catch(d){Ee(s,s.return,d)}}break;case 27:n===null&&r&4&&Vp(s);case 26:case 5:Rn(e,s),n===null&&r&4&&Bp(s),r&512&&Ka(s,s.return);break;case 12:Rn(e,s);break;case 31:Rn(e,s),r&4&&Fp(e,s);break;case 13:Rn(e,s),r&4&&Kp(e,s),r&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=ES.bind(null,s),VS(e,s))));break;case 22:if(r=s.memoizedState!==null||Nn,!r){n=n!==null&&n.memoizedState!==null||Ke,c=Nn;var f=Ke;Nn=r,(Ke=n)&&!f?On(e,s,(s.subtreeFlags&8772)!==0):Rn(e,s),Nn=c,Ke=f}break;case 30:break;default:Rn(e,s)}}function Yp(e){var n=e.alternate;n!==null&&(e.alternate=null,Yp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&mc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,bt=!1;function xn(e,n,s){for(s=s.child;s!==null;)Qp(e,n,s),s=s.sibling}function Qp(e,n,s){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(ya,s)}catch{}switch(s.tag){case 26:Ke||cn(s,n),xn(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ke||cn(s,n);var r=ze,c=bt;oi(s.type)&&(ze=s.stateNode,bt=!1),xn(e,n,s),il(s.stateNode),ze=r,bt=c;break;case 5:Ke||cn(s,n);case 6:if(r=ze,c=bt,ze=null,xn(e,n,s),ze=r,bt=c,ze!==null)if(bt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(s.stateNode)}catch(f){Ee(s,n,f)}else try{ze.removeChild(s.stateNode)}catch(f){Ee(s,n,f)}break;case 18:ze!==null&&(bt?(e=ze,jg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ys(e)):jg(ze,s.stateNode));break;case 4:r=ze,c=bt,ze=s.stateNode.containerInfo,bt=!0,xn(e,n,s),ze=r,bt=c;break;case 0:case 11:case 14:case 15:ti(2,s,n),Ke||ti(4,s,n),xn(e,n,s);break;case 1:Ke||(cn(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"&&Hp(s,n,r)),xn(e,n,s);break;case 21:xn(e,n,s);break;case 22:Ke=(r=Ke)||s.memoizedState!==null,xn(e,n,s),Ke=r;break;default:xn(e,n,s)}}function Fp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ys(e)}catch(s){Ee(n,n.return,s)}}}function Kp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ys(e)}catch(s){Ee(n,n.return,s)}}function mS(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Gp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Gp),n;default:throw Error(l(435,e.tag))}}function zr(e,n){var s=mS(e);n.forEach(function(r){if(!s.has(r)){s.add(r);var c=TS.bind(null,e,r);r.then(c,c)}})}function St(e,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var c=s[r],f=e,d=n,_=d;e:for(;_!==null;){switch(_.tag){case 27:if(oi(_.type)){ze=_.stateNode,bt=!1;break e}break;case 5:ze=_.stateNode,bt=!1;break e;case 3:case 4:ze=_.stateNode.containerInfo,bt=!0;break e}_=_.return}if(ze===null)throw Error(l(160));Qp(f,d,c),ze=null,bt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Xp(n,e),n=n.sibling}var Jt=null;function Xp(e,n){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:St(n,e),Et(e),r&4&&(ti(3,e,e.return),Fa(3,e),ti(5,e,e.return));break;case 1:St(n,e),Et(e),r&512&&(Ke||s===null||cn(s,s.return)),r&64&&Nn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var c=Jt;if(St(n,e),Et(e),r&512&&(Ke||s===null||cn(s,s.return)),r&4){var f=s!==null?s.memoizedState:null;if(r=e.memoizedState,s===null)if(r===null)if(e.stateNode===null){e:{r=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Sa]||f[st]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(r),c.head.insertBefore(f,c.querySelector("head > title"))),ot(f,r,s),f[st]=e,$e(f),r=f;break e;case"link":var d=Xg("link","href",c).get(r+(s.href||""));if(d){for(var _=0;_<d.length;_++)if(f=d[_],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){d.splice(_,1);break t}}f=c.createElement(r),ot(f,r,s),c.head.appendChild(f);break;case"meta":if(d=Xg("meta","content",c).get(r+(s.content||""))){for(_=0;_<d.length;_++)if(f=d[_],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){d.splice(_,1);break t}}f=c.createElement(r),ot(f,r,s),c.head.appendChild(f);break;default:throw Error(l(468,r))}f[st]=e,$e(f),r=f}e.stateNode=r}else Wg(c,e.type,e.stateNode);else e.stateNode=Kg(c,r,e.memoizedProps);else f!==r?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,r===null?Wg(c,e.type,e.stateNode):Kg(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Lu(e,e.memoizedProps,s.memoizedProps)}break;case 27:St(n,e),Et(e),r&512&&(Ke||s===null||cn(s,s.return)),s!==null&&r&4&&Lu(e,e.memoizedProps,s.memoizedProps);break;case 5:if(St(n,e),Et(e),r&512&&(Ke||s===null||cn(s,s.return)),e.flags&32){c=e.stateNode;try{ms(c,"")}catch(q){Ee(e,e.return,q)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Lu(e,c,s!==null?s.memoizedProps:c)),r&1024&&(ju=!0);break;case 6:if(St(n,e),Et(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,s=e.stateNode;try{s.nodeValue=r}catch(q){Ee(e,e.return,q)}}break;case 3:if($r=null,c=Jt,Jt=Zr(n.containerInfo),St(n,e),Jt=c,Et(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Ys(n.containerInfo)}catch(q){Ee(e,e.return,q)}ju&&(ju=!1,Wp(e));break;case 4:r=Jt,Jt=Zr(e.stateNode.containerInfo),St(n,e),Et(e),Jt=r;break;case 12:St(n,e),Et(e);break;case 31:St(n,e),Et(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,zr(e,r)));break;case 13:St(n,e),Et(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Hr=At()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,zr(e,r)));break;case 22:c=e.memoizedState!==null;var v=s!==null&&s.memoizedState!==null,N=Nn,D=Ke;if(Nn=N||c,Ke=D||v,St(n,e),Ke=D,Nn=N,Et(e),r&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||v||Nn||Ke||Fi(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){v=s=n;try{if(f=v.stateNode,c)d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=v.stateNode;var k=v.memoizedProps.style,x=k!=null&&k.hasOwnProperty("display")?k.display:null;_.style.display=x==null||typeof x=="boolean"?"":(""+x).trim()}}catch(q){Ee(v,v.return,q)}}}else if(n.tag===6){if(s===null){v=n;try{v.stateNode.nodeValue=c?"":v.memoizedProps}catch(q){Ee(v,v.return,q)}}}else if(n.tag===18){if(s===null){v=n;try{var R=v.stateNode;c?Hg(R,!0):Hg(v.stateNode,!1)}catch(q){Ee(v,v.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,zr(e,s))));break;case 19:St(n,e),Et(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,zr(e,r)));break;case 30:break;case 21:break;default:St(n,e),Et(e)}}function Et(e){var n=e.flags;if(n&2){try{for(var s,r=e.return;r!==null;){if(qp(r)){s=r;break}r=r.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var c=s.stateNode,f=Uu(e);Ur(e,f,c);break;case 5:var d=s.stateNode;s.flags&32&&(ms(d,""),s.flags&=-33);var _=Uu(e);Ur(e,_,d);break;case 3:case 4:var v=s.stateNode.containerInfo,N=Uu(e);zu(e,N,v);break;default:throw Error(l(161))}}catch(D){Ee(e,e.return,D)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Wp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Wp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Rn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Pp(e,n.alternate,n),n=n.sibling}function Fi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ti(4,n,n.return),Fi(n);break;case 1:cn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Hp(n,n.return,s),Fi(n);break;case 27:il(n.stateNode);case 26:case 5:cn(n,n.return),Fi(n);break;case 22:n.memoizedState===null&&Fi(n);break;case 30:Fi(n);break;default:Fi(n)}e=e.sibling}}function On(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,c=e,f=n,d=f.flags;switch(f.tag){case 0:case 11:case 15:On(c,f,s),Fa(4,f);break;case 1:if(On(c,f,s),r=f,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){Ee(r,r.return,N)}if(r=f,c=r.updateQueue,c!==null){var _=r.stateNode;try{var v=c.shared.hiddenCallbacks;if(v!==null)for(c.shared.hiddenCallbacks=null,c=0;c<v.length;c++)Nm(v[c],_)}catch(N){Ee(r,r.return,N)}}s&&d&64&&jp(f),Ka(f,f.return);break;case 27:Vp(f);case 26:case 5:On(c,f,s),s&&r===null&&d&4&&Bp(f),Ka(f,f.return);break;case 12:On(c,f,s);break;case 31:On(c,f,s),s&&d&4&&Fp(c,f);break;case 13:On(c,f,s),s&&d&4&&Kp(c,f);break;case 22:f.memoizedState===null&&On(c,f,s),Ka(f,f.return);break;case 30:break;default:On(c,f,s)}n=n.sibling}}function Hu(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ka(s))}function Bu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ka(e))}function $t(e,n,s,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zp(e,n,s,r),n=n.sibling}function Zp(e,n,s,r){var c=n.flags;switch(n.tag){case 0:case 11:case 15:$t(e,n,s,r),c&2048&&Fa(9,n);break;case 1:$t(e,n,s,r);break;case 3:$t(e,n,s,r),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ka(e)));break;case 12:if(c&2048){$t(e,n,s,r),e=n.stateNode;try{var f=n.memoizedProps,d=f.id,_=f.onPostCommit;typeof _=="function"&&_(d,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){Ee(n,n.return,v)}}else $t(e,n,s,r);break;case 31:$t(e,n,s,r);break;case 13:$t(e,n,s,r);break;case 23:break;case 22:f=n.stateNode,d=n.alternate,n.memoizedState!==null?f._visibility&2?$t(e,n,s,r):Xa(e,n):f._visibility&2?$t(e,n,s,r):(f._visibility|=2,ks(e,n,s,r,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Hu(d,n);break;case 24:$t(e,n,s,r),c&2048&&Bu(n.alternate,n);break;default:$t(e,n,s,r)}}function ks(e,n,s,r,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,d=n,_=s,v=r,N=d.flags;switch(d.tag){case 0:case 11:case 15:ks(f,d,_,v,c),Fa(8,d);break;case 23:break;case 22:var D=d.stateNode;d.memoizedState!==null?D._visibility&2?ks(f,d,_,v,c):Xa(f,d):(D._visibility|=2,ks(f,d,_,v,c)),c&&N&2048&&Hu(d.alternate,d);break;case 24:ks(f,d,_,v,c),c&&N&2048&&Bu(d.alternate,d);break;default:ks(f,d,_,v,c)}n=n.sibling}}function Xa(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,r=n,c=r.flags;switch(r.tag){case 22:Xa(s,r),c&2048&&Hu(r.alternate,r);break;case 24:Xa(s,r),c&2048&&Bu(r.alternate,r);break;default:Xa(s,r)}n=n.sibling}}var Wa=8192;function Ls(e,n,s){if(e.subtreeFlags&Wa)for(e=e.child;e!==null;)Jp(e,n,s),e=e.sibling}function Jp(e,n,s){switch(e.tag){case 26:Ls(e,n,s),e.flags&Wa&&e.memoizedState!==null&&e1(s,Jt,e.memoizedState,e.memoizedProps);break;case 5:Ls(e,n,s);break;case 3:case 4:var r=Jt;Jt=Zr(e.stateNode.containerInfo),Ls(e,n,s),Jt=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Wa,Wa=16777216,Ls(e,n,s),Wa=r):Ls(e,n,s));break;default:Ls(e,n,s)}}function $p(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Za(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];et=r,tg(r,e)}$p(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)eg(e),e=e.sibling}function eg(e){switch(e.tag){case 0:case 11:case 15:Za(e),e.flags&2048&&ti(9,e,e.return);break;case 3:Za(e);break;case 12:Za(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,jr(e)):Za(e);break;default:Za(e)}}function jr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];et=r,tg(r,e)}$p(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ti(8,n,n.return),jr(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,jr(n));break;default:jr(n)}e=e.sibling}}function tg(e,n){for(;et!==null;){var s=et;switch(s.tag){case 0:case 11:case 15:ti(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ka(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,et=r;else e:for(s=e;et!==null;){r=et;var c=r.sibling,f=r.return;if(Yp(r),r===s){et=null;break e}if(c!==null){c.return=f,et=c;break e}et=f}}}var pS={getCacheForType:function(e){var n=lt(Ye),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return lt(Ye).controller.signal}},gS=typeof WeakMap=="function"?WeakMap:Map,ve=0,Me=null,re=null,ue=0,Se=0,It=null,ni=!1,Us=!1,qu=!1,Dn=0,He=0,ii=0,Ki=0,Vu=0,kt=0,zs=0,Ja=null,Tt=null,Gu=!1,Hr=0,ng=0,Br=1/0,qr=null,si=null,Xe=0,ai=null,js=null,Mn=0,Pu=0,Yu=null,ig=null,$a=0,Qu=null;function Lt(){return(ve&2)!==0&&ue!==0?ue&-ue:M.T!==null?Ju():vd()}function sg(){if(kt===0)if((ue&536870912)===0||he){var e=Xl;Xl<<=1,(Xl&3932160)===0&&(Xl=262144),kt=e}else kt=536870912;return e=Dt.current,e!==null&&(e.flags|=32),kt}function Ct(e,n,s){(e===Me&&(Se===2||Se===9)||e.cancelPendingCommit!==null)&&(Hs(e,0),li(e,ue,kt,!1)),ba(e,s),((ve&2)===0||e!==Me)&&(e===Me&&((ve&2)===0&&(Ki|=s),He===4&&li(e,ue,kt,!1)),un(e))}function ag(e,n,s){if((ve&6)!==0)throw Error(l(327));var r=!s&&(n&127)===0&&(n&e.expiredLanes)===0||va(e,n),c=r?vS(e,n):Ku(e,n,!0),f=r;do{if(c===0){Us&&!r&&li(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!_S(s)){c=Ku(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){n=d;e:{var _=e;c=Ja;var v=_.current.memoizedState.isDehydrated;if(v&&(Hs(_,d).flags|=256),d=Ku(_,d,!1),d!==2){if(qu&&!v){_.errorRecoveryDisabledLanes|=f,Ki|=f,c=4;break e}f=Tt,Tt=c,f!==null&&(Tt===null?Tt=f:Tt.push.apply(Tt,f))}c=d}if(f=!1,c!==2)continue}}if(c===1){Hs(e,0),li(e,n,0,!0);break}e:{switch(r=e,f=c,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:li(r,n,kt,!ni);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(c=Hr+300-At(),10<c)){if(li(r,n,kt,!ni),Zl(r,0,!0)!==0)break e;Mn=n,r.timeoutHandle=Ug(lg.bind(null,r,s,Tt,qr,Gu,n,kt,Ki,zs,ni,f,"Throttled",-0,0),c);break e}lg(r,s,Tt,qr,Gu,n,kt,Ki,zs,ni,f,null,-0,0)}}break}while(!0);un(e)}function lg(e,n,s,r,c,f,d,_,v,N,D,k,x,R){if(e.timeoutHandle=-1,k=n.subtreeFlags,k&8192||(k&16785408)===16785408){k={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},Jp(n,f,k);var q=(f&62914560)===f?Hr-At():(f&4194048)===f?ng-At():0;if(q=t1(k,q),q!==null){Mn=f,e.cancelPendingCommit=q(mg.bind(null,e,n,f,s,r,c,d,_,v,D,k,null,x,R)),li(e,f,d,!N);return}}mg(e,n,f,s,r,c,d,_,v)}function _S(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var c=s[r],f=c.getSnapshot;c=c.value;try{if(!Rt(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function li(e,n,s,r){n&=~Vu,n&=~Ki,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var c=n;0<c;){var f=31-xt(c),d=1<<f;r[f]=-1,c&=~d}s!==0&&gd(e,s,n)}function Vr(){return(ve&6)===0?(el(0),!1):!0}function Fu(){if(re!==null){if(Se===0)var e=re.return;else e=re,Sn=Hi=null,cu(e),Rs=null,Ua=0,e=re;for(;e!==null;)zp(e.alternate,e),e=e.return;re=null}}function Hs(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,zS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Mn=0,Fu(),Me=e,re=s=vn(e.current,null),ue=n,Se=0,It=null,ni=!1,Us=va(e,n),qu=!1,zs=kt=Vu=Ki=ii=He=0,Tt=Ja=null,Gu=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var c=31-xt(r),f=1<<c;n|=e[c],r&=~f}return Dn=n,cr(),s}function rg(e,n){te=null,M.H=Pa,n===xs||n===_r?(n=Tm(),Se=3):n===Zc?(n=Tm(),Se=4):Se=n===wu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,It=n,re===null&&(He=1,Dr(e,qt(n,e.current)))}function og(){var e=Dt.current;return e===null?!0:(ue&4194048)===ue?Yt===null:(ue&62914560)===ue||(ue&536870912)!==0?e===Yt:!1}function cg(){var e=M.H;return M.H=Pa,e===null?Pa:e}function ug(){var e=M.A;return M.A=pS,e}function Gr(){He=4,ni||(ue&4194048)!==ue&&Dt.current!==null||(Us=!0),(ii&134217727)===0&&(Ki&134217727)===0||Me===null||li(Me,ue,kt,!1)}function Ku(e,n,s){var r=ve;ve|=2;var c=cg(),f=ug();(Me!==e||ue!==n)&&(qr=null,Hs(e,n)),n=!1;var d=He;e:do try{if(Se!==0&&re!==null){var _=re,v=It;switch(Se){case 8:Fu(),d=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(n=!0);var N=Se;if(Se=0,It=null,Bs(e,_,v,N),s&&Us){d=0;break e}break;default:N=Se,Se=0,It=null,Bs(e,_,v,N)}}yS(),d=He;break}catch(D){rg(e,D)}while(!0);return n&&e.shellSuspendCounter++,Sn=Hi=null,ve=r,M.H=c,M.A=f,re===null&&(Me=null,ue=0,cr()),d}function yS(){for(;re!==null;)fg(re)}function vS(e,n){var s=ve;ve|=2;var r=cg(),c=ug();Me!==e||ue!==n?(qr=null,Br=At()+500,Hs(e,n)):Us=va(e,n);e:do try{if(Se!==0&&re!==null){n=re;var f=It;t:switch(Se){case 1:Se=0,It=null,Bs(e,n,f,1);break;case 2:case 9:if(Sm(f)){Se=0,It=null,hg(n);break}n=function(){Se!==2&&Se!==9||Me!==e||(Se=7),un(e)},f.then(n,n);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:Sm(f)?(Se=0,It=null,hg(n)):(Se=0,It=null,Bs(e,n,f,7));break;case 5:var d=null;switch(re.tag){case 26:d=re.memoizedState;case 5:case 27:var _=re;if(d?Zg(d):_.stateNode.complete){Se=0,It=null;var v=_.sibling;if(v!==null)re=v;else{var N=_.return;N!==null?(re=N,Pr(N)):re=null}break t}}Se=0,It=null,Bs(e,n,f,5);break;case 6:Se=0,It=null,Bs(e,n,f,6);break;case 8:Fu(),He=6;break e;default:throw Error(l(462))}}bS();break}catch(D){rg(e,D)}while(!0);return Sn=Hi=null,M.H=r,M.A=c,ve=s,re!==null?0:(Me=null,ue=0,cr(),He)}function bS(){for(;re!==null&&!G0();)fg(re)}function fg(e){var n=Lp(e.alternate,e,Dn);e.memoizedProps=e.pendingProps,n===null?Pr(e):re=n}function hg(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Rp(s,n,n.pendingProps,n.type,void 0,ue);break;case 11:n=Rp(s,n,n.pendingProps,n.type.render,n.ref,ue);break;case 5:cu(n);default:zp(s,n),n=re=um(n,Dn),n=Lp(s,n,Dn)}e.memoizedProps=e.pendingProps,n===null?Pr(e):re=n}function Bs(e,n,s,r){Sn=Hi=null,cu(n),Rs=null,Ua=0;var c=n.return;try{if(oS(e,c,n,s,ue)){He=1,Dr(e,qt(s,e.current)),re=null;return}}catch(f){if(c!==null)throw re=c,f;He=1,Dr(e,qt(s,e.current)),re=null;return}n.flags&32768?(he||r===1?e=!0:Us||(ue&536870912)!==0?e=!1:(ni=e=!0,(r===2||r===9||r===3||r===6)&&(r=Dt.current,r!==null&&r.tag===13&&(r.flags|=16384))),dg(n,e)):Pr(n)}function Pr(e){var n=e;do{if((n.flags&32768)!==0){dg(n,ni);return}e=n.return;var s=fS(n.alternate,n,Dn);if(s!==null){re=s;return}if(n=n.sibling,n!==null){re=n;return}re=n=e}while(n!==null);He===0&&(He=5)}function dg(e,n){do{var s=hS(e.alternate,e);if(s!==null){s.flags&=32767,re=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){re=e;return}re=e=s}while(e!==null);He=6,re=null}function mg(e,n,s,r,c,f,d,_,v){e.cancelPendingCommit=null;do Yr();while(Xe!==0);if((ve&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=Uc,$0(e,s,f,d,_,v),e===Me&&(re=Me=null,ue=0),js=n,ai=e,Mn=s,Pu=f,Yu=c,ig=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,CS(Fl,function(){return vg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=M.T,M.T=null,c=j.p,j.p=2,d=ve,ve|=4;try{dS(e,n,s)}finally{ve=d,j.p=c,M.T=r}}Xe=1,pg(),gg(),_g()}}function pg(){if(Xe===1){Xe=0;var e=ai,n=js,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=M.T,M.T=null;var r=j.p;j.p=2;var c=ve;ve|=4;try{Xp(n,e);var f=rf,d=tm(e.containerInfo),_=f.focusedElem,v=f.selectionRange;if(d!==_&&_&&_.ownerDocument&&em(_.ownerDocument.documentElement,_)){if(v!==null&&Dc(_)){var N=v.start,D=v.end;if(D===void 0&&(D=N),"selectionStart"in _)_.selectionStart=N,_.selectionEnd=Math.min(D,_.value.length);else{var k=_.ownerDocument||document,x=k&&k.defaultView||window;if(x.getSelection){var R=x.getSelection(),q=_.textContent.length,K=Math.min(v.start,q),Ae=v.end===void 0?K:Math.min(v.end,q);!R.extend&&K>Ae&&(d=Ae,Ae=K,K=d);var w=$d(_,K),E=$d(_,Ae);if(w&&E&&(R.rangeCount!==1||R.anchorNode!==w.node||R.anchorOffset!==w.offset||R.focusNode!==E.node||R.focusOffset!==E.offset)){var A=k.createRange();A.setStart(w.node,w.offset),R.removeAllRanges(),K>Ae?(R.addRange(A),R.extend(E.node,E.offset)):(A.setEnd(E.node,E.offset),R.addRange(A))}}}}for(k=[],R=_;R=R.parentNode;)R.nodeType===1&&k.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<k.length;_++){var I=k[_];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}io=!!lf,rf=lf=null}finally{ve=c,j.p=r,M.T=s}}e.current=n,Xe=2}}function gg(){if(Xe===2){Xe=0;var e=ai,n=js,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=M.T,M.T=null;var r=j.p;j.p=2;var c=ve;ve|=4;try{Pp(e,n.alternate,n)}finally{ve=c,j.p=r,M.T=s}}Xe=3}}function _g(){if(Xe===4||Xe===3){Xe=0,P0();var e=ai,n=js,s=Mn,r=ig;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xe=5:(Xe=0,js=ai=null,yg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(si=null),hc(s),n=n.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(ya,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=M.T,c=j.p,j.p=2,M.T=null;try{for(var f=e.onRecoverableError,d=0;d<r.length;d++){var _=r[d];f(_.value,{componentStack:_.stack})}}finally{M.T=n,j.p=c}}(Mn&3)!==0&&Yr(),un(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===Qu?$a++:($a=0,Qu=e):$a=0,el(0)}}function yg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ka(n)))}function Yr(){return pg(),gg(),_g(),vg()}function vg(){if(Xe!==5)return!1;var e=ai,n=Pu;Pu=0;var s=hc(Mn),r=M.T,c=j.p;try{j.p=32>s?32:s,M.T=null,s=Yu,Yu=null;var f=ai,d=Mn;if(Xe=0,js=ai=null,Mn=0,(ve&6)!==0)throw Error(l(331));var _=ve;if(ve|=4,eg(f.current),Zp(f,f.current,d,s),ve=_,el(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(ya,f)}catch{}return!0}finally{j.p=c,M.T=r,yg(e,n)}}function bg(e,n,s){n=qt(s,n),n=Cu(e.stateNode,n,2),e=Jn(e,n,2),e!==null&&(ba(e,2),un(e))}function Ee(e,n,s){if(e.tag===3)bg(e,e,s);else for(;n!==null;){if(n.tag===3){bg(n,e,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(si===null||!si.has(r))){e=qt(s,e),s=Sp(2),r=Jn(n,s,2),r!==null&&(Ep(s,r,n,e),ba(r,2),un(r));break}}n=n.return}}function Xu(e,n,s){var r=e.pingCache;if(r===null){r=e.pingCache=new gS;var c=new Set;r.set(n,c)}else c=r.get(n),c===void 0&&(c=new Set,r.set(n,c));c.has(s)||(qu=!0,c.add(s),e=SS.bind(null,e,n,s),n.then(e,e))}function SS(e,n,s){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Me===e&&(ue&s)===s&&(He===4||He===3&&(ue&62914560)===ue&&300>At()-Hr?(ve&2)===0&&Hs(e,0):Vu|=s,zs===ue&&(zs=0)),un(e)}function Sg(e,n){n===0&&(n=pd()),e=Ui(e,n),e!==null&&(ba(e,n),un(e))}function ES(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Sg(e,s)}function TS(e,n){var s=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(n),Sg(e,s)}function CS(e,n){return oc(e,n)}var Qr=null,qs=null,Wu=!1,Fr=!1,Zu=!1,ri=0;function un(e){e!==qs&&e.next===null&&(qs===null?Qr=qs=e:qs=qs.next=e),Fr=!0,Wu||(Wu=!0,AS())}function el(e,n){if(!Zu&&Fr){Zu=!0;do for(var s=!1,r=Qr;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var f=0;else{var d=r.suspendedLanes,_=r.pingedLanes;f=(1<<31-xt(42|e)+1)-1,f&=c&~(d&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,wg(r,f))}else f=ue,f=Zl(r,r===Me?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||va(r,f)||(s=!0,wg(r,f));r=r.next}while(s);Zu=!1}}function wS(){Eg()}function Eg(){Fr=Wu=!1;var e=0;ri!==0&&US()&&(e=ri);for(var n=At(),s=null,r=Qr;r!==null;){var c=r.next,f=Tg(r,n);f===0?(r.next=null,s===null?Qr=c:s.next=c,c===null&&(qs=s)):(s=r,(e!==0||(f&3)!==0)&&(Fr=!0)),r=c}Xe!==0&&Xe!==5||el(e),ri!==0&&(ri=0)}function Tg(e,n){for(var s=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var d=31-xt(f),_=1<<d,v=c[d];v===-1?((_&s)===0||(_&r)!==0)&&(c[d]=J0(_,n)):v<=n&&(e.expiredLanes|=_),f&=~_}if(n=Me,s=ue,s=Zl(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,s===0||e===n&&(Se===2||Se===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&cc(r),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||va(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(r!==null&&cc(r),hc(s)){case 2:case 8:s=dd;break;case 32:s=Fl;break;case 268435456:s=md;break;default:s=Fl}return r=Cg.bind(null,e),s=oc(s,r),e.callbackPriority=n,e.callbackNode=s,n}return r!==null&&r!==null&&cc(r),e.callbackPriority=2,e.callbackNode=null,2}function Cg(e,n){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Yr()&&e.callbackNode!==s)return null;var r=ue;return r=Zl(e,e===Me?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(ag(e,r,n),Tg(e,At()),e.callbackNode!=null&&e.callbackNode===s?Cg.bind(null,e):null)}function wg(e,n){if(Yr())return null;ag(e,n,!0)}function AS(){jS(function(){(ve&6)!==0?oc(hd,wS):Eg()})}function Ju(){if(ri===0){var e=As;e===0&&(e=Kl,Kl<<=1,(Kl&261888)===0&&(Kl=256)),ri=e}return ri}function Ag(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tr(""+e)}function Ng(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function NS(e,n,s,r,c){if(n==="submit"&&s&&s.stateNode===c){var f=Ag((c[yt]||null).action),d=r.submitter;d&&(n=(n=d[yt]||null)?Ag(n.formAction):d.getAttribute("formAction"),n!==null&&(f=n,d=null));var _=new ar("action","action",null,r,c);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ri!==0){var v=d?Ng(c,d):new FormData(c);yu(s,{pending:!0,data:v,method:c.method,action:f},null,v)}}else typeof f=="function"&&(_.preventDefault(),v=d?Ng(c,d):new FormData(c),yu(s,{pending:!0,data:v,method:c.method,action:f},f,v))},currentTarget:c}]})}}for(var $u=0;$u<Lc.length;$u++){var ef=Lc[$u],xS=ef.toLowerCase(),RS=ef[0].toUpperCase()+ef.slice(1);Zt(xS,"on"+RS)}Zt(sm,"onAnimationEnd"),Zt(am,"onAnimationIteration"),Zt(lm,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(Yb,"onTransitionRun"),Zt(Qb,"onTransitionStart"),Zt(Fb,"onTransitionCancel"),Zt(rm,"onTransitionEnd"),hs("onMouseEnter",["mouseout","mouseover"]),hs("onMouseLeave",["mouseout","mouseover"]),hs("onPointerEnter",["pointerout","pointerover"]),hs("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function xg(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],c=r.event;r=r.listeners;e:{var f=void 0;if(n)for(var d=r.length-1;0<=d;d--){var _=r[d],v=_.instance,N=_.currentTarget;if(_=_.listener,v!==f&&c.isPropagationStopped())break e;f=_,c.currentTarget=N;try{f(c)}catch(D){or(D)}c.currentTarget=null,f=v}else for(d=0;d<r.length;d++){if(_=r[d],v=_.instance,N=_.currentTarget,_=_.listener,v!==f&&c.isPropagationStopped())break e;f=_,c.currentTarget=N;try{f(c)}catch(D){or(D)}c.currentTarget=null,f=v}}}}function oe(e,n){var s=n[dc];s===void 0&&(s=n[dc]=new Set);var r=e+"__bubble";s.has(r)||(Rg(n,e,2,!1),s.add(r))}function tf(e,n,s){var r=0;n&&(r|=4),Rg(s,e,r,n)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function nf(e){if(!e[Kr]){e[Kr]=!0,Ed.forEach(function(s){s!=="selectionchange"&&(OS.has(s)||tf(s,!1,e),tf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Kr]||(n[Kr]=!0,tf("selectionchange",!1,n))}}function Rg(e,n,s,r){switch(s_(n)){case 2:var c=s1;break;case 8:c=a1;break;default:c=yf}s=c.bind(null,n,s,e),c=void 0,!Ec||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function sf(e,n,s,r,c){var f=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var _=r.stateNode.containerInfo;if(_===c)break;if(d===4)for(d=r.return;d!==null;){var v=d.tag;if((v===3||v===4)&&d.stateNode.containerInfo===c)return;d=d.return}for(;_!==null;){if(d=cs(_),d===null)return;if(v=d.tag,v===5||v===6||v===26||v===27){r=f=d;continue e}_=_.parentNode}}r=r.return}kd(function(){var N=f,D=bc(s),k=[];e:{var x=om.get(e);if(x!==void 0){var R=ar,q=e;switch(e){case"keypress":if(ir(s)===0)break e;case"keydown":case"keyup":R=Tb;break;case"focusin":q="focus",R=Ac;break;case"focusout":q="blur",R=Ac;break;case"beforeblur":case"afterblur":R=Ac;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=fb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Ab;break;case sm:case am:case lm:R=mb;break;case rm:R=xb;break;case"scroll":case"scrollend":R=cb;break;case"wheel":R=Ob;break;case"copy":case"cut":case"paste":R=gb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Hd;break;case"toggle":case"beforetoggle":R=Mb}var K=(n&4)!==0,Ae=!K&&(e==="scroll"||e==="scrollend"),w=K?x!==null?x+"Capture":null:x;K=[];for(var E=N,A;E!==null;){var I=E;if(A=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||A===null||w===null||(I=Ta(E,w),I!=null&&K.push(nl(E,I,A))),Ae)break;E=E.return}0<K.length&&(x=new R(x,q,null,s,D),k.push({event:x,listeners:K}))}}if((n&7)===0){e:{if(x=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",x&&s!==vc&&(q=s.relatedTarget||s.fromElement)&&(cs(q)||q[os]))break e;if((R||x)&&(x=D.window===D?D:(x=D.ownerDocument)?x.defaultView||x.parentWindow:window,R?(q=s.relatedTarget||s.toElement,R=N,q=q?cs(q):null,q!==null&&(Ae=u(q),K=q.tag,q!==Ae||K!==5&&K!==27&&K!==6)&&(q=null)):(R=null,q=N),R!==q)){if(K=zd,I="onMouseLeave",w="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(K=Hd,I="onPointerLeave",w="onPointerEnter",E="pointer"),Ae=R==null?x:Ea(R),A=q==null?x:Ea(q),x=new K(I,E+"leave",R,s,D),x.target=Ae,x.relatedTarget=A,I=null,cs(D)===N&&(K=new K(w,E+"enter",q,s,D),K.target=A,K.relatedTarget=Ae,I=K),Ae=I,R&&q)t:{for(K=DS,w=R,E=q,A=0,I=w;I;I=K(I))A++;I=0;for(var Y=E;Y;Y=K(Y))I++;for(;0<A-I;)w=K(w),A--;for(;0<I-A;)E=K(E),I--;for(;A--;){if(w===E||E!==null&&w===E.alternate){K=w;break t}w=K(w),E=K(E)}K=null}else K=null;R!==null&&Og(k,x,R,K,!1),q!==null&&Ae!==null&&Og(k,Ae,q,K,!0)}}e:{if(x=N?Ea(N):window,R=x.nodeName&&x.nodeName.toLowerCase(),R==="select"||R==="input"&&x.type==="file")var ge=Fd;else if(Yd(x))if(Kd)ge=Vb;else{ge=Bb;var G=Hb}else R=x.nodeName,!R||R.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?N&&yc(N.elementType)&&(ge=Fd):ge=qb;if(ge&&(ge=ge(e,N))){Qd(k,ge,s,D);break e}G&&G(e,x,N),e==="focusout"&&N&&x.type==="number"&&N.memoizedProps.value!=null&&_c(x,"number",x.value)}switch(G=N?Ea(N):window,e){case"focusin":(Yd(G)||G.contentEditable==="true")&&(ys=G,Mc=N,Da=null);break;case"focusout":Da=Mc=ys=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,nm(k,s,D);break;case"selectionchange":if(Pb)break;case"keydown":case"keyup":nm(k,s,D)}var ne;if(xc)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else _s?Gd(e,s)&&(fe="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(fe="onCompositionStart");fe&&(Bd&&s.locale!=="ko"&&(_s||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&_s&&(ne=Ld()):(Yn=D,Tc="value"in Yn?Yn.value:Yn.textContent,_s=!0)),G=Xr(N,fe),0<G.length&&(fe=new jd(fe,e,null,s,D),k.push({event:fe,listeners:G}),ne?fe.data=ne:(ne=Pd(s),ne!==null&&(fe.data=ne)))),(ne=kb?Lb(e,s):Ub(e,s))&&(fe=Xr(N,"onBeforeInput"),0<fe.length&&(G=new jd("onBeforeInput","beforeinput",null,s,D),k.push({event:G,listeners:fe}),G.data=ne)),NS(k,e,N,s,D)}xg(k,n)})}function nl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Xr(e,n){for(var s=n+"Capture",r=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ta(e,s),c!=null&&r.unshift(nl(e,c,f)),c=Ta(e,n),c!=null&&r.push(nl(e,c,f))),e.tag===3)return r;e=e.return}return[]}function DS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Og(e,n,s,r,c){for(var f=n._reactName,d=[];s!==null&&s!==r;){var _=s,v=_.alternate,N=_.stateNode;if(_=_.tag,v!==null&&v===r)break;_!==5&&_!==26&&_!==27||N===null||(v=N,c?(N=Ta(s,f),N!=null&&d.unshift(nl(s,N,v))):c||(N=Ta(s,f),N!=null&&d.push(nl(s,N,v)))),s=s.return}d.length!==0&&e.push({event:n,listeners:d})}var MS=/\r\n?/g,IS=/\u0000|\uFFFD/g;function Dg(e){return(typeof e=="string"?e:""+e).replace(MS,`
`).replace(IS,"")}function Mg(e,n){return n=Dg(n),Dg(e)===n}function we(e,n,s,r,c,f){switch(s){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||ms(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&ms(e,""+r);break;case"className":$l(e,"class",r);break;case"tabIndex":$l(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":$l(e,s,r);break;case"style":Md(e,r,f);break;case"data":if(n!=="object"){$l(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=tr(""+r),e.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&we(e,n,"name",c.name,c,null),we(e,n,"formEncType",c.formEncType,c,null),we(e,n,"formMethod",c.formMethod,c,null),we(e,n,"formTarget",c.formTarget,c,null)):(we(e,n,"encType",c.encType,c,null),we(e,n,"method",c.method,c,null),we(e,n,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=tr(""+r),e.setAttribute(s,r);break;case"onClick":r!=null&&(e.onclick=_n);break;case"onScroll":r!=null&&oe("scroll",e);break;case"onScrollEnd":r!=null&&oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}s=tr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""+r):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":r===!0?e.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,r):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(s,r):e.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(s):e.setAttribute(s,r);break;case"popover":oe("beforetoggle",e),oe("toggle",e),Jl(e,"popover",r);break;case"xlinkActuate":gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":gn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":gn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":gn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":gn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Jl(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=rb.get(s)||s,Jl(e,s,r))}}function af(e,n,s,r,c,f){switch(s){case"style":Md(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"children":typeof r=="string"?ms(e,r):(typeof r=="number"||typeof r=="bigint")&&ms(e,""+r);break;case"onScroll":r!=null&&oe("scroll",e);break;case"onScrollEnd":r!=null&&oe("scrollend",e);break;case"onClick":r!=null&&(e.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Td.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[yt]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof r=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,r,c);break e}s in e?e[s]=r:r===!0?e.setAttribute(s,""):Jl(e,s,r)}}}function ot(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",e),oe("load",e);var r=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var d=s[f];if(d!=null)switch(f){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:we(e,n,f,d,s,null)}}c&&we(e,n,"srcSet",s.srcSet,s,null),r&&we(e,n,"src",s.src,s,null);return;case"input":oe("invalid",e);var _=f=d=c=null,v=null,N=null;for(r in s)if(s.hasOwnProperty(r)){var D=s[r];if(D!=null)switch(r){case"name":c=D;break;case"type":d=D;break;case"checked":v=D;break;case"defaultChecked":N=D;break;case"value":f=D;break;case"defaultValue":_=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,n));break;default:we(e,n,r,D,s,null)}}xd(e,f,_,v,N,d,c,!1);return;case"select":oe("invalid",e),r=d=f=null;for(c in s)if(s.hasOwnProperty(c)&&(_=s[c],_!=null))switch(c){case"value":f=_;break;case"defaultValue":d=_;break;case"multiple":r=_;default:we(e,n,c,_,s,null)}n=f,s=d,e.multiple=!!r,n!=null?ds(e,!!r,n,!1):s!=null&&ds(e,!!r,s,!0);return;case"textarea":oe("invalid",e),f=c=r=null;for(d in s)if(s.hasOwnProperty(d)&&(_=s[d],_!=null))switch(d){case"value":r=_;break;case"defaultValue":c=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:we(e,n,d,_,s,null)}Od(e,r,c,f);return;case"option":for(v in s)if(s.hasOwnProperty(v)&&(r=s[v],r!=null))switch(v){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:we(e,n,v,r,s,null)}return;case"dialog":oe("beforetoggle",e),oe("toggle",e),oe("cancel",e),oe("close",e);break;case"iframe":case"object":oe("load",e);break;case"video":case"audio":for(r=0;r<tl.length;r++)oe(tl[r],e);break;case"image":oe("error",e),oe("load",e);break;case"details":oe("toggle",e);break;case"embed":case"source":case"link":oe("error",e),oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in s)if(s.hasOwnProperty(N)&&(r=s[N],r!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:we(e,n,N,r,s,null)}return;default:if(yc(n)){for(D in s)s.hasOwnProperty(D)&&(r=s[D],r!==void 0&&af(e,n,D,r,s,void 0));return}}for(_ in s)s.hasOwnProperty(_)&&(r=s[_],r!=null&&we(e,n,_,r,s,null))}function kS(e,n,s,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,d=null,_=null,v=null,N=null,D=null;for(R in s){var k=s[R];if(s.hasOwnProperty(R)&&k!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":v=k;default:r.hasOwnProperty(R)||we(e,n,R,null,r,k)}}for(var x in r){var R=r[x];if(k=s[x],r.hasOwnProperty(x)&&(R!=null||k!=null))switch(x){case"type":f=R;break;case"name":c=R;break;case"checked":N=R;break;case"defaultChecked":D=R;break;case"value":d=R;break;case"defaultValue":_=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,n));break;default:R!==k&&we(e,n,x,R,r,k)}}gc(e,d,_,v,N,D,f,c);return;case"select":R=d=_=x=null;for(f in s)if(v=s[f],s.hasOwnProperty(f)&&v!=null)switch(f){case"value":break;case"multiple":R=v;default:r.hasOwnProperty(f)||we(e,n,f,null,r,v)}for(c in r)if(f=r[c],v=s[c],r.hasOwnProperty(c)&&(f!=null||v!=null))switch(c){case"value":x=f;break;case"defaultValue":_=f;break;case"multiple":d=f;default:f!==v&&we(e,n,c,f,r,v)}n=_,s=d,r=R,x!=null?ds(e,!!s,x,!1):!!r!=!!s&&(n!=null?ds(e,!!s,n,!0):ds(e,!!s,s?[]:"",!1));return;case"textarea":R=x=null;for(_ in s)if(c=s[_],s.hasOwnProperty(_)&&c!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:we(e,n,_,null,r,c)}for(d in r)if(c=r[d],f=s[d],r.hasOwnProperty(d)&&(c!=null||f!=null))switch(d){case"value":x=c;break;case"defaultValue":R=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==f&&we(e,n,d,c,r,f)}Rd(e,x,R);return;case"option":for(var q in s)if(x=s[q],s.hasOwnProperty(q)&&x!=null&&!r.hasOwnProperty(q))switch(q){case"selected":e.selected=!1;break;default:we(e,n,q,null,r,x)}for(v in r)if(x=r[v],R=s[v],r.hasOwnProperty(v)&&x!==R&&(x!=null||R!=null))switch(v){case"selected":e.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:we(e,n,v,x,r,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var K in s)x=s[K],s.hasOwnProperty(K)&&x!=null&&!r.hasOwnProperty(K)&&we(e,n,K,null,r,x);for(N in r)if(x=r[N],R=s[N],r.hasOwnProperty(N)&&x!==R&&(x!=null||R!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(137,n));break;default:we(e,n,N,x,r,R)}return;default:if(yc(n)){for(var Ae in s)x=s[Ae],s.hasOwnProperty(Ae)&&x!==void 0&&!r.hasOwnProperty(Ae)&&af(e,n,Ae,void 0,r,x);for(D in r)x=r[D],R=s[D],!r.hasOwnProperty(D)||x===R||x===void 0&&R===void 0||af(e,n,D,x,r,R);return}}for(var w in s)x=s[w],s.hasOwnProperty(w)&&x!=null&&!r.hasOwnProperty(w)&&we(e,n,w,null,r,x);for(k in r)x=r[k],R=s[k],!r.hasOwnProperty(k)||x===R||x==null&&R==null||we(e,n,k,x,r,R)}function Ig(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var c=s[r],f=c.transferSize,d=c.initiatorType,_=c.duration;if(f&&_&&Ig(d)){for(d=0,_=c.responseEnd,r+=1;r<s.length;r++){var v=s[r],N=v.startTime;if(N>_)break;var D=v.transferSize,k=v.initiatorType;D&&Ig(k)&&(v=v.responseEnd,d+=D*(v<_?1:(_-N)/(v-N)))}if(--r,n+=8*(f+d)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lf=null,rf=null;function Wr(e){return e.nodeType===9?e:e.ownerDocument}function kg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function of(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cf=null;function US(){var e=window.event;return e&&e.type==="popstate"?e===cf?!1:(cf=e,!0):(cf=null,!1)}var Ug=typeof setTimeout=="function"?setTimeout:void 0,zS=typeof clearTimeout=="function"?clearTimeout:void 0,zg=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof zg<"u"?function(e){return zg.resolve(null).then(e).catch(HS)}:Ug;function HS(e){setTimeout(function(){throw e})}function oi(e){return e==="head"}function jg(e,n){var s=n,r=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(r===0){e.removeChild(c),Ys(n);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")il(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,il(s);for(var f=s.firstChild;f;){var d=f.nextSibling,_=f.nodeName;f[Sa]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=d}}else s==="body"&&il(e.ownerDocument.body);s=c}while(s);Ys(n)}function Hg(e,n){var s=e;e=0;do{var r=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=r}while(s)}function uf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":uf(s),mc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function BS(e,n,s,r){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Sa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Qt(e.nextSibling),e===null)break}return null}function qS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Qt(e.nextSibling),e===null))return null;return e}function Bg(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qt(e.nextSibling),e===null))return null;return e}function ff(e){return e.data==="$?"||e.data==="$~"}function hf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function VS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var r=function(){n(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Qt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var df=null;function qg(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Qt(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Vg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Gg(e,n,s){switch(n=Wr(s),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);mc(e)}var Ft=new Map,Pg=new Set;function Zr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var In=j.d;j.d={f:GS,r:PS,D:YS,C:QS,L:FS,m:KS,X:WS,S:XS,M:ZS};function GS(){var e=In.f(),n=Vr();return e||n}function PS(e){var n=us(e);n!==null&&n.tag===5&&n.type==="form"?rp(n):In.r(e)}var Vs=typeof document>"u"?null:document;function Yg(e,n,s){var r=Vs;if(r&&typeof n=="string"&&n){var c=Ht(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Pg.has(c)||(Pg.add(c),e={rel:e,crossOrigin:s,href:n},r.querySelector(c)===null&&(n=r.createElement("link"),ot(n,"link",e),$e(n),r.head.appendChild(n)))}}function YS(e){In.D(e),Yg("dns-prefetch",e,null)}function QS(e,n){In.C(e,n),Yg("preconnect",e,n)}function FS(e,n,s){In.L(e,n,s);var r=Vs;if(r&&e&&n){var c='link[rel="preload"][as="'+Ht(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Ht(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Ht(s.imageSizes)+'"]')):c+='[href="'+Ht(e)+'"]';var f=c;switch(n){case"style":f=Gs(e);break;case"script":f=Ps(e)}Ft.has(f)||(e=y({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Ft.set(f,e),r.querySelector(c)!==null||n==="style"&&r.querySelector(sl(f))||n==="script"&&r.querySelector(al(f))||(n=r.createElement("link"),ot(n,"link",e),$e(n),r.head.appendChild(n)))}}function KS(e,n){In.m(e,n);var s=Vs;if(s&&e){var r=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ht(r)+'"][href="'+Ht(e)+'"]',f=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ps(e)}if(!Ft.has(f)&&(e=y({rel:"modulepreload",href:e},n),Ft.set(f,e),s.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(al(f)))return}r=s.createElement("link"),ot(r,"link",e),$e(r),s.head.appendChild(r)}}}function XS(e,n,s){In.S(e,n,s);var r=Vs;if(r&&e){var c=fs(r).hoistableStyles,f=Gs(e);n=n||"default";var d=c.get(f);if(!d){var _={loading:0,preload:null};if(d=r.querySelector(sl(f)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Ft.get(f))&&mf(e,s);var v=d=r.createElement("link");$e(v),ot(v,"link",e),v._p=new Promise(function(N,D){v.onload=N,v.onerror=D}),v.addEventListener("load",function(){_.loading|=1}),v.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Jr(d,n,r)}d={type:"stylesheet",instance:d,count:1,state:_},c.set(f,d)}}}function WS(e,n){In.X(e,n);var s=Vs;if(s&&e){var r=fs(s).hoistableScripts,c=Ps(e),f=r.get(c);f||(f=s.querySelector(al(c)),f||(e=y({src:e,async:!0},n),(n=Ft.get(c))&&pf(e,n),f=s.createElement("script"),$e(f),ot(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function ZS(e,n){In.M(e,n);var s=Vs;if(s&&e){var r=fs(s).hoistableScripts,c=Ps(e),f=r.get(c);f||(f=s.querySelector(al(c)),f||(e=y({src:e,async:!0,type:"module"},n),(n=Ft.get(c))&&pf(e,n),f=s.createElement("script"),$e(f),ot(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function Qg(e,n,s,r){var c=(c=le.current)?Zr(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Gs(s.href),s=fs(c).hoistableStyles,r=s.get(n),r||(r={type:"style",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Gs(s.href);var f=fs(c).hoistableStyles,d=f.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,d),(f=c.querySelector(sl(e)))&&!f._p&&(d.instance=f,d.state.loading=5),Ft.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ft.set(e,s),f||JS(c,e,s,d.state))),n&&r===null)throw Error(l(528,""));return d}if(n&&r!==null)throw Error(l(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ps(s),s=fs(c).hoistableScripts,r=s.get(n),r||(r={type:"script",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Gs(e){return'href="'+Ht(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function Fg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function JS(e,n,s,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),ot(n,"link",s),$e(n),e.head.appendChild(n))}function Ps(e){return'[src="'+Ht(e)+'"]'}function al(e){return"script[async]"+e}function Kg(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+Ht(s.href)+'"]');if(r)return n.instance=r,$e(r),r;var c=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),$e(r),ot(r,"style",c),Jr(r,s.precedence,e),n.instance=r;case"stylesheet":c=Gs(s.href);var f=e.querySelector(sl(c));if(f)return n.state.loading|=4,n.instance=f,$e(f),f;r=Fg(s),(c=Ft.get(c))&&mf(r,c),f=(e.ownerDocument||e).createElement("link"),$e(f);var d=f;return d._p=new Promise(function(_,v){d.onload=_,d.onerror=v}),ot(f,"link",r),n.state.loading|=4,Jr(f,s.precedence,e),n.instance=f;case"script":return f=Ps(s.src),(c=e.querySelector(al(f)))?(n.instance=c,$e(c),c):(r=s,(c=Ft.get(f))&&(r=y({},s),pf(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),$e(c),ot(c,"link",r),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,Jr(r,s.precedence,e));return n.instance}function Jr(e,n,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,f=c,d=0;d<r.length;d++){var _=r[d];if(_.dataset.precedence===n)f=_;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function mf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function pf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var $r=null;function Xg(e,n,s){if($r===null){var r=new Map,c=$r=new Map;c.set(s,r)}else c=$r,r=c.get(s),r||(r=new Map,c.set(s,r));if(r.has(e))return r;for(r.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[Sa]||f[st]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var d=f.getAttribute(n)||"";d=e+d;var _=r.get(d);_?_.push(f):r.set(d,[f])}}return r}function Wg(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function $S(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Zg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function e1(e,n,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Gs(r.href),f=n.querySelector(sl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=eo.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,$e(f);return}f=n.ownerDocument||n,r=Fg(r),(c=Ft.get(c))&&mf(r,c),f=f.createElement("link"),$e(f);var d=f;d._p=new Promise(function(_,v){d.onload=_,d.onerror=v}),ot(f,"link",r),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=eo.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var gf=0;function t1(e,n){return e.stylesheets&&e.count===0&&no(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var r=setTimeout(function(){if(e.stylesheets&&no(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&gf===0&&(gf=62500*LS());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&no(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>gf?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function eo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)no(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var to=null;function no(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,to=new Map,n.forEach(n1,e),to=null,eo.call(e))}function n1(e,n){if(!(n.state.loading&4)){var s=to.get(e);if(s)var r=s.get(null);else{s=new Map,to.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var d=c[f];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(s.set(d.dataset.precedence,d),r=d)}r&&s.set(null,r)}c=n.instance,d=c.getAttribute("data-precedence"),f=s.get(d)||r,f===r&&s.set(null,c),s.set(d,c),this.count++,r=eo.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var ll={$$typeof:J,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function i1(e,n,s,r,c,f,d,_,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uc(0),this.hiddenUpdates=uc(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Jg(e,n,s,r,c,f,d,_,v,N,D,k){return e=new i1(e,n,s,d,v,N,D,k,_),n=1,f===!0&&(n|=24),f=Ot(3,null,null,n),e.current=f,f.stateNode=e,n=Kc(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:r,isDehydrated:s,cache:n},Jc(f),e}function $g(e){return e?(e=Ss,e):Ss}function e_(e,n,s,r,c,f){c=$g(c),r.context===null?r.context=c:r.pendingContext=c,r=Zn(n),r.payload={element:s},f=f===void 0?null:f,f!==null&&(r.callback=f),s=Jn(e,r,n),s!==null&&(Ct(s,e,n),ja(s,e,n))}function t_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function _f(e,n){t_(e,n),(e=e.alternate)&&t_(e,n)}function n_(e){if(e.tag===13||e.tag===31){var n=Ui(e,67108864);n!==null&&Ct(n,e,67108864),_f(e,67108864)}}function i_(e){if(e.tag===13||e.tag===31){var n=Lt();n=fc(n);var s=Ui(e,n);s!==null&&Ct(s,e,n),_f(e,n)}}var io=!0;function s1(e,n,s,r){var c=M.T;M.T=null;var f=j.p;try{j.p=2,yf(e,n,s,r)}finally{j.p=f,M.T=c}}function a1(e,n,s,r){var c=M.T;M.T=null;var f=j.p;try{j.p=8,yf(e,n,s,r)}finally{j.p=f,M.T=c}}function yf(e,n,s,r){if(io){var c=vf(r);if(c===null)sf(e,n,r,so,s),a_(e,r);else if(r1(c,e,n,s,r))r.stopPropagation();else if(a_(e,r),n&4&&-1<l1.indexOf(e)){for(;c!==null;){var f=us(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var d=Di(f.pendingLanes);if(d!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;d;){var v=1<<31-xt(d);_.entanglements[1]|=v,d&=~v}un(f),(ve&6)===0&&(Br=At()+500,el(0))}}break;case 31:case 13:_=Ui(f,2),_!==null&&Ct(_,f,2),Vr(),_f(f,2)}if(f=vf(r),f===null&&sf(e,n,r,so,s),f===c)break;c=f}c!==null&&r.stopPropagation()}else sf(e,n,r,null,s)}}function vf(e){return e=bc(e),bf(e)}var so=null;function bf(e){if(so=null,e=cs(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=h(n),e!==null)return e;e=null}else if(s===31){if(e=m(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return so=e,null}function s_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Y0()){case hd:return 2;case dd:return 8;case Fl:case Q0:return 32;case md:return 268435456;default:return 32}default:return 32}}var Sf=!1,ci=null,ui=null,fi=null,rl=new Map,ol=new Map,hi=[],l1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a_(e,n){switch(e){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(n.pointerId)}}function cl(e,n,s,r,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:f,targetContainers:[c]},n!==null&&(n=us(n),n!==null&&n_(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function r1(e,n,s,r,c){switch(n){case"focusin":return ci=cl(ci,e,n,s,r,c),!0;case"dragenter":return ui=cl(ui,e,n,s,r,c),!0;case"mouseover":return fi=cl(fi,e,n,s,r,c),!0;case"pointerover":var f=c.pointerId;return rl.set(f,cl(rl.get(f)||null,e,n,s,r,c)),!0;case"gotpointercapture":return f=c.pointerId,ol.set(f,cl(ol.get(f)||null,e,n,s,r,c)),!0}return!1}function l_(e){var n=cs(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){e.blockedOn=n,bd(e.priority,function(){i_(s)});return}}else if(n===31){if(n=m(s),n!==null){e.blockedOn=n,bd(e.priority,function(){i_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ao(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=vf(e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);vc=r,s.target.dispatchEvent(r),vc=null}else return n=us(s),n!==null&&n_(n),e.blockedOn=s,!1;n.shift()}return!0}function r_(e,n,s){ao(e)&&s.delete(n)}function o1(){Sf=!1,ci!==null&&ao(ci)&&(ci=null),ui!==null&&ao(ui)&&(ui=null),fi!==null&&ao(fi)&&(fi=null),rl.forEach(r_),ol.forEach(r_)}function lo(e,n){e.blockedOn===n&&(e.blockedOn=null,Sf||(Sf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,o1)))}var ro=null;function o_(e){ro!==e&&(ro=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ro===e&&(ro=null);for(var n=0;n<e.length;n+=3){var s=e[n],r=e[n+1],c=e[n+2];if(typeof r!="function"){if(bf(r||s)===null)continue;break}var f=us(s);f!==null&&(e.splice(n,3),n-=3,yu(f,{pending:!0,data:c,method:s.method,action:r},r,c))}}))}function Ys(e){function n(v){return lo(v,e)}ci!==null&&lo(ci,e),ui!==null&&lo(ui,e),fi!==null&&lo(fi,e),rl.forEach(n),ol.forEach(n);for(var s=0;s<hi.length;s++){var r=hi[s];r.blockedOn===e&&(r.blockedOn=null)}for(;0<hi.length&&(s=hi[0],s.blockedOn===null);)l_(s),s.blockedOn===null&&hi.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var c=s[r],f=s[r+1],d=c[yt]||null;if(typeof f=="function")d||o_(s);else if(d){var _=null;if(f&&f.hasAttribute("formAction")){if(c=f,d=f[yt]||null)_=d.formAction;else if(bf(c)!==null)continue}else _=d.action;typeof _=="function"?s[r+1]=_:(s.splice(r,3),r-=3),o_(s)}}}function c_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(d){return c=d})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Ef(e){this._internalRoot=e}oo.prototype.render=Ef.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var s=n.current,r=Lt();e_(s,r,e,n,null,null)},oo.prototype.unmount=Ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e_(e.current,2,null,e,null,null),Vr(),n[os]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var n=vd();e={blockedOn:null,target:e,priority:n};for(var s=0;s<hi.length&&n!==0&&n<hi[s].priority;s++);hi.splice(s,0,e),s===0&&l_(e)}};var u_=t.version;if(u_!=="19.2.4")throw Error(l(527,u_,"19.2.4"));j.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var c1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{ya=co.inject(c1),Nt=co}catch{}}return fl.createRoot=function(e,n){if(!o(e))throw Error(l(299));var s=!1,r="",c=_p,f=yp,d=vp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Jg(e,1,!1,null,null,s,r,null,c,f,d,c_),e[os]=n.current,nf(e),new Ef(n)},fl.hydrateRoot=function(e,n,s){if(!o(e))throw Error(l(299));var r=!1,c="",f=_p,d=yp,_=vp,v=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.formState!==void 0&&(v=s.formState)),n=Jg(e,1,!0,n,s??null,r,c,v,f,d,_,c_),n.context=$g(null),s=n.current,r=Lt(),r=fc(r),c=Zn(r),c.callback=null,Jn(s,c,r),s=r,n.current.lanes=s,ba(n,s),un(n),e[os]=n.current,nf(e),new oo(n)},fl.version="19.2.4",fl}var b_;function b1(){if(b_)return wf.exports;b_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),wf.exports=v1(),wf.exports}var S1=b1();const E1=Oy(S1),vi=({id:a,username:t,className:i=""})=>{const l=`https://robohash.org/${a}`;return T.jsx("div",{className:`shrink-0 overflow-hidden bg-slate-50 flex items-center justify-center rounded-full border-2 border-slate-100 ${i}`,children:T.jsx("img",{src:l,alt:t,className:"w-full h-full object-cover",loading:"lazy",onError:o=>{const u=o.target;u.style.display="none";const h=t.substring(0,1).toUpperCase();u.parentElement.innerHTML=`<span class="font-black text-slate-400 uppercase">${h}</span>`}})})},T1=a=>{const t=Math.floor((Date.now()-a)/1e3);if(t<60)return"Just now";const i=Math.floor(t/60);if(i<60)return`${i}m`;const l=Math.floor(i/60);if(l<24)return`${l}h`;const o=Math.floor(l/24);return o<7?`${o}d`:new Date(a).toLocaleDateString([],{month:"short",day:"numeric"})},C1=a=>btoa(unescape(encodeURIComponent(a))),w1=a=>{try{return decodeURIComponent(escape(atob(a)))}catch{return"[Encrypted Message]"}},A1=(a,t)=>{let i="";for(let l=0;l<a.length;l++){const o=a.charCodeAt(l)^t.charCodeAt(l%t.length);i+=String.fromCharCode(o)}return C1(i)},Dy=(a,t)=>{const i=w1(a);if(i==="[Encrypted Message]")return i;let l="";for(let o=0;o<i.length;o++){const u=i.charCodeAt(o)^t.charCodeAt(o%t.length);l+=String.fromCharCode(u)}return l},S_=({contacts:a,onChatClick:t,onPinChat:i,onRemoveChat:l,activeContactId:o,isMobile:u})=>{var L;const[h,m]=de.useState(null),g=de.useRef(null);de.useEffect(()=>{const O=()=>m(null);return window.addEventListener("click",O),()=>window.removeEventListener("click",O)},[]);const p=(O,B)=>{O.preventDefault(),m({x:O.clientX,y:O.clientY,contactId:B})},b=(O,B)=>{const ie=B.touches[0],me=ie.clientX,Re=ie.clientY;g.current=setTimeout(()=>{m({x:me,y:Re,contactId:O}),navigator.vibrate&&navigator.vibrate(50)},500)},y=()=>{g.current&&(clearTimeout(g.current),g.current=null)},S=O=>{if(!O.lastMessage)return O.id.substring(0,16)+"...";let B=O.lastMessage;return!B.startsWith("EMOJI:")&&!B.startsWith("STICKER:")?B=Dy(B,O.hashingKey):B.startsWith("EMOJI:")&&(B="Sent a sticker"),B};return T.jsxs("div",{className:`flex flex-col ${u?"p-3":"gap-2"}`,children:[!u&&T.jsxs("div",{className:"flex items-center justify-between px-3 mb-2",children:[T.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Recent Chats"}),T.jsx("span",{className:"bg-slate-200 text-slate-500 text-[9px] font-black px-2 py-0.5 rounded-none uppercase",children:a.length})]}),a.map(O=>T.jsx("div",{className:"relative",children:T.jsxs("button",{onClick:()=>t(O),onContextMenu:B=>p(B,O.id),onTouchStart:B=>b(O.id,B),onTouchEnd:y,onTouchMove:y,className:`group w-full flex items-center gap-4 p-4 rounded-full transition-all relative ${o===O.id&&!u?"bg-slate-900 text-white shadow-none":"bg-white hover:bg-slate-200 text-slate-600 border-none"} ${O.pinned?"border-2 border-slate-900/10":""}`,children:[T.jsxs("div",{className:"relative shrink-0",children:[T.jsx(vi,{id:O.id,username:O.username,avatar:O.avatar,className:u?"w-14 h-14":"w-11 h-11"}),O.pinned&&T.jsx("div",{className:"absolute -top-1 -right-1 bg-slate-900 text-white text-[8px] p-1 rounded-full border border-white",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-2 w-2",viewBox:"0 0 20 20",fill:"currentColor",children:T.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"})})})]}),T.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[T.jsxs("div",{className:"flex justify-between items-baseline mb-0.5",children:[T.jsx("p",{className:`text-base font-black truncate ${o===O.id&&!u?"text-white":"text-slate-900"}`,children:O.username}),O.lastTimestamp&&T.jsx("span",{className:`text-[10px] font-black uppercase tracking-tighter shrink-0 ml-2 ${o===O.id&&!u?"text-white/50":"text-slate-400"}`,children:T1(O.lastTimestamp)})]}),T.jsx("p",{className:`text-xs font-bold truncate opacity-80 ${o===O.id&&!u?"text-white/60":"text-slate-400"}`,children:S(O)})]})]})},O.id)),a.length===0&&T.jsxs("div",{className:`py-20 text-center ${u?"px-8":"px-4"}`,children:[T.jsx("div",{className:"inline-flex w-16 h-16 bg-slate-100 items-center justify-center mb-6",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),T.jsx("p",{className:"text-sm text-slate-400 font-black leading-relaxed uppercase tracking-widest max-w-[180px] mx-auto opacity-60",children:"No contacts"})]}),h&&T.jsxs("div",{className:"fixed z-50 min-w-[160px] bg-white rounded-xl shadow-xl py-2 flex flex-col overflow-hidden animate-in fade-in zoom-in-95 duration-200 border border-slate-100",style:{left:Math.min(h.x,window.innerWidth-170),top:Math.min(h.y,window.innerHeight-100)},onClick:O=>O.stopPropagation(),children:[T.jsx("div",{className:"px-4 py-2 border-b border-slate-50 mb-1",children:T.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Options"})}),T.jsxs("button",{onClick:()=>{i(h.contactId),m(null)},className:"w-full text-left px-4 py-3 hover:bg-slate-50 text-sm font-bold text-slate-700 flex items-center gap-3 transition-colors border-none",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),(L=a.find(O=>O.id===h.contactId))!=null&&L.pinned?"Unpin Chat":"Pin Chat"]}),T.jsxs("button",{onClick:()=>{l(h.contactId),m(null)},className:"w-full text-left px-4 py-3 hover:bg-red-50 text-sm font-bold text-red-600 flex items-center gap-3 transition-colors border-none",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Remove Chat"]})]})]})},N1=()=>{};var E_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(a,t){if(!a)throw ca(t)},ca=function(a){return new Error("Firebase Database ("+My.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=function(a){const t=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&l+1<a.length&&(a.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++l)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},x1=function(a){const t=[];let i=0,l=0;for(;i<a.length;){const o=a[i++];if(o<128)t[l++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[i++];t[l++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[i++],h=a[i++],m=a[i++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[l++]=String.fromCharCode(55296+(g>>10)),t[l++]=String.fromCharCode(56320+(g&1023))}else{const u=a[i++],h=a[i++];t[l++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},mh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<a.length;o+=3){const u=a[o],h=o+1<a.length,m=h?a[o+1]:0,g=o+2<a.length,p=g?a[o+2]:0,b=u>>2,y=(u&3)<<4|m>>4;let S=(m&15)<<2|p>>6,L=p&63;g||(L=64,h||(S=64)),l.push(i[b],i[y],i[S],i[L])}return l.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Iy(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):x1(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<a.length;){const u=i[a.charAt(o++)],m=o<a.length?i[a.charAt(o)]:0;++o;const p=o<a.length?i[a.charAt(o)]:64;++o;const y=o<a.length?i[a.charAt(o)]:64;if(++o,u==null||m==null||p==null||y==null)throw new R1;const S=u<<2|m>>4;if(l.push(S),p!==64){const L=m<<4&240|p>>2;if(l.push(L),y!==64){const O=p<<6&192|y;l.push(O)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class R1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ky=function(a){const t=Iy(a);return mh.encodeByteArray(t,!0)},vo=function(a){return ky(a).replace(/\./g,"")},bo=function(a){try{return mh.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(a){return Ly(void 0,a)}function Ly(a,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!D1(i)||(a[i]=Ly(a[i],t[i]));return a}function D1(a){return a!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=()=>M1().__FIREBASE_DEFAULTS__,k1=()=>{if(typeof process>"u"||typeof E_>"u")return;const a=E_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},L1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&bo(a[1]);return t&&JSON.parse(t)},ph=()=>{try{return N1()||I1()||k1()||L1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Uy=a=>{var t,i;return(i=(t=ph())==null?void 0:t.emulatorHosts)==null?void 0:i[a]},U1=a=>{const t=Uy(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const l=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),l]:[t.substring(0,i),l]},zy=()=>{var a;return(a=ph())==null?void 0:a.config},jy=a=>{var t;return(t=ph())==null?void 0:t[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,l)=>{i?this.reject(i):this.resolve(l),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hy(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},l=t||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${l}`,aud:l,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[vo(JSON.stringify(i)),vo(JSON.stringify(h)),""].join(".")}const gl={};function j1(){const a={prod:[],emulator:[]};for(const t of Object.keys(gl))gl[t]?a.emulator.push(t):a.prod.push(t);return a}function H1(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let T_=!1;function By(a,t){if(typeof window>"u"||typeof document>"u"||!ua(window.location.host)||gl[a]===t||gl[a]||T_)return;gl[a]=t;function i(S){return`__firebase__banner__${S}`}const l="__firebase__banner",u=j1().prod.length>0;function h(){const S=document.getElementById(l);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,L){S.setAttribute("width","24"),S.setAttribute("id",L),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{T_=!0,h()},S}function b(S,L){S.setAttribute("id",L),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function y(){const S=H1(l),L=i("text"),O=document.getElementById(L)||document.createElement("span"),B=i("learnmore"),ie=document.getElementById(B)||document.createElement("a"),me=i("preprendIcon"),Re=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const J=S.element;m(J),b(ie,B);const pe=p();g(Re,me),J.append(Re,O,ie,pe),document.body.appendChild(J)}u?(O.innerText="Preview backend disconnected.",Re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function B1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function q1(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function qy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function V1(){const a=gt();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function G1(){return My.NODE_ADMIN===!0}function P1(){try{return typeof indexedDB=="object"}catch{return!1}}function Y1(){return new Promise((a,t)=>{try{let i=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(l),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="FirebaseError";class xi extends Error{constructor(t,i,l){super(i),this.code=t,this.customData=l,this.name=Q1,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,i,l){this.service=t,this.serviceName=i,this.errors=l}create(t,...i){const l=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?F1(u,l):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new xi(o,m,l)}}function F1(a,t){return a.replace(K1,(i,l)=>{const o=t[l];return o!=null?String(o):`<${l}?>`})}const K1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(a){return JSON.parse(a)}function Ze(a){return JSON.stringify(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=function(a){let t={},i={},l={},o="";try{const u=a.split(".");t=Tl(bo(u[0])||""),i=Tl(bo(u[1])||""),o=u[2],l=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:l,signature:o}},X1=function(a){const t=Vy(a),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},W1=function(a){const t=Vy(a).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(a,t){return Object.prototype.hasOwnProperty.call(a,t)}function ta(a,t){if(Object.prototype.hasOwnProperty.call(a,t))return a[t]}function Gf(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function So(a,t,i){const l={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(l[o]=t.call(i,a[o],o,a));return l}function es(a,t){if(a===t)return!0;const i=Object.keys(a),l=Object.keys(t);for(const o of i){if(!l.includes(o))return!1;const u=a[o],h=t[o];if(C_(u)&&C_(h)){if(!es(u,h))return!1}else if(u!==h)return!1}for(const o of l)if(!i.includes(o))return!1;return!0}function C_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(a){const t=[];for(const[i,l]of Object.entries(a))Array.isArray(l)?l.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(l));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const l=this.W_;if(typeof t=="string")for(let y=0;y<16;y++)l[y]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)l[y]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let y=16;y<80;y++){const S=l[y-3]^l[y-8]^l[y-14]^l[y-16];l[y]=(S<<1|S>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],h=this.chain_[2],m=this.chain_[3],g=this.chain_[4],p,b;for(let y=0;y<80;y++){y<40?y<20?(p=m^u&(h^m),b=1518500249):(p=u^h^m,b=1859775393):y<60?(p=u&h|m&(u|h),b=2400959708):(p=u^h^m,b=3395469782);const S=(o<<5|o>>>27)+p+g+b+l[y]&4294967295;g=m,m=h,h=(u<<30|u>>>2)&4294967295,u=o,o=S}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const l=i-this.blockSize;let o=0;const u=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=l;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(u[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}else for(;o<i;)if(u[h]=t[o],++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let l=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)t[l]=this.chain_[o]>>u&255,++l;return t}}function J1(a,t){const i=new $1(a,t);return i.subscribe.bind(i)}class $1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(l=>{this.error(l)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,l){let o;if(t===void 0&&i===void 0&&l===void 0)throw new Error("Missing Observer.");eE(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:l},o.next===void 0&&(o.next=Rf),o.error===void 0&&(o.error=Rf),o.complete===void 0&&(o.complete=Rf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eE(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Rf(){}function Vo(a,t){return`${a} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=function(a){const t=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);if(o>=55296&&o<=56319){const u=o-55296;l++,z(l<a.length,"Surrogate pair missing trail surrogate.");const h=a.charCodeAt(l)-56320;o=65536+(u<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Go=function(a){let t=0;for(let i=0;i<a.length;i++){const l=a.charCodeAt(i);l<128?t++:l<2048?t+=2:l>=55296&&l<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(a){return a&&a._delegate?a._delegate:a}class ts{constructor(t,i,l){this.name=t,this.instanceFactory=i,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const l=new Ll;if(this.instancesDeferred.set(i,l),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&l.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(t==null?void 0:t.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(l)return null;throw o}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(sE(t))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});l.resolve(u)}catch{}}}}clearInstance(t=Xi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xi){return this.instances.has(t)}getOptions(t=Xi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,l=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:i});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);l===m&&h.resolve(o)}return o}onInit(t,i){const l=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(l)??new Set;o.add(t),this.onInitCallbacks.set(l,o);const u=this.instances.get(l);return u&&t(u,l),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const l=this.onInitCallbacks.get(i);if(l)for(const o of l)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let l=this.instances.get(t);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:iE(t),options:i}),this.instances.set(t,l),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(l,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,l)}catch{}return l||null}normalizeInstanceIdentifier(t=Xi){return this.component?this.component.multipleInstances?t:Xi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iE(a){return a===Xi?void 0:a}function sE(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new nE(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ne||(Ne={}));const lE={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},rE=Ne.INFO,oE={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},cE=(a,t,...i)=>{if(t<a.logLevel)return;const l=new Date().toISOString(),o=oE[t];if(o)console[o](`[${l}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _h{constructor(t){this.name=t,this._logLevel=rE,this._logHandler=cE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?lE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...t),this._logHandler(this,Ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...t),this._logHandler(this,Ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...t),this._logHandler(this,Ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...t),this._logHandler(this,Ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...t),this._logHandler(this,Ne.ERROR,...t)}}const uE=(a,t)=>t.some(i=>a instanceof i);let w_,A_;function fE(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hE(){return A_||(A_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gy=new WeakMap,Pf=new WeakMap,Py=new WeakMap,Of=new WeakMap,yh=new WeakMap;function dE(a){const t=new Promise((i,l)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",h)},u=()=>{i(bi(a.result)),o()},h=()=>{l(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&Gy.set(i,a)}).catch(()=>{}),yh.set(t,a),t}function mE(a){if(Pf.has(a))return;const t=new Promise((i,l)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",h),a.removeEventListener("abort",h)},u=()=>{i(),o()},h=()=>{l(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",h),a.addEventListener("abort",h)});Pf.set(a,t)}let Yf={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Pf.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Py.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return bi(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function pE(a){Yf=a(Yf)}function gE(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const l=a.call(Df(this),t,...i);return Py.set(l,t.sort?t.sort():[t]),bi(l)}:hE().includes(a)?function(...t){return a.apply(Df(this),t),bi(Gy.get(this))}:function(...t){return bi(a.apply(Df(this),t))}}function _E(a){return typeof a=="function"?gE(a):(a instanceof IDBTransaction&&mE(a),uE(a,fE())?new Proxy(a,Yf):a)}function bi(a){if(a instanceof IDBRequest)return dE(a);if(Of.has(a))return Of.get(a);const t=_E(a);return t!==a&&(Of.set(a,t),yh.set(t,a)),t}const Df=a=>yh.get(a);function yE(a,t,{blocked:i,upgrade:l,blocking:o,terminated:u}={}){const h=indexedDB.open(a,t),m=bi(h);return l&&h.addEventListener("upgradeneeded",g=>{l(bi(h.result),g.oldVersion,g.newVersion,bi(h.transaction),g)}),i&&h.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const vE=["get","getKey","getAll","getAllKeys","count"],bE=["put","add","delete","clear"],Mf=new Map;function N_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Mf.get(t))return Mf.get(t);const i=t.replace(/FromIndex$/,""),l=t!==i,o=bE.includes(i);if(!(i in(l?IDBIndex:IDBObjectStore).prototype)||!(o||vE.includes(i)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return l&&(p=p.index(m.shift())),(await Promise.all([p[i](...m),o&&g.done]))[0]};return Mf.set(t,u),u}pE(a=>({...a,get:(t,i,l)=>N_(t,i)||a.get(t,i,l),has:(t,i)=>!!N_(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(EE(i)){const l=i.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(i=>i).join(" ")}}function EE(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Qf="@firebase/app",x_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=new _h("@firebase/app"),TE="@firebase/app-compat",CE="@firebase/analytics-compat",wE="@firebase/analytics",AE="@firebase/app-check-compat",NE="@firebase/app-check",xE="@firebase/auth",RE="@firebase/auth-compat",OE="@firebase/database",DE="@firebase/data-connect",ME="@firebase/database-compat",IE="@firebase/functions",kE="@firebase/functions-compat",LE="@firebase/installations",UE="@firebase/installations-compat",zE="@firebase/messaging",jE="@firebase/messaging-compat",HE="@firebase/performance",BE="@firebase/performance-compat",qE="@firebase/remote-config",VE="@firebase/remote-config-compat",GE="@firebase/storage",PE="@firebase/storage-compat",YE="@firebase/firestore",QE="@firebase/ai",FE="@firebase/firestore-compat",KE="firebase",XE="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="[DEFAULT]",WE={[Qf]:"fire-core",[TE]:"fire-core-compat",[wE]:"fire-analytics",[CE]:"fire-analytics-compat",[NE]:"fire-app-check",[AE]:"fire-app-check-compat",[xE]:"fire-auth",[RE]:"fire-auth-compat",[OE]:"fire-rtdb",[DE]:"fire-data-connect",[ME]:"fire-rtdb-compat",[IE]:"fire-fn",[kE]:"fire-fn-compat",[LE]:"fire-iid",[UE]:"fire-iid-compat",[zE]:"fire-fcm",[jE]:"fire-fcm-compat",[HE]:"fire-perf",[BE]:"fire-perf-compat",[qE]:"fire-rc",[VE]:"fire-rc-compat",[GE]:"fire-gcs",[PE]:"fire-gcs-compat",[YE]:"fire-fst",[FE]:"fire-fst-compat",[QE]:"fire-vertex","fire-js":"fire-js",[KE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new Map,ZE=new Map,Kf=new Map;function R_(a,t){try{a.container.addComponent(t)}catch(i){Hn.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function na(a){const t=a.name;if(Kf.has(t))return Hn.debug(`There were multiple attempts to register component ${t}.`),!1;Kf.set(t,a);for(const i of Eo.values())R_(i,a);for(const i of ZE.values())R_(i,a);return!0}function vh(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function en(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new Ul("app","Firebase",JE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t,i,l){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=XE;function Yy(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const l={name:Ff,automaticDataCollectionEnabled:!0,...t},o=l.name;if(typeof o!="string"||!o)throw Si.create("bad-app-name",{appName:String(o)});if(i||(i=zy()),!i)throw Si.create("no-options");const u=Eo.get(o);if(u){if(es(i,u.options)&&es(l,u.config))return u;throw Si.create("duplicate-app",{appName:o})}const h=new aE(o);for(const g of Kf.values())h.addComponent(g);const m=new $E(i,l,h);return Eo.set(o,m),m}function Qy(a=Ff){const t=Eo.get(a);if(!t&&a===Ff&&zy())return Yy();if(!t)throw Si.create("no-app",{appName:a});return t}function Ei(a,t,i){let l=WE[a]??a;i&&(l+=`-${i}`);const o=l.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${l}" with version "${t}":`];o&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hn.warn(h.join(" "));return}na(new ts(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="firebase-heartbeat-database",tT=1,Cl="firebase-heartbeat-store";let If=null;function Fy(){return If||(If=yE(eT,tT,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Si.create("idb-open",{originalErrorMessage:a.message})})),If}async function nT(a){try{const i=(await Fy()).transaction(Cl),l=await i.objectStore(Cl).get(Ky(a));return await i.done,l}catch(t){if(t instanceof xi)Hn.warn(t.message);else{const i=Si.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Hn.warn(i.message)}}}async function O_(a,t){try{const l=(await Fy()).transaction(Cl,"readwrite");await l.objectStore(Cl).put(t,Ky(a)),await l.done}catch(i){if(i instanceof xi)Hn.warn(i.message);else{const l=Si.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Hn.warn(l.message)}}}function Ky(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=1024,sT=30;class aT{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new rT(i),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=D_();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>sT){const h=oT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(l){Hn.warn(l)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=D_(),{heartbeatsToSend:l,unsentEntries:o}=lT(this._heartbeatsCache.heartbeats),u=vo(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Hn.warn(i),""}}}function D_(){return new Date().toISOString().substring(0,10)}function lT(a,t=iT){const i=[];let l=a.slice();for(const o of a){const u=i.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),M_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),M_(i)>t){i.pop();break}l=l.slice(1)}return{heartbeatsToSend:i,unsentEntries:l}}class rT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P1()?Y1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await nT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return O_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return O_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function M_(a){return vo(JSON.stringify({version:2,heartbeats:a})).length}function oT(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let l=1;l<a.length;l++)a[l].date<i&&(i=a[l].date,t=l);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(a){na(new ts("platform-logger",t=>new SE(t),"PRIVATE")),na(new ts("heartbeat",t=>new aT(t),"PRIVATE")),Ei(Qf,x_,a),Ei(Qf,x_,"esm2020"),Ei("fire-js","")}cT("");var uT="firebase",fT="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei(uT,fT,"app");function Xy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hT=Xy,Wy=new Ul("auth","Firebase",Xy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new _h("@firebase/auth");function dT(a,...t){To.logLevel<=Ne.WARN&&To.warn(`Auth (${ha}): ${a}`,...t)}function mo(a,...t){To.logLevel<=Ne.ERROR&&To.error(`Auth (${ha}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(a,...t){throw Sh(a,...t)}function an(a,...t){return Sh(a,...t)}function bh(a,t,i){const l={...hT(),[t]:i};return new Ul("auth","Firebase",l).create(t,{appName:a.name})}function $i(a){return bh(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mT(a,t,i){const l=i;if(!(t instanceof l))throw l.name!==t.constructor.name&&hn(a,"argument-error"),bh(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sh(a,...t){if(typeof a!="string"){const i=t[0],l=[...t.slice(1)];return l[0]&&(l[0].appName=a.name),a._errorFactory.create(i,...l)}return Wy.create(a,...t)}function Z(a,t,...i){if(!a)throw Sh(t,...i)}function Ln(a){const t="INTERNAL ASSERTION FAILED: "+a;throw mo(t),new Error(t)}function Bn(a,t){a||Ln(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.href)||""}function pT(){return I_()==="http:"||I_()==="https:"}function I_(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pT()||q1()||"connection"in navigator)?navigator.onLine:!0}function _T(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Bn(i>t,"Short delay should be less than long delay!"),this.isMobile=gh()||qy()}get(){return gT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(a,t){Bn(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{static initialize(t,i,l){this.fetchImpl=t,i&&(this.headersImpl=i),l&&(this.responseImpl=l)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bT=new zl(3e4,6e4);function Th(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function da(a,t,i,l,o={}){return Jy(a,o,async()=>{let u={},h={};l&&(t==="GET"?h=l:u={body:JSON.stringify(l)});const m=fa({key:a.config.apiKey,...h}).slice(1),g=await a._getAdditionalHeaders();g["Content-Type"]="application/json",a.languageCode&&(g["X-Firebase-Locale"]=a.languageCode);const p={method:t,headers:g,...u};return B1()||(p.referrerPolicy="no-referrer"),a.emulatorConfig&&ua(a.emulatorConfig.host)&&(p.credentials="include"),Zy.fetch()(await $y(a,a.config.apiHost,i,m),p)})}async function Jy(a,t,i){a._canInitEmulator=!1;const l={...yT,...t};try{const o=new ET(a),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw uo(a,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw uo(a,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw uo(a,"email-already-in-use",h);if(g==="USER_DISABLED")throw uo(a,"user-disabled",h);const b=l[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw bh(a,b,p);hn(a,b)}}catch(o){if(o instanceof xi)throw o;hn(a,"network-request-failed",{message:String(o)})}}async function ST(a,t,i,l,o={}){const u=await da(a,t,i,l,o);return"mfaPendingCredential"in u&&hn(a,"multi-factor-auth-required",{_serverResponse:u}),u}async function $y(a,t,i,l){const o=`${t}${i}?${l}`,u=a,h=u.config.emulator?Eh(a.config,o):`${a.config.apiScheme}://${o}`;return vT.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class ET{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,l)=>{this.timer=setTimeout(()=>l(an(this.auth,"network-request-failed")),bT.get())})}}function uo(a,t,i){const l={appName:a.name};i.email&&(l.email=i.email),i.phoneNumber&&(l.phoneNumber=i.phoneNumber);const o=an(a,t,l);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TT(a,t){return da(a,"POST","/v1/accounts:delete",t)}async function Co(a,t){return da(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function CT(a,t=!1){const i=_t(a),l=await i.getIdToken(t),o=Ch(l);Z(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:l,authTime:_l(kf(o.auth_time)),issuedAtTime:_l(kf(o.iat)),expirationTime:_l(kf(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function kf(a){return Number(a)*1e3}function Ch(a){const[t,i,l]=a.split(".");if(t===void 0||i===void 0||l===void 0)return mo("JWT malformed, contained fewer than 3 sections"),null;try{const o=bo(i);return o?JSON.parse(o):(mo("Failed to decode base64 JWT payload"),null)}catch(o){return mo("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function k_(a){const t=Ch(a);return Z(t,"internal-error"),Z(typeof t.exp<"u","internal-error"),Z(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(a,t,i=!1){if(i)return t;try{return await t}catch(l){throw l instanceof xi&&wT(l)&&a.auth.currentUser===a&&await a.auth.signOut(),l}}function wT({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(a){var y;const t=a.auth,i=await a.getIdToken(),l=await wl(a,Co(t,{idToken:i}));Z(l==null?void 0:l.users.length,t,"internal-error");const o=l.users[0];a._notifyReloadListener(o);const u=(y=o.providerUserInfo)!=null&&y.length?ev(o.providerUserInfo):[],h=xT(a.providerData,u),m=a.isAnonymous,g=!(a.email&&o.passwordHash)&&!(h!=null&&h.length),p=m?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Wf(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(a,b)}async function NT(a){const t=_t(a);await wo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function xT(a,t){return[...a.filter(l=>!t.some(o=>o.providerId===l.providerId)),...t]}function ev(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RT(a,t){const i=await Jy(a,{},async()=>{const l=fa({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=a.config,h=await $y(a,o,"/v1/token",`key=${u}`),m=await a._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:l};return a.emulatorConfig&&ua(a.emulatorConfig.host)&&(g.credentials="include"),Zy.fetch()(h,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function OT(a,t){return da(a,"POST","/v2/accounts:revokeToken",Th(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Z(t.idToken,"internal-error"),Z(typeof t.idToken<"u","internal-error"),Z(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):k_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Z(t.length!==0,"internal-error");const i=k_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:l,refreshToken:o,expiresIn:u}=await RT(t,i);this.updateTokensAndExpiration(l,o,Number(u))}updateTokensAndExpiration(t,i,l){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+l*1e3}static fromJSON(t,i){const{refreshToken:l,accessToken:o,expirationTime:u}=i,h=new Ws;return l&&(Z(typeof l=="string","internal-error",{appName:t}),h.refreshToken=l),o&&(Z(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(Z(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ws,this.toJSON())}_performRefresh(){return Ln("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(a,t){Z(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class nn{constructor({uid:t,auth:i,stsTokenManager:l,...o}){this.providerId="firebase",this.proactiveRefresh=new AT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await wl(this,this.stsTokenManager.getToken(this.auth,t));return Z(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return CT(this,t)}reload(){return NT(this)}_assign(t){this!==t&&(Z(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new nn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let l=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),l=!0),i&&await wo(this),await this.auth._persistUserIfCurrent(this),l&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject($i(this.auth));const t=await this.getIdToken();return await wl(this,TT(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const l=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,h=i.photoURL??void 0,m=i.tenantId??void 0,g=i._redirectEventId??void 0,p=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:y,emailVerified:S,isAnonymous:L,providerData:O,stsTokenManager:B}=i;Z(y&&B,t,"internal-error");const ie=Ws.fromJSON(this.name,B);Z(typeof y=="string",t,"internal-error"),mi(l,t.name),mi(o,t.name),Z(typeof S=="boolean",t,"internal-error"),Z(typeof L=="boolean",t,"internal-error"),mi(u,t.name),mi(h,t.name),mi(m,t.name),mi(g,t.name),mi(p,t.name),mi(b,t.name);const me=new nn({uid:y,auth:t,email:o,emailVerified:S,displayName:l,isAnonymous:L,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:ie,createdAt:p,lastLoginAt:b});return O&&Array.isArray(O)&&(me.providerData=O.map(Re=>({...Re}))),g&&(me._redirectEventId=g),me}static async _fromIdTokenResponse(t,i,l=!1){const o=new Ws;o.updateFromServerResponse(i);const u=new nn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:l});return await wo(u),u}static async _fromGetAccountInfoResponse(t,i,l){const o=i.users[0];Z(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ev(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ws;m.updateFromIdToken(l);const g=new nn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;function Un(a){Bn(a instanceof Function,"Expected a class definition");let t=L_.get(a);return t?(Bn(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,L_.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}tv.type="NONE";const U_=tv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(a,t,i){return`firebase:${a}:${t}:${i}`}class Zs{constructor(t,i,l){this.persistence=t,this.auth=i,this.userKey=l;const{config:o,name:u}=this.auth;this.fullUserKey=po(this.userKey,o.apiKey,u),this.fullPersistenceKey=po("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Co(this.auth,{idToken:t}).catch(()=>{});return i?nn._fromGetAccountInfoResponse(this.auth,i,t):null}return nn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,l="authUser"){if(!i.length)return new Zs(Un(U_),t,l);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Un(U_);const h=po(l,t.config.apiKey,t.name);let m=null;for(const p of i)try{const b=await p._get(h);if(b){let y;if(typeof b=="string"){const S=await Co(t,{idToken:b}).catch(()=>{});if(!S)break;y=await nn._fromGetAccountInfoResponse(t,S,b)}else y=nn._fromJSON(t,b);p!==u&&(m=y),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Zs(u,t,l):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(i.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new Zs(u,t,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(av(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rv(t))return"Blackberry";if(ov(t))return"Webos";if(iv(t))return"Safari";if((t.includes("chrome/")||sv(t))&&!t.includes("edge/"))return"Chrome";if(lv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,l=a.match(i);if((l==null?void 0:l.length)===2)return l[1]}return"Other"}function nv(a=gt()){return/firefox\//i.test(a)}function iv(a=gt()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sv(a=gt()){return/crios\//i.test(a)}function av(a=gt()){return/iemobile/i.test(a)}function lv(a=gt()){return/android/i.test(a)}function rv(a=gt()){return/blackberry/i.test(a)}function ov(a=gt()){return/webos/i.test(a)}function wh(a=gt()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function DT(a=gt()){var t;return wh(a)&&!!((t=window.navigator)!=null&&t.standalone)}function MT(){return V1()&&document.documentMode===10}function cv(a=gt()){return wh(a)||lv(a)||ov(a)||rv(a)||/windows phone/i.test(a)||av(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(a,t=[]){let i;switch(a){case"Browser":i=z_(gt());break;case"Worker":i=`${z_(gt())}-${a}`;break;default:i=a}const l=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ha}/${l}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const l=u=>new Promise((h,m)=>{try{const g=t(u);h(g)}catch(g){m(g)}});l.onAbort=i,this.queue.push(l);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const l of this.queue)await l(t),l.onAbort&&i.push(l.onAbort)}catch(l){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:l==null?void 0:l.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kT(a,t={}){return da(a,"GET","/v2/passwordPolicy",Th(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=6;class UT{constructor(t){var l;const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??LT,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((l=t.allowedNonAlphanumericCharacters)==null?void 0:l.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const l=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;l&&(i.meetsMinPasswordLength=t.length>=l),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let l;for(let o=0;o<t.length;o++)l=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(t,i,l,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,i,l,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=l,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j_(this),this.idTokenSubscription=new j_(this),this.beforeStateQueue=new IT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Un(i)),this._initializationPromise=this.queue(async()=>{var l,o,u;if(!this._deleted&&(this.persistenceManager=await Zs.create(this,t),(l=this._resolvePersistenceManagerAvailable)==null||l.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Co(this,{idToken:t}),l=await nn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(l)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(en(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=l==null?void 0:l._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===m)&&(g!=null&&g.user)&&(l=g.user,o=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(l)}catch(h){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await wo(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_T()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(en(this.app))return Promise.reject($i(this));const i=t?_t(t):null;return i&&Z(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Z(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return en(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Un(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await kT(this),i=new UT(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,i,l){return this.registerStateListener(this.authStateSubscription,t,i,l)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,l){return this.registerStateListener(this.idTokenSubscription,t,i,l)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const l=this.onAuthStateChanged(()=>{l(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),l={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(l.tenantId=this.tenantId),await OT(this,l)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,i){const l=await this.getOrInitRedirectPersistenceManager(i);return t===null?l.removeCurrentUser():l.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Un(t)||this._popupRedirectResolver;Z(i,this,"argument-error"),this.redirectPersistenceManager=await Zs.create(this,[Un(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,l;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===t?this._currentUser:((l=this.redirectUser)==null?void 0:l._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,l,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,l,o);return()=>{h=!0,g()}}else{const g=t.addObserver(i);return()=>{h=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=uv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){var i;if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return t!=null&&t.error&&dT(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Po(a){return _t(a)}class j_{constructor(t){this.auth=t,this.observer=null,this.addObserver=J1(i=>this.observer=i)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jT(a){Ah=a}function HT(a){return Ah.loadJS(a)}function BT(){return Ah.gapiScript}function qT(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(a,t){const i=vh(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(es(u,t??{}))return o;hn(o,"already-initialized")}return i.initialize({options:t})}function GT(a,t){const i=(t==null?void 0:t.persistence)||[],l=(Array.isArray(i)?i:[i]).map(Un);t!=null&&t.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(l,t==null?void 0:t.popupRedirectResolver)}function PT(a,t,i){const l=Po(a);Z(/^https?:\/\//.test(t),l,"invalid-emulator-scheme");const o=!1,u=fv(t),{host:h,port:m}=YT(t),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},b=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!l._canInitEmulator){Z(l.config.emulator&&l.emulatorConfig,l,"emulator-config-failed"),Z(es(p,l.config.emulator)&&es(b,l.emulatorConfig),l,"emulator-config-failed");return}l.config.emulator=p,l.emulatorConfig=b,l.settings.appVerificationDisabledForTesting=!0,ua(h)?(Hy(`${u}//${h}${g}`),By("Auth",!0)):QT()}function fv(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function YT(a){const t=fv(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const l=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(l);if(o){const u=o[1];return{host:u,port:H_(l.substr(u.length+1))}}else{const[u,h]=l.split(":");return{host:u,port:H_(h)}}}function H_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function QT(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ln("not implemented")}_getIdTokenResponse(t){return Ln("not implemented")}_linkToIdToken(t,i){return Ln("not implemented")}_getReauthenticationResolver(t){return Ln("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(a,t){return ST(a,"POST","/v1/accounts:signInWithIdp",Th(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="http://localhost";class ns extends hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ns(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):hn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:l,signInMethod:o,...u}=i;if(!l||!o)return null;const h=new ns(l,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return Js(t,i)}_linkToIdToken(t,i){const l=this.buildRequest();return l.idToken=i,Js(t,l)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Js(t,i)}buildRequest(){const t={requestUri:FT,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=fa(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Nh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends jl{constructor(){super("facebook.com")}static credential(t){return ns._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pi.credentialFromTaggedObject(t)}static credentialFromError(t){return pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return pi.credential(t.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ns._fromParams({providerId:kn.PROVIDER_ID,signInMethod:kn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return kn.credentialFromTaggedObject(t)}static credentialFromError(t){return kn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:l}=t;if(!i&&!l)return null;try{return kn.credential(i,l)}catch{return null}}}kn.GOOGLE_SIGN_IN_METHOD="google.com";kn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends jl{constructor(){super("github.com")}static credential(t){return ns._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gi.credentialFromTaggedObject(t)}static credentialFromError(t){return gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gi.credential(t.oauthAccessToken)}catch{return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com";gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends jl{constructor(){super("twitter.com")}static credential(t,i){return ns._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:l}=t;if(!i||!l)return null;try{return _i.credential(i,l)}catch{return null}}}_i.TWITTER_SIGN_IN_METHOD="twitter.com";_i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,l,o=!1){const u=await nn._fromIdTokenResponse(t,l,o),h=B_(l);return new ia({user:u,providerId:h,_tokenResponse:l,operationType:i})}static async _forOperation(t,i,l){await t._updateTokensIfNecessary(l,!0);const o=B_(l);return new ia({user:t,providerId:o,_tokenResponse:l,operationType:i})}}function B_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends xi{constructor(t,i,l,o){super(i.code,i.message),this.operationType=l,this.user=o,Object.setPrototypeOf(this,Ao.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:l}}static _fromErrorAndOperation(t,i,l,o){return new Ao(t,i,l,o)}}function dv(a,t,i,l){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ao._fromErrorAndOperation(a,u,t,l):u})}async function KT(a,t,i=!1){const l=await wl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return ia._forOperation(a,"link",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XT(a,t,i=!1){const{auth:l}=a;if(en(l.app))return Promise.reject($i(l));const o="reauthenticate";try{const u=await wl(a,dv(l,o,t,a),i);Z(u.idToken,l,"internal-error");const h=Ch(u.idToken);Z(h,l,"internal-error");const{sub:m}=h;return Z(a.uid===m,l,"user-mismatch"),ia._forOperation(a,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&hn(l,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(a,t,i=!1){if(en(a.app))return Promise.reject($i(a));const l="signIn",o=await dv(a,l,t),u=await ia._fromIdTokenResponse(a,l,o);return i||await a._updateCurrentUser(u.user),u}function ZT(a,t,i,l){return _t(a).onIdTokenChanged(t,i,l)}function JT(a,t,i){return _t(a).beforeAuthStateChanged(t,i)}function $T(a,t,i,l){return _t(a).onAuthStateChanged(t,i,l)}function eC(a){return _t(a).signOut()}const No="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(No,"1"),this.storage.removeItem(No),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=1e3,nC=10;class pv extends mv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const l=this.storage.getItem(i),o=this.localCache[i];l!==o&&t(i,o,l)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const l=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(l);!i&&this.localCache[l]===h||this.notifyListeners(l,h)},u=this.storage.getItem(l);MT()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,nC):o()}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,l)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:l}),!0)})},tC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}pv.type="LOCAL";const iC=pv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends mv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}gv.type="SESSION";const _v=gv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const l=new Yo(t);return this.receivers.push(l),l}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:l,eventType:o,data:u}=i.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;i.ports[0].postMessage({status:"ack",eventId:l,eventType:o});const m=Array.from(h).map(async p=>p(i.origin,u)),g=await sC(m);i.ports[0].postMessage({status:"done",eventId:l,eventType:o,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yo.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(a="",t=10){let i="";for(let l=0;l<t;l++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,l=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=xh("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},l);h={messageChannel:o,onMessage(y){const S=y;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:p,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return window}function lC(a){fn().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(){return typeof fn().WorkerGlobalScope<"u"&&typeof fn().importScripts=="function"}async function rC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oC(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)==null?void 0:a.controller)||null}function cC(){return yv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="firebaseLocalStorageDb",uC=1,xo="firebaseLocalStorage",bv="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Qo(a,t){return a.transaction([xo],t?"readwrite":"readonly").objectStore(xo)}function fC(){const a=indexedDB.deleteDatabase(vv);return new Hl(a).toPromise()}function Zf(){const a=indexedDB.open(vv,uC);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const l=a.result;try{l.createObjectStore(xo,{keyPath:bv})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const l=a.result;l.objectStoreNames.contains(xo)?t(l):(l.close(),await fC(),t(await Zf()))})})}async function q_(a,t,i){const l=Qo(a,!0).put({[bv]:t,value:i});return new Hl(l).toPromise()}async function hC(a,t){const i=Qo(a,!1).get(t),l=await new Hl(i).toPromise();return l===void 0?null:l.value}function V_(a,t){const i=Qo(a,!0).delete(t);return new Hl(i).toPromise()}const dC=800,mC=3;class Sv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zf(),this.db)}async _withRetries(t){let i=0;for(;;)try{const l=await this._openDb();return await t(l)}catch(l){if(i++>mC)throw l;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yo._getInstance(cC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var i,l;if(this.activeServiceWorker=await rC(),!this.activeServiceWorker)return;this.sender=new aC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(i=t[0])!=null&&i.fulfilled&&(l=t[0])!=null&&l.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||oC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Zf();return await q_(t,No,"1"),await V_(t,No),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(l=>q_(l,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(l=>hC(l,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>V_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Qo(o,!1).getAll();return new Hl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],l=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)l.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!l.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sv.type="LOCAL";const pC=Sv;new zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(a,t){return t?Un(t):(Z(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends hv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Js(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Js(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Js(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function gC(a){return WT(a.auth,new Rh(a),a.bypassAuthState)}function _C(a){const{auth:t,user:i}=a;return Z(i,t,"internal-error"),XT(i,new Rh(a),a.bypassAuthState)}async function yC(a){const{auth:t,user:i}=a;return Z(i,t,"internal-error"),KT(i,new Rh(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(t,i,l,o,u=!1){this.auth=t,this.resolver=l,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(l){this.reject(l)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:l,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:i,sessionId:l,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gC;case"linkViaPopup":case"linkViaRedirect":return yC;case"reauthViaPopup":case"reauthViaRedirect":return _C;default:hn(this.auth,"internal-error")}}resolve(t){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new zl(2e3,1e4);async function bC(a,t,i){if(en(a.app))return Promise.reject(an(a,"operation-not-supported-in-this-environment"));const l=Po(a);mT(a,t,Nh);const o=Ev(l,i);return new Zi(l,"signInViaPopup",t,o).executeNotNull()}class Zi extends Tv{constructor(t,i,l,o,u){super(t,i,o,u),this.provider=l,this.authWindow=null,this.pollId=null,Zi.currentPopupAction&&Zi.currentPopupAction.cancel(),Zi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Z(t,this.auth,"internal-error"),t}async onExecution(){Bn(this.filter.length===1,"Popup operations only handle one event");const t=xh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(an(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(an(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,l;if((l=(i=this.authWindow)==null?void 0:i.window)!=null&&l.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(an(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vC.get())};t()}}Zi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="pendingRedirect",go=new Map;class EC extends Tv{constructor(t,i,l=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,l),this.eventId=null}async execute(){let t=go.get(this.auth._key());if(!t){try{const l=await TC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(l)}catch(i){t=()=>Promise.reject(i)}go.set(this.auth._key(),t)}return this.bypassAuthState||go.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TC(a,t){const i=AC(t),l=wC(a);if(!await l._isAvailable())return!1;const o=await l._get(i)==="true";return await l._remove(i),o}function CC(a,t){go.set(a._key(),t)}function wC(a){return Un(a._redirectPersistence)}function AC(a){return po(SC,a.config.apiKey,a.name)}async function NC(a,t,i=!1){if(en(a.app))return Promise.reject($i(a));const l=Po(a),o=Ev(l,t),h=await new EC(l,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await l._persistUserIfCurrent(h.user),await l._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=600*1e3;class RC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(l=>{this.isEventForConsumer(t,l)&&(i=!0,this.sendToConsumer(t,l),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!OC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var l;if(t.error&&!Cv(t)){const o=((l=t.error.code)==null?void 0:l.split("auth/")[1])||"internal-error";i.onError(an(this.auth,o))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const l=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&l}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xC&&this.cachedEventUids.clear(),this.cachedEventUids.has(G_(t))}saveEventToCache(t){this.cachedEventUids.add(G_(t)),this.lastProcessedEventTime=Date.now()}}function G_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function Cv({type:a,error:t}){return a==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function OC(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cv(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(a,t={}){return da(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IC=/^https?/;async function kC(a){if(a.config.emulator)return;const{authorizedDomains:t}=await DC(a);for(const i of t)try{if(LC(i))return}catch{}hn(a,"unauthorized-domain")}function LC(a){const t=Xf(),{protocol:i,hostname:l}=new URL(t);if(a.startsWith("chrome-extension://")){const h=new URL(a);return h.hostname===""&&l===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===l}if(!IC.test(i))return!1;if(MC.test(a))return l===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(l)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new zl(3e4,6e4);function P_(){const a=fn().___jsl;if(a!=null&&a.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function zC(a){return new Promise((t,i)=>{var o,u,h;function l(){P_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{P_(),i(an(a,"network-request-failed"))},timeout:UC.get()})}if((u=(o=fn().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((h=fn().gapi)!=null&&h.load)l();else{const m=qT("iframefcb");return fn()[m]=()=>{gapi.load?l():i(an(a,"network-request-failed"))},HT(`${BT()}?onload=${m}`).catch(g=>i(g))}}).catch(t=>{throw _o=null,t})}let _o=null;function jC(a){return _o=_o||zC(a),_o}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new zl(5e3,15e3),BC="__/auth/iframe",qC="emulator/auth/iframe",VC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PC(a){const t=a.config;Z(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Eh(t,qC):`https://${a.config.authDomain}/${BC}`,l={apiKey:t.apiKey,appName:a.name,v:ha},o=GC.get(a.config.apiHost);o&&(l.eid=o);const u=a._getFrameworks();return u.length&&(l.fw=u.join(",")),`${i}?${fa(l).slice(1)}`}async function YC(a){const t=await jC(a),i=fn().gapi;return Z(i,a,"internal-error"),t.open({where:document.body,url:PC(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VC,dontclear:!0},l=>new Promise(async(o,u)=>{await l.restyle({setHideOnLeave:!1});const h=an(a,"network-request-failed"),m=fn().setTimeout(()=>{u(h)},HC.get());function g(){fn().clearTimeout(m),o(l)}l.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FC=500,KC=600,XC="_blank",WC="http://localhost";class Y_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZC(a,t,i,l=FC,o=KC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-l)/2,0).toString();let m="";const g={...QC,width:l.toString(),height:o.toString(),top:u,left:h},p=gt().toLowerCase();i&&(m=sv(p)?XC:i),nv(p)&&(t=t||WC,g.scrollbars="yes");const b=Object.entries(g).reduce((S,[L,O])=>`${S}${L}=${O},`,"");if(DT(p)&&m!=="_self")return JC(t||"",m),new Y_(null);const y=window.open(t||"",m,b);Z(y,a,"popup-blocked");try{y.focus()}catch{}return new Y_(y)}function JC(a,t){const i=document.createElement("a");i.href=a,i.target=t;const l=document.createEvent("MouseEvent");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="__/auth/handler",ew="emulator/auth/handler",tw=encodeURIComponent("fac");async function Q_(a,t,i,l,o,u){Z(a.config.authDomain,a,"auth-domain-config-required"),Z(a.config.apiKey,a,"invalid-api-key");const h={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:l,v:ha,eventId:o};if(t instanceof Nh){t.setDefaultLanguage(a.languageCode),h.providerId=t.providerId||"",Gf(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,y]of Object.entries({}))h[b]=y}if(t instanceof jl){const b=t.getScopes().filter(y=>y!=="");b.length>0&&(h.scopes=b.join(","))}a.tenantId&&(h.tid=a.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await a._getAppCheckToken(),p=g?`#${tw}=${encodeURIComponent(g)}`:"";return`${nw(a)}?${fa(m).slice(1)}${p}`}function nw({config:a}){return a.emulator?Eh(a,ew):`https://${a.authDomain}/${$C}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="webStorageSupport";class iw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_v,this._completeRedirectFn=NC,this._overrideRedirectResult=CC}async _openPopup(t,i,l,o){var h;Bn((h=this.eventManagers[t._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await Q_(t,i,l,Xf(),o);return ZC(t,u,xh())}async _openRedirect(t,i,l,o){await this._originValidation(t);const u=await Q_(t,i,l,Xf(),o);return lC(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(Bn(u,"If manager is not set, promise should be"),u)}const l=this.initAndGetManager(t);return this.eventManagers[i]={promise:l},l.catch(()=>{delete this.eventManagers[i]}),l}async initAndGetManager(t){const i=await YC(t),l=new RC(t);return i.register("authEvent",o=>(Z(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:l.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:l},this.iframes[t._key()]=i,l}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Lf,{type:Lf},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[Lf];u!==void 0&&i(!!u),hn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=kC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return cv()||iv()||wh()}}const sw=iw;var F_="@firebase/auth",K_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(l=>{t((l==null?void 0:l.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rw(a){na(new ts("auth",(t,{options:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=l.options;Z(h&&!h.includes(":"),"invalid-api-key",{appName:l.name});const g={apiKey:h,authDomain:m,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uv(a)},p=new zT(l,o,u,g);return GT(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,l)=>{t.getProvider("auth-internal").initialize()})),na(new ts("auth-internal",t=>{const i=Po(t.getProvider("auth").getImmediate());return(l=>new aw(l))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ei(F_,K_,lw(a)),Ei(F_,K_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=300,cw=jy("authIdTokenMaxAge")||ow;let X_=null;const uw=a=>async t=>{const i=t&&await t.getIdTokenResult(),l=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(l&&l>cw)return;const o=i==null?void 0:i.token;X_!==o&&(X_=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function fw(a=Qy()){const t=vh(a,"auth");if(t.isInitialized())return t.getImmediate();const i=VT(a,{popupRedirectResolver:sw,persistence:[pC,iC,_v]}),l=jy("authTokenSyncURL");if(l&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(l,location.origin);if(location.origin===u.origin){const h=uw(u.toString());JT(i,h,()=>h(i.currentUser)),ZT(i,m=>h(m))}}const o=Uy("auth");return o&&PT(i,`http://${o}`),i}function hw(){var a;return((a=document.getElementsByTagName("head"))==null?void 0:a[0])??document}jT({loadJS(a){return new Promise((t,i)=>{const l=document.createElement("script");l.setAttribute("src",a),l.onload=t,l.onerror=o=>{const u=an("internal-error");u.customData=o,i(u)},l.type="text/javascript",l.charset="UTF-8",hw().appendChild(l)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rw("Browser");var W_={};const Z_="@firebase/database",J_="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wv="";function dw(a){wv=a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ze(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Tl(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return dn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const t=window[a];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new mw(t)}}catch{}return new pw},Ji=Av("localStorage"),gw=Av("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new _h("@firebase/database"),_w=(function(){let a=1;return function(){return a++}})(),Nv=function(a){const t=tE(a),i=new Z1;i.update(t);const l=i.digest();return mh.encodeByteArray(l)},Bl=function(...a){let t="";for(let i=0;i<a.length;i++){const l=a[i];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?t+=Bl.apply(null,l):typeof l=="object"?t+=Ze(l):t+=l,t+=" "}return t};let yl=null,$_=!0;const yw=function(a,t){z(!0,"Can't turn on custom loggers persistently."),$s.logLevel=Ne.VERBOSE,yl=$s.log.bind($s)},ct=function(...a){if($_===!0&&($_=!1,yl===null&&gw.get("logging_enabled")===!0&&yw()),yl){const t=Bl.apply(null,a);yl(t)}},ql=function(a){return function(...t){ct(a,...t)}},Jf=function(...a){const t="FIREBASE INTERNAL ERROR: "+Bl(...a);$s.error(t)},qn=function(...a){const t=`FIREBASE FATAL ERROR: ${Bl(...a)}`;throw $s.error(t),new Error(t)},pt=function(...a){const t="FIREBASE WARNING: "+Bl(...a);$s.warn(t)},vw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Oh=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},bw=function(a){if(document.readyState==="complete")a();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},sa="[MIN_NAME]",is="[MAX_NAME]",ls=function(a,t){if(a===t)return 0;if(a===sa||t===is)return-1;if(t===sa||a===is)return 1;{const i=ey(a),l=ey(t);return i!==null?l!==null?i-l===0?a.length-t.length:i-l:-1:l!==null?1:a<t?-1:1}},Sw=function(a,t){return a===t?0:a<t?-1:1},hl=function(a,t){if(t&&a in t)return t[a];throw new Error("Missing required key ("+a+") in object: "+Ze(t))},Dh=function(a){if(typeof a!="object"||a===null)return Ze(a);const t=[];for(const l in a)t.push(l);t.sort();let i="{";for(let l=0;l<t.length;l++)l!==0&&(i+=","),i+=Ze(t[l]),i+=":",i+=Dh(a[t[l]]);return i+="}",i},xv=function(a,t){const i=a.length;if(i<=t)return[a];const l=[];for(let o=0;o<i;o+=t)o+t>i?l.push(a.substring(o,i)):l.push(a.substring(o,o+t));return l};function ut(a,t){for(const i in a)a.hasOwnProperty(i)&&t(i,a[i])}const Rv=function(a){z(!Oh(a),"Invalid JSON number");const t=11,i=52,l=(1<<t-1)-1;let o,u,h,m,g;a===0?(u=0,h=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-l)?(m=Math.min(Math.floor(Math.log(a)/Math.LN2),l),u=m+l,h=Math.round(a*Math.pow(2,i-m)-Math.pow(2,i))):(u=0,h=Math.round(a/Math.pow(2,1-l-i))));const p=[];for(g=i;g;g-=1)p.push(h%2?1:0),h=Math.floor(h/2);for(g=t;g;g-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const b=p.join("");let y="";for(g=0;g<64;g+=8){let S=parseInt(b.substr(g,8),2).toString(16);S.length===1&&(S="0"+S),y=y+S}return y.toLowerCase()},Ew=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Tw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Cw(a,t){let i="Unknown Error";a==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?i="Client doesn't have permission to access the desired data.":a==="unavailable"&&(i="The service is unavailable");const l=new Error(a+" at "+t._path.toString()+": "+i);return l.code=a.toUpperCase(),l}const ww=new RegExp("^-?(0*)\\d{1,10}$"),Aw=-2147483648,Nw=2147483647,ey=function(a){if(ww.test(a)){const t=Number(a);if(t>=Aw&&t<=Nw)return t}return null},ma=function(a){try{a()}catch(t){setTimeout(()=>{const i=t.stack||"";throw pt("Exception was thrown by user callback.",i),t},Math.floor(0))}},xw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},vl=function(a,t){const i=setTimeout(a,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,en(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(l=>this.appCheck=l)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,l)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){var i;(i=this.appCheckProvider)==null||i.get().then(l=>l.addTokenListener(t))}notifyForInvalidToken(){pt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,i,l){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,l)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pt(t)}}class yo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}yo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="5",Ov="v",Dv="s",Mv="r",Iv="f",kv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Lv="ls",Uv="p",$f="ac",zv="websocket",jv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(t,i,l,o,u=!1,h="",m=!1,g=!1,p=null){this.secure=i,this.namespace=l,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=g,this.emulatorOptions=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ji.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ji.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function Dw(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function Bv(a,t,i){z(typeof t=="string","typeof type must == string"),z(typeof i=="object","typeof params must == object");let l;if(t===zv)l=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(t===jv)l=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Dw(a)&&(i.ns=a.namespace);const o=[];return ut(i,(u,h)=>{o.push(u+"="+h)}),l+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.counters_={}}incrementCounter(t,i=1){dn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return O1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf={},zf={};function Ih(a){const t=a.toString();return Uf[t]||(Uf[t]=new Mw),Uf[t]}function Iw(a,t){const i=a.toString();return zf[i]||(zf[i]=t()),zf[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<l.length;++o)l[o]&&ma(()=>{this.onMessage_(l[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="start",Lw="close",Uw="pLPCommand",zw="pRTLPCB",qv="id",Vv="pw",Gv="ser",jw="cb",Hw="seg",Bw="ts",qw="d",Vw="dframe",Pv=1870,Yv=30,Gw=Pv-Yv,Pw=25e3,Yw=3e4;class Xs{constructor(t,i,l,o,u,h,m){this.connId=t,this.repoInfo=i,this.applicationId=l,this.appCheckToken=o,this.authToken=u,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ql(t),this.stats_=Ih(i),this.urlFn=g=>(this.appCheckToken&&(g[$f]=this.appCheckToken),Bv(i,jv,g))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new kw(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Yw)),bw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kh((...u)=>{const[h,m,g,p,b]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===ty)this.id=m,this.password=g;else if(h===Lw)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...u)=>{const[h,m]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const l={};l[ty]="t",l[Gv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[jw]=this.scriptTagHolder.uniqueCallbackIdentifier),l[Ov]=Mh,this.transportSessionId&&(l[Dv]=this.transportSessionId),this.lastSessionId&&(l[Lv]=this.lastSessionId),this.applicationId&&(l[Uv]=this.applicationId),this.appCheckToken&&(l[$f]=this.appCheckToken),typeof location<"u"&&location.hostname&&kv.test(location.hostname)&&(l[Mv]=Iv);const o=this.urlFn(l);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xs.forceAllow_=!0}static forceDisallow(){Xs.forceDisallow_=!0}static isAvailable(){return Xs.forceAllow_?!0:!Xs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ew()&&!Tw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=Ze(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=ky(i),o=xv(l,Gw);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const l={};l[Vw]="t",l[qv]=t,l[Vv]=i,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=Ze(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class kh{constructor(t,i,l,o){this.onDisconnect=l,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_w(),window[Uw+this.uniqueCallbackIdentifier]=t,window[zw+this.uniqueCallbackIdentifier]=i,this.myIFrame=kh.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){ct("frame writing exception"),m.stack&&ct(m.stack),ct(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ct("No IE domain setting required")}catch{const l=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[qv]=this.myID,t[Vv]=this.myPW,t[Gv]=this.currentSerial;let i=this.urlFn(t),l="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Yv+l.length<=Pv;){const h=this.pendingSegs.shift();l=l+"&"+Hw+o+"="+h.seg+"&"+Bw+o+"="+h.ts+"&"+qw+o+"="+h.d,o++}return i=i+l,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,l){this.pendingSegs.push({seg:t,ts:i,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const l=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(l,Math.floor(Pw)),u=()=>{clearTimeout(o),l()};this.addTag(t,u)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=t,l.onload=l.onreadystatechange=function(){const o=l.readyState;(!o||o==="loaded"||o==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),i())},l.onerror=()=>{ct("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=16384,Fw=45e3;let Ro=null;typeof MozWebSocket<"u"?Ro=MozWebSocket:typeof WebSocket<"u"&&(Ro=WebSocket);class tn{constructor(t,i,l,o,u,h,m){this.connId=t,this.applicationId=l,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ql(this.connId),this.stats_=Ih(i),this.connURL=tn.connectionURL_(i,h,m,o,l),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,l,o,u){const h={};return h[Ov]=Mh,typeof location<"u"&&location.hostname&&kv.test(location.hostname)&&(h[Mv]=Iv),i&&(h[Dv]=i),l&&(h[Lv]=l),o&&(h[$f]=o),u&&(h[Uv]=u),Bv(t,zv,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ji.set("previous_websocket_failure",!0);try{let l;G1(),this.mySock=new Ro(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){tn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(i);l&&l.length>1&&parseFloat(l[1])<4.4&&(t=!0)}return!t&&Ro!==null&&!tn.forceDisallow_}static previouslyFailed(){return Ji.isInMemoryStorage||Ji.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ji.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const l=Tl(i);this.onMessage(l)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(z(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const l=this.extractFrameCount_(i);l!==null&&this.appendFrame_(l)}}send(t){this.resetKeepAlive();const i=Ze(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=xv(i,Qw);l.length>1&&this.sendString_(String(l.length));for(let o=0;o<l.length;o++)this.sendString_(l[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Fw))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tn.responsesRequiredToBeHealthy=2;tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{static get ALL_TRANSPORTS(){return[Xs,tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=tn&&tn.isAvailable();let l=i&&!tn.previouslyFailed();if(t.webSocketOnly&&(i||pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[tn];else{const o=this.transports_=[];for(const u of Al.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Al.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Al.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=6e4,Xw=5e3,Ww=10*1024,Zw=100*1024,jf="t",ny="d",Jw="s",iy="r",$w="e",sy="o",ay="a",ly="n",ry="p",eA="h";class tA{constructor(t,i,l,o,u,h,m,g,p,b){this.id=t,this.repoInfo_=i,this.applicationId_=l,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ql("c:"+this.id+":"),this.transportManager_=new Al(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,l)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=vl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Zw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ww?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(jf in t){const i=t[jf];i===ay?this.upgradeIfSecondaryHealthy_():i===iy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===sy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=hl("t",t),l=hl("d",t);if(i==="c")this.onSecondaryControl_(l);else if(i==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ry,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ay,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ly,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=hl("t",t),l=hl("d",t);i==="c"?this.onControl_(l):i==="d"&&this.onDataMessage_(l)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=hl(jf,t);if(ny in t){const l=t[ny];if(i===eA){const o={...l};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===ly){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===Jw?this.onConnectionShutdown_(l):i===iy?this.onReset_(l):i===$w?Jf("Server Error: "+l):i===sy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Jf("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,l=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Mh!==l&&pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,l),vl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Kw))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Xw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ry,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ji.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{put(t,i,l,o){}merge(t,i,l,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,l){}onDisconnectMerge(t,i,l){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t){this.allowedEvents_=t,this.listeners_={},z(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const l=[...this.listeners_[t]];for(let o=0;o<l.length;o++)l[o].callback.apply(l[o].context,i)}}on(t,i,l){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:l});const o=this.getInitialEvent(t);o&&i.apply(l,o)}off(t,i,l){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!l||l===o[u].context)){o.splice(u,1);return}}validateEventType_(t){z(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends Fv{static getInstance(){return new Oo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!gh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return z(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy=32,cy=768;class xe{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let l=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[l]=this.pieces_[o],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function ye(){return new xe("")}function se(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function wi(a){return a.pieces_.length-a.pieceNum_}function ke(a){let t=a.pieceNum_;return t<a.pieces_.length&&t++,new xe(a.pieces_,t)}function Lh(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function nA(a){let t="";for(let i=a.pieceNum_;i<a.pieces_.length;i++)a.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(a.pieces_[i])));return t||"/"}function Nl(a,t=0){return a.pieces_.slice(a.pieceNum_+t)}function Kv(a){if(a.pieceNum_>=a.pieces_.length)return null;const t=[];for(let i=a.pieceNum_;i<a.pieces_.length-1;i++)t.push(a.pieces_[i]);return new xe(t,0)}function Be(a,t){const i=[];for(let l=a.pieceNum_;l<a.pieces_.length;l++)i.push(a.pieces_[l]);if(t instanceof xe)for(let l=t.pieceNum_;l<t.pieces_.length;l++)i.push(t.pieces_[l]);else{const l=t.split("/");for(let o=0;o<l.length;o++)l[o].length>0&&i.push(l[o])}return new xe(i,0)}function ce(a){return a.pieceNum_>=a.pieces_.length}function mt(a,t){const i=se(a),l=se(t);if(i===null)return t;if(i===l)return mt(ke(a),ke(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+a+")")}function iA(a,t){const i=Nl(a,0),l=Nl(t,0);for(let o=0;o<i.length&&o<l.length;o++){const u=ls(i[o],l[o]);if(u!==0)return u}return i.length===l.length?0:i.length<l.length?-1:1}function Uh(a,t){if(wi(a)!==wi(t))return!1;for(let i=a.pieceNum_,l=t.pieceNum_;i<=a.pieces_.length;i++,l++)if(a.pieces_[i]!==t.pieces_[l])return!1;return!0}function Kt(a,t){let i=a.pieceNum_,l=t.pieceNum_;if(wi(a)>wi(t))return!1;for(;i<a.pieces_.length;){if(a.pieces_[i]!==t.pieces_[l])return!1;++i,++l}return!0}class sA{constructor(t,i){this.errorPrefix_=i,this.parts_=Nl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=Go(this.parts_[l]);Xv(this)}}function aA(a,t){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(t),a.byteLength_+=Go(t),Xv(a)}function lA(a){const t=a.parts_.pop();a.byteLength_-=Go(t),a.parts_.length>0&&(a.byteLength_-=1)}function Xv(a){if(a.byteLength_>cy)throw new Error(a.errorPrefix_+"has a key path longer than "+cy+" bytes ("+a.byteLength_+").");if(a.parts_.length>oy)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+oy+") or object contains a cycle "+Wi(a))}function Wi(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends Fv{static getInstance(){return new zh}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const l=!document[t];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(t){return z(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=1e3,rA=300*1e3,uy=30*1e3,oA=1.3,cA=3e4,uA="server_kill",fy=3;class jn extends Qv{constructor(t,i,l,o,u,h,m,g){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=l,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=g,this.id=jn.nextPersistentConnectionId_++,this.log_=ql("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=dl,this.maxReconnectDelay_=rA,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Oo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,l){const o=++this.requestNumber_,u={r:o,a:t,b:i};this.log_(Ze(u)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),l&&(this.requestCBHash_[o]=l)}get(t){this.initConnection_();const i=new Ll,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(t,i,l,o){this.initConnection_();const u=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:l};this.listens.get(h).set(u,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,l=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(l)})}sendListen_(t){const i=t.query,l=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+l+" for "+o);const u={p:l},h="q";t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(h,u,m=>{const g=m.d,p=m.s;jn.warnOnListenWarnings_(g,i),(this.listens.get(l)&&this.listens.get(l).get(o))===t&&(this.log_("listen response",m),p!=="ok"&&this.removeListen_(l,o),t.onComplete&&t.onComplete(p,g))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&dn(t,"w")){const l=ta(t,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||W1(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=uy)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=X1(t)?"auth":"gauth",l={cred:t};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(i,l,o=>{const u=o.s,h=o.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,l=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,l)})}unlisten(t,i){const l=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+l+" "+o),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,o)&&this.connected_&&this.sendUnlisten_(l,o,t._queryObject,i)}sendUnlisten_(t,i,l,o){this.log_("Unlisten on "+t+" for "+i);const u={p:t},h="n";o&&(u.q=l,u.t=o),this.sendRequest(h,u)}onDisconnectPut(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:l})}onDisconnectMerge(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:l})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,l,o){const u={p:i,d:l};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,l,o){this.putInternal("p",t,i,l,o)}merge(t,i,l,o){this.putInternal("m",t,i,l,o)}putInternal(t,i,l,o,u){this.initConnection_();const h={p:i,d:l};u!==void 0&&(h.h=u),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,l=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,l,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,l=>{if(l.s!=="ok"){const u=l.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ze(t));const i=t.r,l=this.requestCBHash_[i];l&&(delete this.requestCBHash_[i],l(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Jf("Unrecognized action received from server: "+Ze(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=dl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=dl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>cA&&(this.reconnectDelay_=dl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*oA)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+jn.nextConnectionId_++,u=this.lastSessionId;let h=!1,m=null;const g=function(){m?m.close():(h=!0,l())},p=function(y){z(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(y)};this.realtime_={close:g,sendRequest:p};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,S]=await Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);h?ct("getToken() completed but was canceled"):(ct("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=S&&S.token,m=new tA(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,l,L=>{pt(L+" ("+this.repoInfo_.toString()+")"),this.interrupt(uA)},u))}catch(y){this.log_("Failed to get token: "+y),h||(this.repoInfo_.nodeAdmin&&pt(y),g())}}}interrupt(t){ct("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ct("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Gf(this.interruptReasons_)&&(this.reconnectDelay_=dl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let l;i?l=i.map(u=>Dh(u)).join("$"):l="default";const o=this.removeListen_(t,l);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const l=new xe(t).toString();let o;if(this.listens.has(l)){const u=this.listens.get(l);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(l)}else o=void 0;return o}onAuthRevoked_(t,i){ct("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fy&&(this.reconnectDelay_=uy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){ct("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+wv.replace(/\./g,"-")]=1,gh()?t["framework.cordova"]=1:qy()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Oo.getInstance().currentlyOnline();return Gf(this.interruptReasons_)&&t}}jn.nextPersistentConnectionId_=0;jn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new ae(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const l=new ae(sa,t),o=new ae(sa,i);return this.compare(l,o)!==0}minPost(){return ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo;class Wv extends Fo{static get __EMPTY_NODE(){return fo}static set __EMPTY_NODE(t){fo=t}compare(t,i){return ls(t.name,i.name)}isDefinedOn(t){throw ca("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return ae.MIN}maxPost(){return new ae(is,fo)}makePost(t,i){return z(typeof t=="string","KeyIndex indexValue must always be a string."),new ae(t,fo)}toString(){return".key"}}const ea=new Wv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t,i,l,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?l(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class nt{constructor(t,i,l,o,u){this.key=t,this.value=i,this.color=l??nt.RED,this.left=o??wt.EMPTY_NODE,this.right=u??wt.EMPTY_NODE}copy(t,i,l,o,u){return new nt(t??this.key,i??this.value,l??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,l){let o=this;const u=l(t,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(t,i,l),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,l)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return wt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let l,o;if(l=this,i(t,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),i(t,l.key)===0){if(l.right.isEmpty())return wt.EMPTY_NODE;o=l.right.min_(),l=l.copy(o.key,o.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}nt.RED=!0;nt.BLACK=!1;class fA{copy(t,i,l,o,u){return this}insert(t,i,l){return new nt(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class wt{constructor(t,i=wt.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new wt(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,nt.BLACK,null,null))}remove(t){return new wt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,nt.BLACK,null,null))}get(t){let i,l=this.root_;for(;!l.isEmpty();){if(i=this.comparator_(t,l.key),i===0)return l.value;i<0?l=l.left:i>0&&(l=l.right)}return null}getPredecessorKey(t){let i,l=this.root_,o=null;for(;!l.isEmpty();)if(i=this.comparator_(t,l.key),i===0){if(l.left.isEmpty())return o?o.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else i<0?l=l.left:i>0&&(o=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ho(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new ho(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new ho(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new ho(this.root_,null,this.comparator_,!0,t)}}wt.EMPTY_NODE=new fA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(a,t){return ls(a.name,t.name)}function jh(a,t){return ls(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh;function dA(a){eh=a}const Zv=function(a){return typeof a=="number"?"number:"+Rv(a):"string:"+a},Jv=function(a){if(a.isLeafNode()){const t=a.val();z(typeof t=="string"||typeof t=="number"||typeof t=="object"&&dn(t,".sv"),"Priority must be a string or number.")}else z(a===eh||a.isEmpty(),"priority of unexpected type.");z(a===eh||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hy;class tt{static set __childrenNodeConstructor(t){hy=t}static get __childrenNodeConstructor(){return hy}constructor(t,i=tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Jv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new tt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ce(t)?this:se(t)===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const l=se(t);return l===null?i:i.isEmpty()&&l!==".priority"?this:(z(l!==".priority"||wi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Zv(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=Rv(this.value_):t+=this.value_,this.lazyHash_=Nv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===tt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof tt.__childrenNodeConstructor?-1:(z(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,l=typeof this.value_,o=tt.VALUE_TYPE_ORDER.indexOf(i),u=tt.VALUE_TYPE_ORDER.indexOf(l);return z(o>=0,"Unknown leaf type: "+i),z(u>=0,"Unknown leaf type: "+l),o===u?l==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $v,e0;function mA(a){$v=a}function pA(a){e0=a}class gA extends Fo{compare(t,i){const l=t.node.getPriority(),o=i.node.getPriority(),u=l.compareTo(o);return u===0?ls(t.name,i.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return ae.MIN}maxPost(){return new ae(is,new tt("[PRIORITY-POST]",e0))}makePost(t,i){const l=$v(t);return new ae(i,new tt("[PRIORITY-POST]",l))}toString(){return".priority"}}const qe=new gA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=Math.log(2);class yA{constructor(t){const i=u=>parseInt(Math.log(u)/_A,10),l=u=>parseInt(Array(u+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=l(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Do=function(a,t,i,l){a.sort(t);const o=function(g,p){const b=p-g;let y,S;if(b===0)return null;if(b===1)return y=a[g],S=i?i(y):y,new nt(S,y.node,nt.BLACK,null,null);{const L=parseInt(b/2,10)+g,O=o(g,L),B=o(L+1,p);return y=a[L],S=i?i(y):y,new nt(S,y.node,nt.BLACK,O,B)}},u=function(g){let p=null,b=null,y=a.length;const S=function(O,B){const ie=y-O,me=y;y-=O;const Re=o(ie+1,me),J=a[ie],pe=i?i(J):J;L(new nt(pe,J.node,B,null,Re))},L=function(O){p?(p.left=O,p=O):(b=O,p=O)};for(let O=0;O<g.count;++O){const B=g.nextBitIsOne(),ie=Math.pow(2,g.count-(O+1));B?S(ie,nt.BLACK):(S(ie,nt.BLACK),S(ie,nt.RED))}return b},h=new yA(a.length),m=u(h);return new wt(l||t,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf;const Qs={};class zn{static get Default(){return z(Qs&&qe,"ChildrenNode.ts has not been loaded"),Hf=Hf||new zn({".priority":Qs},{".priority":qe}),Hf}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=ta(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof wt?i:null}hasIndex(t){return dn(this.indexSet_,t.toString())}addIndex(t,i){z(t!==ea,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let o=!1;const u=i.getIterator(ae.Wrap);let h=u.getNext();for(;h;)o=o||t.isDefinedOn(h.node),l.push(h),h=u.getNext();let m;o?m=Do(l,t.getCompare()):m=Qs;const g=t.toString(),p={...this.indexSet_};p[g]=t;const b={...this.indexes_};return b[g]=m,new zn(b,p)}addToIndexes(t,i){const l=So(this.indexes_,(o,u)=>{const h=ta(this.indexSet_,u);if(z(h,"Missing index implementation for "+u),o===Qs)if(h.isDefinedOn(t.node)){const m=[],g=i.getIterator(ae.Wrap);let p=g.getNext();for(;p;)p.name!==t.name&&m.push(p),p=g.getNext();return m.push(t),Do(m,h.getCompare())}else return Qs;else{const m=i.get(t.name);let g=o;return m&&(g=g.remove(new ae(t.name,m))),g.insert(t,t.node)}});return new zn(l,this.indexSet_)}removeFromIndexes(t,i){const l=So(this.indexes_,o=>{if(o===Qs)return o;{const u=i.get(t.name);return u?o.remove(new ae(t.name,u)):o}});return new zn(l,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml;class X{static get EMPTY_NODE(){return ml||(ml=new X(new wt(jh),null,zn.Default))}constructor(t,i,l){this.children_=t,this.priorityNode_=i,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&Jv(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ml}updatePriority(t){return this.children_.isEmpty()?this:new X(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?ml:i}}getChild(t){const i=se(t);return i===null?this:this.getImmediateChild(i).getChild(ke(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(z(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const l=new ae(t,i);let o,u;i.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(l,this.children_)):(o=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(l,this.children_));const h=o.isEmpty()?ml:this.priorityNode_;return new X(o,h,u)}}updateChild(t,i){const l=se(t);if(l===null)return i;{z(se(t)!==".priority"||wi(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(l).updateChild(ke(t),i);return this.updateImmediateChild(l,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let l=0,o=0,u=!0;if(this.forEachChild(qe,(h,m)=>{i[h]=m.val(t),l++,u&&X.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):u=!1}),!t&&u&&o<2*l){const h=[];for(const m in i)h[m]=i[m];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Zv(this.getPriority().val())+":"),this.forEachChild(qe,(i,l)=>{const o=l.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":Nv(t)}return this.lazyHash_}getPredecessorChildName(t,i,l){const o=this.resolveIndex_(l);if(o){const u=o.getPredecessorKey(new ae(t,i));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new ae(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new ae(i,this.children_.get(i)):null}forEachChild(t,i){const l=this.resolveIndex_(t);return l?l.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,ae.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,ae.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)>0;)o.getNext(),u=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Vl?-1:0}withIndex(t){if(t===ea||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new X(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ea||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const l=this.getIterator(qe),o=i.getIterator(qe);let u=l.getNext(),h=o.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=l.getNext(),h=o.getNext()}return u===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===ea?null:this.indexMap_.get(t.toString())}}X.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vA extends X{constructor(){super(new wt(jh),X.EMPTY_NODE,zn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return X.EMPTY_NODE}isEmpty(){return!1}}const Vl=new vA;Object.defineProperties(ae,{MIN:{value:new ae(sa,X.EMPTY_NODE)},MAX:{value:new ae(is,Vl)}});Wv.__EMPTY_NODE=X.EMPTY_NODE;tt.__childrenNodeConstructor=X;dA(Vl);pA(Vl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=!0;function We(a,t=null){if(a===null)return X.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(t=a[".priority"]),z(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const i=a;return new tt(i,We(t))}if(!(a instanceof Array)&&bA){const i=[];let l=!1;if(ut(a,(h,m)=>{if(h.substring(0,1)!=="."){const g=We(m);g.isEmpty()||(l=l||!g.getPriority().isEmpty(),i.push(new ae(h,g)))}}),i.length===0)return X.EMPTY_NODE;const u=Do(i,hA,h=>h.name,jh);if(l){const h=Do(i,qe.getCompare());return new X(u,We(t),new zn({".priority":h},{".priority":qe}))}else return new X(u,We(t),zn.Default)}else{let i=X.EMPTY_NODE;return ut(a,(l,o)=>{if(dn(a,l)&&l.substring(0,1)!=="."){const u=We(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(l,u))}}),i.updatePriority(We(t))}}mA(We);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA extends Fo{constructor(t){super(),this.indexPath_=t,z(!ce(t)&&se(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const l=this.extractChild(t.node),o=this.extractChild(i.node),u=l.compareTo(o);return u===0?ls(t.name,i.name):u}makePost(t,i){const l=We(t),o=X.EMPTY_NODE.updateChild(this.indexPath_,l);return new ae(i,o)}maxPost(){const t=X.EMPTY_NODE.updateChild(this.indexPath_,Vl);return new ae(is,t)}toString(){return Nl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA extends Fo{compare(t,i){const l=t.node.compareTo(i.node);return l===0?ls(t.name,i.name):l}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return ae.MIN}maxPost(){return ae.MAX}makePost(t,i){const l=We(t);return new ae(i,l)}toString(){return".value"}}const TA=new EA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(a){return{type:"value",snapshotNode:a}}function aa(a,t){return{type:"child_added",snapshotNode:t,childName:a}}function xl(a,t){return{type:"child_removed",snapshotNode:t,childName:a}}function Rl(a,t,i){return{type:"child_changed",snapshotNode:t,childName:a,oldSnap:i}}function CA(a,t){return{type:"child_moved",snapshotNode:t,childName:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t){this.index_=t}updateChild(t,i,l,o,u,h){z(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(i);return m.getChild(o).equals(l.getChild(o))&&m.isEmpty()===l.isEmpty()||(h!=null&&(l.isEmpty()?t.hasChild(i)?h.trackChildChange(xl(i,m)):z(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(aa(i,l)):h.trackChildChange(Rl(i,l,m))),t.isLeafNode()&&l.isEmpty())?t:t.updateImmediateChild(i,l).withIndex(this.index_)}updateFullNode(t,i,l){return l!=null&&(t.isLeafNode()||t.forEachChild(qe,(o,u)=>{i.hasChild(o)||l.trackChildChange(xl(o,u))}),i.isLeafNode()||i.forEachChild(qe,(o,u)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(u)||l.trackChildChange(Rl(o,u,h))}else l.trackChildChange(aa(o,u))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?X.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t){this.indexedFilter_=new Hh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ol.getStartPost_(t),this.endPost_=Ol.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,l=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&l}updateChild(t,i,l,o,u,h){return this.matches(new ae(i,l))||(l=X.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,l,o,u,h)}updateFullNode(t,i,l){i.isLeafNode()&&(i=X.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(X.EMPTY_NODE);const u=this;return i.forEachChild(qe,(h,m)=>{u.matches(new ae(h,m))||(o=o.updateImmediateChild(h,X.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=i=>{const l=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new Ol(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,l,o,u,h){return this.rangedFilter_.matches(new ae(i,l))||(l=X.EMPTY_NODE),t.getImmediateChild(i).equals(l)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,l,o,u,h):this.fullLimitUpdateChild_(t,i,l,u,h)}updateFullNode(t,i,l){let o;if(i.isLeafNode()||i.isEmpty())o=X.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=X.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const m=u.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(X.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let h=0;for(;u.hasNext();){const m=u.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:o=o.updateImmediateChild(m.name,X.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,l,o,u){let h;if(this.reverse_){const y=this.index_.getCompare();h=(S,L)=>y(L,S)}else h=this.index_.getCompare();const m=t;z(m.numChildren()===this.limit_,"");const g=new ae(i,l),p=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),b=this.rangedFilter_.matches(g);if(m.hasChild(i)){const y=m.getImmediateChild(i);let S=o.getChildAfterChild(this.index_,p,this.reverse_);for(;S!=null&&(S.name===i||m.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const L=S==null?1:h(S,g);if(b&&!l.isEmpty()&&L>=0)return u!=null&&u.trackChildChange(Rl(i,l,y)),m.updateImmediateChild(i,l);{u!=null&&u.trackChildChange(xl(i,y));const B=m.updateImmediateChild(i,X.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(u!=null&&u.trackChildChange(aa(S.name,S.node)),B.updateImmediateChild(S.name,S.node)):B}}else return l.isEmpty()?t:b&&h(p,g)>=0?(u!=null&&(u.trackChildChange(xl(p.name,p.node)),u.trackChildChange(aa(i,l))),m.updateImmediateChild(i,l).updateImmediateChild(p.name,X.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sa}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:is}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qe}copy(){const t=new Bh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function AA(a){return a.loadsAllData()?new Hh(a.getIndex()):a.hasLimit()?new wA(a):new Ol(a)}function dy(a){const t={};if(a.isDefault())return t;let i;if(a.index_===qe?i="$priority":a.index_===TA?i="$value":a.index_===ea?i="$key":(z(a.index_ instanceof SA,"Unrecognized index type!"),i=a.index_.toString()),t.orderBy=Ze(i),a.startSet_){const l=a.startAfterSet_?"startAfter":"startAt";t[l]=Ze(a.indexStartValue_),a.startNameSet_&&(t[l]+=","+Ze(a.indexStartName_))}if(a.endSet_){const l=a.endBeforeSet_?"endBefore":"endAt";t[l]=Ze(a.indexEndValue_),a.endNameSet_&&(t[l]+=","+Ze(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?t.limitToFirst=a.limit_:t.limitToLast=a.limit_),t}function my(a){const t={};if(a.startSet_&&(t.sp=a.indexStartValue_,a.startNameSet_&&(t.sn=a.indexStartName_),t.sin=!a.startAfterSet_),a.endSet_&&(t.ep=a.indexEndValue_,a.endNameSet_&&(t.en=a.indexEndName_),t.ein=!a.endBeforeSet_),a.limitSet_){t.l=a.limit_;let i=a.viewFrom_;i===""&&(a.isViewFromLeft()?i="l":i="r"),t.vf=i}return a.index_!==qe&&(t.i=a.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends Qv{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(z(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,l,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.log_=ql("p:rest:"),this.listens_={}}listen(t,i,l,o){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const h=Mo.getListenId_(t,l),m={};this.listens_[h]=m;const g=dy(t._queryParams);this.restRequest_(u+".json",g,(p,b)=>{let y=b;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(u,y,!1,l),ta(this.listens_,h)===m){let S;p?p===401?S="permission_denied":S="rest_error:"+p:S="ok",o(S,null)}})}unlisten(t,i){const l=Mo.getListenId_(t,i);delete this.listens_[l]}get(t){const i=dy(t._queryParams),l=t._path.toString(),o=new Ll;return this.restRequest_(l+".json",i,(u,h)=>{let m=h;u===404&&(m=null,u=null),u===null?(this.onDataUpdate_(l,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},l){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+fa(i);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(l&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let g=null;if(m.status>=200&&m.status<300){try{g=Tl(m.responseText)}catch{pt("Failed to parse JSON response for "+h+": "+m.responseText)}l(null,g)}else m.status!==401&&m.status!==404&&pt("Got unsuccessful REST response for "+h+" Status: "+m.status),l(m.status);l=null}},m.open("GET",h,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.rootNode_=X.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(){return{value:null,children:new Map}}function n0(a,t,i){if(ce(t))a.value=i,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(t,i);else{const l=se(t);a.children.has(l)||a.children.set(l,Io());const o=a.children.get(l);t=ke(t),n0(o,t,i)}}function th(a,t,i){a.value!==null?i(t,a.value):xA(a,(l,o)=>{const u=new xe(t.toString()+"/"+l);th(o,u,i)})}function xA(a,t){a.children.forEach((i,l)=>{t(l,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&ut(this.last_,(l,o)=>{i[l]=i[l]-o}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=10*1e3,OA=30*1e3,DA=300*1e3;class MA{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new RA(t);const l=py+(OA-py)*Math.random();vl(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const t=this.statsListener_.get(),i={};let l=!1;ut(t,(o,u)=>{u>0&&dn(this.statsToReport_,o)&&(i[o]=u,l=!0)}),l&&this.server_.reportStats(i),vl(this.reportStats_.bind(this),Math.floor(Math.random()*2*DA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sn||(sn={}));function qh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Vh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Gh(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t,i,l){this.path=t,this.affectedTree=i,this.revert=l,this.type=sn.ACK_USER_WRITE,this.source=qh()}operationForChild(t){if(ce(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new xe(t));return new ko(ye(),i,this.revert)}}else return z(se(this.path)===t,"operationForChild called for unrelated child."),new ko(ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,i){this.source=t,this.path=i,this.type=sn.LISTEN_COMPLETE}operationForChild(t){return ce(this.path)?new Dl(this.source,ye()):new Dl(this.source,ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,i,l){this.source=t,this.path=i,this.snap=l,this.type=sn.OVERWRITE}operationForChild(t){return ce(this.path)?new ss(this.source,ye(),this.snap.getImmediateChild(t)):new ss(this.source,ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,i,l){this.source=t,this.path=i,this.children=l,this.type=sn.MERGE}operationForChild(t){if(ce(this.path)){const i=this.children.subtree(new xe(t));return i.isEmpty()?null:i.value?new ss(this.source,ye(),i.value):new la(this.source,ye(),i)}else return z(se(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new la(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t,i,l){this.node_=t,this.fullyInitialized_=i,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ce(t))return this.isFullyInitialized()&&!this.filtered_;const i=se(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function kA(a,t,i,l){const o=[],u=[];return t.forEach(h=>{h.type==="child_changed"&&a.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(CA(h.childName,h.snapshotNode))}),pl(a,o,"child_removed",t,l,i),pl(a,o,"child_added",t,l,i),pl(a,o,"child_moved",u,l,i),pl(a,o,"child_changed",t,l,i),pl(a,o,"value",t,l,i),o}function pl(a,t,i,l,o,u){const h=l.filter(m=>m.type===i);h.sort((m,g)=>UA(a,m,g)),h.forEach(m=>{const g=LA(a,m,u);o.forEach(p=>{p.respondsTo(m.type)&&t.push(p.createEvent(g,a.query_))})})}function LA(a,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,a.index_)),t}function UA(a,t,i){if(t.childName==null||i.childName==null)throw ca("Should only compare child_ events.");const l=new ae(t.childName,t.snapshotNode),o=new ae(i.childName,i.snapshotNode);return a.index_.compare(l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(a,t){return{eventCache:a,serverCache:t}}function bl(a,t,i,l){return Ko(new Ai(t,i,l),a.serverCache)}function i0(a,t,i,l){return Ko(a.eventCache,new Ai(t,i,l))}function Lo(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function as(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bf;const zA=()=>(Bf||(Bf=new wt(Sw)),Bf);class Ie{static fromObject(t){let i=new Ie(null);return ut(t,(l,o)=>{i=i.set(new xe(l),o)}),i}constructor(t,i=zA()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:ye(),value:this.value};if(ce(t))return null;{const l=se(t),o=this.children.get(l);if(o!==null){const u=o.findRootMostMatchingPathAndValue(ke(t),i);return u!=null?{path:Be(new xe(l),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ce(t))return this;{const i=se(t),l=this.children.get(i);return l!==null?l.subtree(ke(t)):new Ie(null)}}set(t,i){if(ce(t))return new Ie(i,this.children);{const l=se(t),u=(this.children.get(l)||new Ie(null)).set(ke(t),i),h=this.children.insert(l,u);return new Ie(this.value,h)}}remove(t){if(ce(t))return this.children.isEmpty()?new Ie(null):new Ie(null,this.children);{const i=se(t),l=this.children.get(i);if(l){const o=l.remove(ke(t));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Ie(null):new Ie(this.value,u)}else return this}}get(t){if(ce(t))return this.value;{const i=se(t),l=this.children.get(i);return l?l.get(ke(t)):null}}setTree(t,i){if(ce(t))return i;{const l=se(t),u=(this.children.get(l)||new Ie(null)).setTree(ke(t),i);let h;return u.isEmpty()?h=this.children.remove(l):h=this.children.insert(l,u),new Ie(this.value,h)}}fold(t){return this.fold_(ye(),t)}fold_(t,i){const l={};return this.children.inorderTraversal((o,u)=>{l[o]=u.fold_(Be(t,o),i)}),i(t,this.value,l)}findOnPath(t,i){return this.findOnPath_(t,ye(),i)}findOnPath_(t,i,l){const o=this.value?l(i,this.value):!1;if(o)return o;if(ce(t))return null;{const u=se(t),h=this.children.get(u);return h?h.findOnPath_(ke(t),Be(i,u),l):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,ye(),i)}foreachOnPath_(t,i,l){if(ce(t))return this;{this.value&&l(i,this.value);const o=se(t),u=this.children.get(o);return u?u.foreachOnPath_(ke(t),Be(i,o),l):new Ie(null)}}foreach(t){this.foreach_(ye(),t)}foreach_(t,i){this.children.inorderTraversal((l,o)=>{o.foreach_(Be(t,l),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,l)=>{l.value&&t(i,l.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.writeTree_=t}static empty(){return new ln(new Ie(null))}}function Sl(a,t,i){if(ce(t))return new ln(new Ie(i));{const l=a.writeTree_.findRootMostValueAndPath(t);if(l!=null){const o=l.path;let u=l.value;const h=mt(o,t);return u=u.updateChild(h,i),new ln(a.writeTree_.set(o,u))}else{const o=new Ie(i),u=a.writeTree_.setTree(t,o);return new ln(u)}}}function nh(a,t,i){let l=a;return ut(i,(o,u)=>{l=Sl(l,Be(t,o),u)}),l}function gy(a,t){if(ce(t))return ln.empty();{const i=a.writeTree_.setTree(t,new Ie(null));return new ln(i)}}function ih(a,t){return rs(a,t)!=null}function rs(a,t){const i=a.writeTree_.findRootMostValueAndPath(t);return i!=null?a.writeTree_.get(i.path).getChild(mt(i.path,t)):null}function _y(a){const t=[],i=a.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(qe,(l,o)=>{t.push(new ae(l,o))}):a.writeTree_.children.inorderTraversal((l,o)=>{o.value!=null&&t.push(new ae(l,o.value))}),t}function Ti(a,t){if(ce(t))return a;{const i=rs(a,t);return i!=null?new ln(new Ie(i)):new ln(a.writeTree_.subtree(t))}}function sh(a){return a.writeTree_.isEmpty()}function ra(a,t){return s0(ye(),a.writeTree_,t)}function s0(a,t,i){if(t.value!=null)return i.updateChild(a,t.value);{let l=null;return t.children.inorderTraversal((o,u)=>{o===".priority"?(z(u.value!==null,"Priority writes must always be leaf nodes"),l=u.value):i=s0(Be(a,o),u,i)}),!i.getChild(a).isEmpty()&&l!==null&&(i=i.updateChild(Be(a,".priority"),l)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(a,t){return o0(t,a)}function jA(a,t,i,l,o){z(l>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:t,snap:i,writeId:l,visible:o}),o&&(a.visibleWrites=Sl(a.visibleWrites,t,i)),a.lastWriteId=l}function HA(a,t,i,l){z(l>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:t,children:i,writeId:l,visible:!0}),a.visibleWrites=nh(a.visibleWrites,t,i),a.lastWriteId=l}function BA(a,t){for(let i=0;i<a.allWrites.length;i++){const l=a.allWrites[i];if(l.writeId===t)return l}return null}function qA(a,t){const i=a.allWrites.findIndex(m=>m.writeId===t);z(i>=0,"removeWrite called with nonexistent writeId.");const l=a.allWrites[i];a.allWrites.splice(i,1);let o=l.visible,u=!1,h=a.allWrites.length-1;for(;o&&h>=0;){const m=a.allWrites[h];m.visible&&(h>=i&&VA(m,l.path)?o=!1:Kt(l.path,m.path)&&(u=!0)),h--}if(o){if(u)return GA(a),!0;if(l.snap)a.visibleWrites=gy(a.visibleWrites,l.path);else{const m=l.children;ut(m,g=>{a.visibleWrites=gy(a.visibleWrites,Be(l.path,g))})}return!0}else return!1}function VA(a,t){if(a.snap)return Kt(a.path,t);for(const i in a.children)if(a.children.hasOwnProperty(i)&&Kt(Be(a.path,i),t))return!0;return!1}function GA(a){a.visibleWrites=a0(a.allWrites,PA,ye()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function PA(a){return a.visible}function a0(a,t,i){let l=ln.empty();for(let o=0;o<a.length;++o){const u=a[o];if(t(u)){const h=u.path;let m;if(u.snap)Kt(i,h)?(m=mt(i,h),l=Sl(l,m,u.snap)):Kt(h,i)&&(m=mt(h,i),l=Sl(l,ye(),u.snap.getChild(m)));else if(u.children){if(Kt(i,h))m=mt(i,h),l=nh(l,m,u.children);else if(Kt(h,i))if(m=mt(h,i),ce(m))l=nh(l,ye(),u.children);else{const g=ta(u.children,se(m));if(g){const p=g.getChild(ke(m));l=Sl(l,ye(),p)}}}else throw ca("WriteRecord should have .snap or .children")}}return l}function l0(a,t,i,l,o){if(!l&&!o){const u=rs(a.visibleWrites,t);if(u!=null)return u;{const h=Ti(a.visibleWrites,t);if(sh(h))return i;if(i==null&&!ih(h,ye()))return null;{const m=i||X.EMPTY_NODE;return ra(h,m)}}}else{const u=Ti(a.visibleWrites,t);if(!o&&sh(u))return i;if(!o&&i==null&&!ih(u,ye()))return null;{const h=function(p){return(p.visible||o)&&(!l||!~l.indexOf(p.writeId))&&(Kt(p.path,t)||Kt(t,p.path))},m=a0(a.allWrites,h,t),g=i||X.EMPTY_NODE;return ra(m,g)}}}function YA(a,t,i){let l=X.EMPTY_NODE;const o=rs(a.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(qe,(u,h)=>{l=l.updateImmediateChild(u,h)}),l;if(i){const u=Ti(a.visibleWrites,t);return i.forEachChild(qe,(h,m)=>{const g=ra(Ti(u,new xe(h)),m);l=l.updateImmediateChild(h,g)}),_y(u).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}else{const u=Ti(a.visibleWrites,t);return _y(u).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}}function QA(a,t,i,l,o){z(l||o,"Either existingEventSnap or existingServerSnap must exist");const u=Be(t,i);if(ih(a.visibleWrites,u))return null;{const h=Ti(a.visibleWrites,u);return sh(h)?o.getChild(i):ra(h,o.getChild(i))}}function FA(a,t,i,l){const o=Be(t,i),u=rs(a.visibleWrites,o);if(u!=null)return u;if(l.isCompleteForChild(i)){const h=Ti(a.visibleWrites,o);return ra(h,l.getNode().getImmediateChild(i))}else return null}function KA(a,t){return rs(a.visibleWrites,t)}function XA(a,t,i,l,o,u,h){let m;const g=Ti(a.visibleWrites,t),p=rs(g,ye());if(p!=null)m=p;else if(i!=null)m=ra(g,i);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const b=[],y=h.getCompare(),S=u?m.getReverseIteratorFrom(l,h):m.getIteratorFrom(l,h);let L=S.getNext();for(;L&&b.length<o;)y(L,l)!==0&&b.push(L),L=S.getNext();return b}else return[]}function WA(){return{visibleWrites:ln.empty(),allWrites:[],lastWriteId:-1}}function Uo(a,t,i,l){return l0(a.writeTree,a.treePath,t,i,l)}function Ph(a,t){return YA(a.writeTree,a.treePath,t)}function yy(a,t,i,l){return QA(a.writeTree,a.treePath,t,i,l)}function zo(a,t){return KA(a.writeTree,Be(a.treePath,t))}function ZA(a,t,i,l,o,u){return XA(a.writeTree,a.treePath,t,i,l,o,u)}function Yh(a,t,i){return FA(a.writeTree,a.treePath,t,i)}function r0(a,t){return o0(Be(a.treePath,t),a.writeTree)}function o0(a,t){return{treePath:a,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,l=t.childName;z(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),z(l!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(l);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(l,Rl(l,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(l);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(l,xl(l,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(l,aa(l,t.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(l,Rl(l,t.snapshotNode,o.oldSnap));else throw ca("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(l,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{getCompleteChild(t){return null}getChildAfterChild(t,i,l){return null}}const c0=new $A;class Qh{constructor(t,i,l=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=l}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const l=this.optCompleteServerCache_!=null?new Ai(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yh(this.writes_,t,l)}}getChildAfterChild(t,i,l){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:as(this.viewCache_),u=ZA(this.writes_,o,i,1,l,t);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(a){return{filter:a}}function tN(a,t){z(t.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),z(t.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function nN(a,t,i,l,o){const u=new JA;let h,m;if(i.type===sn.OVERWRITE){const p=i;p.source.fromUser?h=ah(a,t,p.path,p.snap,l,o,u):(z(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered()&&!ce(p.path),h=jo(a,t,p.path,p.snap,l,o,m,u))}else if(i.type===sn.MERGE){const p=i;p.source.fromUser?h=sN(a,t,p.path,p.children,l,o,u):(z(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered(),h=lh(a,t,p.path,p.children,l,o,m,u))}else if(i.type===sn.ACK_USER_WRITE){const p=i;p.revert?h=rN(a,t,p.path,l,o,u):h=aN(a,t,p.path,p.affectedTree,l,o,u)}else if(i.type===sn.LISTEN_COMPLETE)h=lN(a,t,i.path,l,u);else throw ca("Unknown operation type: "+i.type);const g=u.getChanges();return iN(t,h,g),{viewCache:h,changes:g}}function iN(a,t,i){const l=t.eventCache;if(l.isFullyInitialized()){const o=l.getNode().isLeafNode()||l.getNode().isEmpty(),u=Lo(a);(i.length>0||!a.eventCache.isFullyInitialized()||o&&!l.getNode().equals(u)||!l.getNode().getPriority().equals(u.getPriority()))&&i.push(t0(Lo(t)))}}function u0(a,t,i,l,o,u){const h=t.eventCache;if(zo(l,i)!=null)return t;{let m,g;if(ce(i))if(z(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=as(t),b=p instanceof X?p:X.EMPTY_NODE,y=Ph(l,b);m=a.filter.updateFullNode(t.eventCache.getNode(),y,u)}else{const p=Uo(l,as(t));m=a.filter.updateFullNode(t.eventCache.getNode(),p,u)}else{const p=se(i);if(p===".priority"){z(wi(i)===1,"Can't have a priority with additional path components");const b=h.getNode();g=t.serverCache.getNode();const y=yy(l,i,b,g);y!=null?m=a.filter.updatePriority(b,y):m=h.getNode()}else{const b=ke(i);let y;if(h.isCompleteForChild(p)){g=t.serverCache.getNode();const S=yy(l,i,h.getNode(),g);S!=null?y=h.getNode().getImmediateChild(p).updateChild(b,S):y=h.getNode().getImmediateChild(p)}else y=Yh(l,p,t.serverCache);y!=null?m=a.filter.updateChild(h.getNode(),p,y,b,o,u):m=h.getNode()}}return bl(t,m,h.isFullyInitialized()||ce(i),a.filter.filtersNodes())}}function jo(a,t,i,l,o,u,h,m){const g=t.serverCache;let p;const b=h?a.filter:a.filter.getIndexedFilter();if(ce(i))p=b.updateFullNode(g.getNode(),l,null);else if(b.filtersNodes()&&!g.isFiltered()){const L=g.getNode().updateChild(i,l);p=b.updateFullNode(g.getNode(),L,null)}else{const L=se(i);if(!g.isCompleteForPath(i)&&wi(i)>1)return t;const O=ke(i),ie=g.getNode().getImmediateChild(L).updateChild(O,l);L===".priority"?p=b.updatePriority(g.getNode(),ie):p=b.updateChild(g.getNode(),L,ie,O,c0,null)}const y=i0(t,p,g.isFullyInitialized()||ce(i),b.filtersNodes()),S=new Qh(o,y,u);return u0(a,y,i,o,S,m)}function ah(a,t,i,l,o,u,h){const m=t.eventCache;let g,p;const b=new Qh(o,t,u);if(ce(i))p=a.filter.updateFullNode(t.eventCache.getNode(),l,h),g=bl(t,p,!0,a.filter.filtersNodes());else{const y=se(i);if(y===".priority")p=a.filter.updatePriority(t.eventCache.getNode(),l),g=bl(t,p,m.isFullyInitialized(),m.isFiltered());else{const S=ke(i),L=m.getNode().getImmediateChild(y);let O;if(ce(S))O=l;else{const B=b.getCompleteChild(y);B!=null?Lh(S)===".priority"&&B.getChild(Kv(S)).isEmpty()?O=B:O=B.updateChild(S,l):O=X.EMPTY_NODE}if(L.equals(O))g=t;else{const B=a.filter.updateChild(m.getNode(),y,O,S,b,h);g=bl(t,B,m.isFullyInitialized(),a.filter.filtersNodes())}}}return g}function vy(a,t){return a.eventCache.isCompleteForChild(t)}function sN(a,t,i,l,o,u,h){let m=t;return l.foreach((g,p)=>{const b=Be(i,g);vy(t,se(b))&&(m=ah(a,m,b,p,o,u,h))}),l.foreach((g,p)=>{const b=Be(i,g);vy(t,se(b))||(m=ah(a,m,b,p,o,u,h))}),m}function by(a,t,i){return i.foreach((l,o)=>{t=t.updateChild(l,o)}),t}function lh(a,t,i,l,o,u,h,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,p;ce(i)?p=l:p=new Ie(null).setTree(i,l);const b=t.serverCache.getNode();return p.children.inorderTraversal((y,S)=>{if(b.hasChild(y)){const L=t.serverCache.getNode().getImmediateChild(y),O=by(a,L,S);g=jo(a,g,new xe(y),O,o,u,h,m)}}),p.children.inorderTraversal((y,S)=>{const L=!t.serverCache.isCompleteForChild(y)&&S.value===null;if(!b.hasChild(y)&&!L){const O=t.serverCache.getNode().getImmediateChild(y),B=by(a,O,S);g=jo(a,g,new xe(y),B,o,u,h,m)}}),g}function aN(a,t,i,l,o,u,h){if(zo(o,i)!=null)return t;const m=t.serverCache.isFiltered(),g=t.serverCache;if(l.value!=null){if(ce(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return jo(a,t,i,g.getNode().getChild(i),o,u,m,h);if(ce(i)){let p=new Ie(null);return g.getNode().forEachChild(ea,(b,y)=>{p=p.set(new xe(b),y)}),lh(a,t,i,p,o,u,m,h)}else return t}else{let p=new Ie(null);return l.foreach((b,y)=>{const S=Be(i,b);g.isCompleteForPath(S)&&(p=p.set(b,g.getNode().getChild(S)))}),lh(a,t,i,p,o,u,m,h)}}function lN(a,t,i,l,o){const u=t.serverCache,h=i0(t,u.getNode(),u.isFullyInitialized()||ce(i),u.isFiltered());return u0(a,h,i,l,c0,o)}function rN(a,t,i,l,o,u){let h;if(zo(l,i)!=null)return t;{const m=new Qh(l,t,o),g=t.eventCache.getNode();let p;if(ce(i)||se(i)===".priority"){let b;if(t.serverCache.isFullyInitialized())b=Uo(l,as(t));else{const y=t.serverCache.getNode();z(y instanceof X,"serverChildren would be complete if leaf node"),b=Ph(l,y)}b=b,p=a.filter.updateFullNode(g,b,u)}else{const b=se(i);let y=Yh(l,b,t.serverCache);y==null&&t.serverCache.isCompleteForChild(b)&&(y=g.getImmediateChild(b)),y!=null?p=a.filter.updateChild(g,b,y,ke(i),m,u):t.eventCache.getNode().hasChild(b)?p=a.filter.updateChild(g,b,X.EMPTY_NODE,ke(i),m,u):p=g,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Uo(l,as(t)),h.isLeafNode()&&(p=a.filter.updateFullNode(p,h,u)))}return h=t.serverCache.isFullyInitialized()||zo(l,ye())!=null,bl(t,p,h,a.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const l=this.query_._queryParams,o=new Hh(l.getIndex()),u=AA(l);this.processor_=eN(u);const h=i.serverCache,m=i.eventCache,g=o.updateFullNode(X.EMPTY_NODE,h.getNode(),null),p=u.updateFullNode(X.EMPTY_NODE,m.getNode(),null),b=new Ai(g,h.isFullyInitialized(),o.filtersNodes()),y=new Ai(p,m.isFullyInitialized(),u.filtersNodes());this.viewCache_=Ko(y,b),this.eventGenerator_=new IA(this.query_)}get query(){return this.query_}}function cN(a){return a.viewCache_.serverCache.getNode()}function uN(a){return Lo(a.viewCache_)}function fN(a,t){const i=as(a.viewCache_);return i&&(a.query._queryParams.loadsAllData()||!ce(t)&&!i.getImmediateChild(se(t)).isEmpty())?i.getChild(t):null}function Sy(a){return a.eventRegistrations_.length===0}function hN(a,t){a.eventRegistrations_.push(t)}function Ey(a,t,i){const l=[];if(i){z(t==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(i,o);h&&l.push(h)})}if(t){let o=[];for(let u=0;u<a.eventRegistrations_.length;++u){const h=a.eventRegistrations_[u];if(!h.matches(t))o.push(h);else if(t.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(u+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return l}function Ty(a,t,i,l){t.type===sn.MERGE&&t.source.queryId!==null&&(z(as(a.viewCache_),"We should always have a full cache before handling merges"),z(Lo(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,u=nN(a.processor_,o,t,i,l);return tN(a.processor_,u.viewCache),z(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=u.viewCache,f0(a,u.changes,u.viewCache.eventCache.getNode(),null)}function dN(a,t){const i=a.viewCache_.eventCache,l=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(qe,(u,h)=>{l.push(aa(u,h))}),i.isFullyInitialized()&&l.push(t0(i.getNode())),f0(a,l,i.getNode(),t)}function f0(a,t,i,l){const o=l?[l]:a.eventRegistrations_;return kA(a.eventGenerator_,t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho;class h0{constructor(){this.views=new Map}}function mN(a){z(!Ho,"__referenceConstructor has already been defined"),Ho=a}function pN(){return z(Ho,"Reference.ts has not been loaded"),Ho}function gN(a){return a.views.size===0}function Fh(a,t,i,l){const o=t.source.queryId;if(o!==null){const u=a.views.get(o);return z(u!=null,"SyncTree gave us an op for an invalid query."),Ty(u,t,i,l)}else{let u=[];for(const h of a.views.values())u=u.concat(Ty(h,t,i,l));return u}}function d0(a,t,i,l,o){const u=t._queryIdentifier,h=a.views.get(u);if(!h){let m=Uo(i,o?l:null),g=!1;m?g=!0:l instanceof X?(m=Ph(i,l),g=!1):(m=X.EMPTY_NODE,g=!1);const p=Ko(new Ai(m,g,!1),new Ai(l,o,!1));return new oN(t,p)}return h}function _N(a,t,i,l,o,u){const h=d0(a,t,l,o,u);return a.views.has(t._queryIdentifier)||a.views.set(t._queryIdentifier,h),hN(h,i),dN(h,i)}function yN(a,t,i,l){const o=t._queryIdentifier,u=[];let h=[];const m=Ni(a);if(o==="default")for(const[g,p]of a.views.entries())h=h.concat(Ey(p,i,l)),Sy(p)&&(a.views.delete(g),p.query._queryParams.loadsAllData()||u.push(p.query));else{const g=a.views.get(o);g&&(h=h.concat(Ey(g,i,l)),Sy(g)&&(a.views.delete(o),g.query._queryParams.loadsAllData()||u.push(g.query)))}return m&&!Ni(a)&&u.push(new(pN())(t._repo,t._path)),{removed:u,events:h}}function m0(a){const t=[];for(const i of a.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function Ci(a,t){let i=null;for(const l of a.views.values())i=i||fN(l,t);return i}function p0(a,t){if(t._queryParams.loadsAllData())return Wo(a);{const l=t._queryIdentifier;return a.views.get(l)}}function g0(a,t){return p0(a,t)!=null}function Ni(a){return Wo(a)!=null}function Wo(a){for(const t of a.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo;function vN(a){z(!Bo,"__referenceConstructor has already been defined"),Bo=a}function bN(){return z(Bo,"Reference.ts has not been loaded"),Bo}let SN=1;class Cy{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ie(null),this.pendingWriteTree_=WA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _0(a,t,i,l,o){return jA(a.pendingWriteTree_,t,i,l,o),o?pa(a,new ss(qh(),t,i)):[]}function EN(a,t,i,l){HA(a.pendingWriteTree_,t,i,l);const o=Ie.fromObject(i);return pa(a,new la(qh(),t,o))}function yi(a,t,i=!1){const l=BA(a.pendingWriteTree_,t);if(qA(a.pendingWriteTree_,t)){let u=new Ie(null);return l.snap!=null?u=u.set(ye(),!0):ut(l.children,h=>{u=u.set(new xe(h),!0)}),pa(a,new ko(l.path,u,i))}else return[]}function Gl(a,t,i){return pa(a,new ss(Vh(),t,i))}function TN(a,t,i){const l=Ie.fromObject(i);return pa(a,new la(Vh(),t,l))}function CN(a,t){return pa(a,new Dl(Vh(),t))}function wN(a,t,i){const l=Xh(a,i);if(l){const o=Wh(l),u=o.path,h=o.queryId,m=mt(u,t),g=new Dl(Gh(h),m);return Zh(a,u,g)}else return[]}function qo(a,t,i,l,o=!1){const u=t._path,h=a.syncPointTree_.get(u);let m=[];if(h&&(t._queryIdentifier==="default"||g0(h,t))){const g=yN(h,t,i,l);gN(h)&&(a.syncPointTree_=a.syncPointTree_.remove(u));const p=g.removed;if(m=g.events,!o){const b=p.findIndex(S=>S._queryParams.loadsAllData())!==-1,y=a.syncPointTree_.findOnPath(u,(S,L)=>Ni(L));if(b&&!y){const S=a.syncPointTree_.subtree(u);if(!S.isEmpty()){const L=xN(S);for(let O=0;O<L.length;++O){const B=L[O],ie=B.query,me=S0(a,B);a.listenProvider_.startListening(El(ie),Ml(a,ie),me.hashFn,me.onComplete)}}}!y&&p.length>0&&!l&&(b?a.listenProvider_.stopListening(El(t),null):p.forEach(S=>{const L=a.queryToTagMap.get(Zo(S));a.listenProvider_.stopListening(El(S),L)}))}RN(a,p)}return m}function y0(a,t,i,l){const o=Xh(a,l);if(o!=null){const u=Wh(o),h=u.path,m=u.queryId,g=mt(h,t),p=new ss(Gh(m),g,i);return Zh(a,h,p)}else return[]}function AN(a,t,i,l){const o=Xh(a,l);if(o){const u=Wh(o),h=u.path,m=u.queryId,g=mt(h,t),p=Ie.fromObject(i),b=new la(Gh(m),g,p);return Zh(a,h,b)}else return[]}function rh(a,t,i,l=!1){const o=t._path;let u=null,h=!1;a.syncPointTree_.foreachOnPath(o,(S,L)=>{const O=mt(S,o);u=u||Ci(L,O),h=h||Ni(L)});let m=a.syncPointTree_.get(o);m?(h=h||Ni(m),u=u||Ci(m,ye())):(m=new h0,a.syncPointTree_=a.syncPointTree_.set(o,m));let g;u!=null?g=!0:(g=!1,u=X.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((L,O)=>{const B=Ci(O,ye());B&&(u=u.updateImmediateChild(L,B))}));const p=g0(m,t);if(!p&&!t._queryParams.loadsAllData()){const S=Zo(t);z(!a.queryToTagMap.has(S),"View does not exist, but we have a tag");const L=ON();a.queryToTagMap.set(S,L),a.tagToQueryMap.set(L,S)}const b=Xo(a.pendingWriteTree_,o);let y=_N(m,t,i,b,u,g);if(!p&&!h&&!l){const S=p0(m,t);y=y.concat(DN(a,t,S))}return y}function Kh(a,t,i){const o=a.pendingWriteTree_,u=a.syncPointTree_.findOnPath(t,(h,m)=>{const g=mt(h,t),p=Ci(m,g);if(p)return p});return l0(o,t,u,i,!0)}function NN(a,t){const i=t._path;let l=null;a.syncPointTree_.foreachOnPath(i,(p,b)=>{const y=mt(p,i);l=l||Ci(b,y)});let o=a.syncPointTree_.get(i);o?l=l||Ci(o,ye()):(o=new h0,a.syncPointTree_=a.syncPointTree_.set(i,o));const u=l!=null,h=u?new Ai(l,!0,!1):null,m=Xo(a.pendingWriteTree_,t._path),g=d0(o,t,m,u?h.getNode():X.EMPTY_NODE,u);return uN(g)}function pa(a,t){return v0(t,a.syncPointTree_,null,Xo(a.pendingWriteTree_,ye()))}function v0(a,t,i,l){if(ce(a.path))return b0(a,t,i,l);{const o=t.get(ye());i==null&&o!=null&&(i=Ci(o,ye()));let u=[];const h=se(a.path),m=a.operationForChild(h),g=t.children.get(h);if(g&&m){const p=i?i.getImmediateChild(h):null,b=r0(l,h);u=u.concat(v0(m,g,p,b))}return o&&(u=u.concat(Fh(o,a,l,i))),u}}function b0(a,t,i,l){const o=t.get(ye());i==null&&o!=null&&(i=Ci(o,ye()));let u=[];return t.children.inorderTraversal((h,m)=>{const g=i?i.getImmediateChild(h):null,p=r0(l,h),b=a.operationForChild(h);b&&(u=u.concat(b0(b,m,g,p)))}),o&&(u=u.concat(Fh(o,a,l,i))),u}function S0(a,t){const i=t.query,l=Ml(a,i);return{hashFn:()=>(cN(t)||X.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return l?wN(a,i._path,l):CN(a,i._path);{const u=Cw(o,i);return qo(a,i,null,u)}}}}function Ml(a,t){const i=Zo(t);return a.queryToTagMap.get(i)}function Zo(a){return a._path.toString()+"$"+a._queryIdentifier}function Xh(a,t){return a.tagToQueryMap.get(t)}function Wh(a){const t=a.indexOf("$");return z(t!==-1&&t<a.length-1,"Bad queryKey."),{queryId:a.substr(t+1),path:new xe(a.substr(0,t))}}function Zh(a,t,i){const l=a.syncPointTree_.get(t);z(l,"Missing sync point for query tag that we're tracking");const o=Xo(a.pendingWriteTree_,t);return Fh(l,i,o,null)}function xN(a){return a.fold((t,i,l)=>{if(i&&Ni(i))return[Wo(i)];{let o=[];return i&&(o=m0(i)),ut(l,(u,h)=>{o=o.concat(h)}),o}})}function El(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(bN())(a._repo,a._path):a}function RN(a,t){for(let i=0;i<t.length;++i){const l=t[i];if(!l._queryParams.loadsAllData()){const o=Zo(l),u=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(u)}}}function ON(){return SN++}function DN(a,t,i){const l=t._path,o=Ml(a,t),u=S0(a,i),h=a.listenProvider_.startListening(El(t),o,u.hashFn,u.onComplete),m=a.syncPointTree_.subtree(l);if(o)z(!Ni(m.value),"If we're adding a query, it shouldn't be shadowed");else{const g=m.fold((p,b,y)=>{if(!ce(p)&&b&&Ni(b))return[Wo(b).query];{let S=[];return b&&(S=S.concat(m0(b).map(L=>L.query))),ut(y,(L,O)=>{S=S.concat(O)}),S}});for(let p=0;p<g.length;++p){const b=g[p];a.listenProvider_.stopListening(El(b),Ml(a,b))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new Jh(i)}node(){return this.node_}}class $h{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Be(this.path_,t);return new $h(this.syncTree_,i)}node(){return Kh(this.syncTree_,this.path_)}}const MN=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},wy=function(a,t,i){if(!a||typeof a!="object")return a;if(z(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return IN(a[".sv"],t,i);if(typeof a[".sv"]=="object")return kN(a[".sv"],t);z(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},IN=function(a,t,i){switch(a){case"timestamp":return i.timestamp;default:z(!1,"Unexpected server value: "+a)}},kN=function(a,t,i){a.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const l=a.increment;typeof l!="number"&&z(!1,"Unexpected increment value: "+l);const o=t.node();if(z(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return l;const h=o.getValue();return typeof h!="number"?l:h+l},E0=function(a,t,i,l){return ed(t,new $h(i,a),l)},T0=function(a,t,i){return ed(a,new Jh(t),i)};function ed(a,t,i){const l=a.getPriority().val(),o=wy(l,t.getImmediateChild(".priority"),i);let u;if(a.isLeafNode()){const h=a,m=wy(h.getValue(),t,i);return m!==h.getValue()||o!==h.getPriority().val()?new tt(m,We(o)):a}else{const h=a;return u=h,o!==h.getPriority().val()&&(u=u.updatePriority(new tt(o))),h.forEachChild(qe,(m,g)=>{const p=ed(g,t.getImmediateChild(m),i);p!==g&&(u=u.updateImmediateChild(m,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t="",i=null,l={children:{},childCount:0}){this.name=t,this.parent=i,this.node=l}}function nd(a,t){let i=t instanceof xe?t:new xe(t),l=a,o=se(i);for(;o!==null;){const u=ta(l.node.children,o)||{children:{},childCount:0};l=new td(o,l,u),i=ke(i),o=se(i)}return l}function ga(a){return a.node.value}function C0(a,t){a.node.value=t,oh(a)}function w0(a){return a.node.childCount>0}function LN(a){return ga(a)===void 0&&!w0(a)}function Jo(a,t){ut(a.node.children,(i,l)=>{t(new td(i,a,l))})}function A0(a,t,i,l){i&&t(a),Jo(a,o=>{A0(o,t,!0)})}function UN(a,t,i){let l=a.parent;for(;l!==null;){if(t(l))return!0;l=l.parent}return!1}function Pl(a){return new xe(a.parent===null?a.name:Pl(a.parent)+"/"+a.name)}function oh(a){a.parent!==null&&zN(a.parent,a.name,a)}function zN(a,t,i){const l=LN(i),o=dn(a.node.children,t);l&&o?(delete a.node.children[t],a.node.childCount--,oh(a)):!l&&!o&&(a.node.children[t]=i.node,a.node.childCount++,oh(a))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=/[\[\].#$\/\u0000-\u001F\u007F]/,HN=/[\[\].#$\u0000-\u001F\u007F]/,qf=10*1024*1024,id=function(a){return typeof a=="string"&&a.length!==0&&!jN.test(a)},N0=function(a){return typeof a=="string"&&a.length!==0&&!HN.test(a)},BN=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),N0(a)},qN=function(a){return a===null||typeof a=="string"||typeof a=="number"&&!Oh(a)||a&&typeof a=="object"&&dn(a,".sv")},x0=function(a,t,i,l){l&&t===void 0||$o(Vo(a,"value"),t,i)},$o=function(a,t,i){const l=i instanceof xe?new sA(i,a):i;if(t===void 0)throw new Error(a+"contains undefined "+Wi(l));if(typeof t=="function")throw new Error(a+"contains a function "+Wi(l)+" with contents = "+t.toString());if(Oh(t))throw new Error(a+"contains "+t.toString()+" "+Wi(l));if(typeof t=="string"&&t.length>qf/3&&Go(t)>qf)throw new Error(a+"contains a string greater than "+qf+" utf8 bytes "+Wi(l)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,u=!1;if(ut(t,(h,m)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(u=!0,!id(h)))throw new Error(a+" contains an invalid key ("+h+") "+Wi(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);aA(l,h),$o(a,m,l),lA(l)}),o&&u)throw new Error(a+' contains ".value" child '+Wi(l)+" in addition to actual children.")}},VN=function(a,t){let i,l;for(i=0;i<t.length;i++){l=t[i];const u=Nl(l);for(let h=0;h<u.length;h++)if(!(u[h]===".priority"&&h===u.length-1)){if(!id(u[h]))throw new Error(a+"contains an invalid key ("+u[h]+") in path "+l.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(iA);let o=null;for(i=0;i<t.length;i++){if(l=t[i],o!==null&&Kt(o,l))throw new Error(a+"contains a path "+o.toString()+" that is ancestor of another path "+l.toString());o=l}},GN=function(a,t,i,l){const o=Vo(a,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const u=[];ut(t,(h,m)=>{const g=new xe(h);if($o(o,m,Be(i,g)),Lh(g)===".priority"&&!qN(m))throw new Error(o+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(g)}),VN(o,u)},R0=function(a,t,i,l){if(!N0(i))throw new Error(Vo(a,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},PN=function(a,t,i,l){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),R0(a,t,i)},sd=function(a,t){if(se(t)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},YN=function(a,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!id(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!BN(i))throw new Error(Vo(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ec(a,t){let i=null;for(let l=0;l<t.length;l++){const o=t[l],u=o.getPath();i!==null&&!Uh(u,i.path)&&(a.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&a.eventLists_.push(i)}function O0(a,t,i){ec(a,i),D0(a,l=>Uh(l,t))}function Xt(a,t,i){ec(a,i),D0(a,l=>Kt(l,t)||Kt(t,l))}function D0(a,t){a.recursionDepth_++;let i=!0;for(let l=0;l<a.eventLists_.length;l++){const o=a.eventLists_[l];if(o){const u=o.path;t(u)?(FN(a.eventLists_[l]),a.eventLists_[l]=null):i=!1}}i&&(a.eventLists_=[]),a.recursionDepth_--}function FN(a){for(let t=0;t<a.events.length;t++){const i=a.events[t];if(i!==null){a.events[t]=null;const l=i.getEventRunner();yl&&ct("event: "+i.toString()),ma(l)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="repo_interrupt",XN=25;class WN{constructor(t,i,l,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=l,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new QN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Io(),this.transactionQueueTree_=new td,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ZN(a,t,i){if(a.stats_=Ih(a.repoInfo_),a.forceRestClient_||xw())a.server_=new Mo(a.repoInfo_,(l,o,u,h)=>{Ay(a,l,o,u,h)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>Ny(a,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ze(i)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}a.persistentConnection_=new jn(a.repoInfo_,t,(l,o,u,h)=>{Ay(a,l,o,u,h)},l=>{Ny(a,l)},l=>{JN(a,l)},a.authTokenProvider_,a.appCheckProvider_,i),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(l=>{a.server_.refreshAuthToken(l)}),a.appCheckProvider_.addTokenChangeListener(l=>{a.server_.refreshAppCheckToken(l.token)}),a.statsReporter_=Iw(a.repoInfo_,()=>new MA(a.stats_,a.server_)),a.infoData_=new NA,a.infoSyncTree_=new Cy({startListening:(l,o,u,h)=>{let m=[];const g=a.infoData_.getNode(l._path);return g.isEmpty()||(m=Gl(a.infoSyncTree_,l._path,g),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),ad(a,"connected",!1),a.serverSyncTree_=new Cy({startListening:(l,o,u,h)=>(a.server_.listen(l,u,o,(m,g)=>{const p=h(m,g);Xt(a.eventQueue_,l._path,p)}),[]),stopListening:(l,o)=>{a.server_.unlisten(l,o)}})}function M0(a){const i=a.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function tc(a){return MN({timestamp:M0(a)})}function Ay(a,t,i,l,o){a.dataUpdateCount++;const u=new xe(t);i=a.interceptServerDataCallback_?a.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(l){const g=So(i,p=>We(p));h=AN(a.serverSyncTree_,u,g,o)}else{const g=We(i);h=y0(a.serverSyncTree_,u,g,o)}else if(l){const g=So(i,p=>We(p));h=TN(a.serverSyncTree_,u,g)}else{const g=We(i);h=Gl(a.serverSyncTree_,u,g)}let m=u;h.length>0&&(m=oa(a,u)),Xt(a.eventQueue_,m,h)}function Ny(a,t){ad(a,"connected",t),t===!1&&nx(a)}function JN(a,t){ut(t,(i,l)=>{ad(a,i,l)})}function ad(a,t,i){const l=new xe("/.info/"+t),o=We(i);a.infoData_.updateSnapshot(l,o);const u=Gl(a.infoSyncTree_,l,o);Xt(a.eventQueue_,l,u)}function ld(a){return a.nextWriteId_++}function $N(a,t,i){const l=NN(a.serverSyncTree_,t);return l!=null?Promise.resolve(l):a.server_.get(t).then(o=>{const u=We(o).withIndex(t._queryParams.getIndex());rh(a.serverSyncTree_,t,i,!0);let h;if(t._queryParams.loadsAllData())h=Gl(a.serverSyncTree_,t._path,u);else{const m=Ml(a.serverSyncTree_,t);h=y0(a.serverSyncTree_,t._path,u,m)}return Xt(a.eventQueue_,t._path,h),qo(a.serverSyncTree_,t,i,null,!0),u},o=>(Yl(a,"get for query "+Ze(t)+" failed: "+o),Promise.reject(new Error(o))))}function ex(a,t,i,l,o){Yl(a,"set",{path:t.toString(),value:i,priority:l});const u=tc(a),h=We(i,l),m=Kh(a.serverSyncTree_,t),g=T0(h,m,u),p=ld(a),b=_0(a.serverSyncTree_,t,g,p,!0);ec(a.eventQueue_,b),a.server_.put(t.toString(),h.val(!0),(S,L)=>{const O=S==="ok";O||pt("set at "+t+" failed: "+S);const B=yi(a.serverSyncTree_,p,!O);Xt(a.eventQueue_,t,B),ch(a,o,S,L)});const y=od(a,t);oa(a,y),Xt(a.eventQueue_,y,[])}function tx(a,t,i,l){Yl(a,"update",{path:t.toString(),value:i});let o=!0;const u=tc(a),h={};if(ut(i,(m,g)=>{o=!1,h[m]=E0(Be(t,m),We(g),a.serverSyncTree_,u)}),o)ct("update() called with empty data.  Don't do anything."),ch(a,l,"ok",void 0);else{const m=ld(a),g=EN(a.serverSyncTree_,t,h,m);ec(a.eventQueue_,g),a.server_.merge(t.toString(),i,(p,b)=>{const y=p==="ok";y||pt("update at "+t+" failed: "+p);const S=yi(a.serverSyncTree_,m,!y),L=S.length>0?oa(a,t):t;Xt(a.eventQueue_,L,S),ch(a,l,p,b)}),ut(i,p=>{const b=od(a,Be(t,p));oa(a,b)}),Xt(a.eventQueue_,t,[])}}function nx(a){Yl(a,"onDisconnectEvents");const t=tc(a),i=Io();th(a.onDisconnect_,ye(),(o,u)=>{const h=E0(o,u,a.serverSyncTree_,t);n0(i,o,h)});let l=[];th(i,ye(),(o,u)=>{l=l.concat(Gl(a.serverSyncTree_,o,u));const h=od(a,o);oa(a,h)}),a.onDisconnect_=Io(),Xt(a.eventQueue_,ye(),l)}function ix(a,t,i){let l;se(t._path)===".info"?l=rh(a.infoSyncTree_,t,i):l=rh(a.serverSyncTree_,t,i),O0(a.eventQueue_,t._path,l)}function sx(a,t,i){let l;se(t._path)===".info"?l=qo(a.infoSyncTree_,t,i):l=qo(a.serverSyncTree_,t,i),O0(a.eventQueue_,t._path,l)}function ax(a){a.persistentConnection_&&a.persistentConnection_.interrupt(KN)}function Yl(a,...t){let i="";a.persistentConnection_&&(i=a.persistentConnection_.id+":"),ct(i,...t)}function ch(a,t,i,l){t&&ma(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let u=o;l&&(u+=": "+l);const h=new Error(u);h.code=o,t(h)}})}function I0(a,t,i){return Kh(a.serverSyncTree_,t,i)||X.EMPTY_NODE}function rd(a,t=a.transactionQueueTree_){if(t||nc(a,t),ga(t)){const i=L0(a,t);z(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&lx(a,Pl(t),i)}else w0(t)&&Jo(t,i=>{rd(a,i)})}function lx(a,t,i){const l=i.map(p=>p.currentWriteId),o=I0(a,t,l);let u=o;const h=o.hash();for(let p=0;p<i.length;p++){const b=i[p];z(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const y=mt(t,b.path);u=u.updateChild(y,b.currentOutputSnapshotRaw)}const m=u.val(!0),g=t;a.server_.put(g.toString(),m,p=>{Yl(a,"transaction put response",{path:g.toString(),status:p});let b=[];if(p==="ok"){const y=[];for(let S=0;S<i.length;S++)i[S].status=2,b=b.concat(yi(a.serverSyncTree_,i[S].currentWriteId)),i[S].onComplete&&y.push(()=>i[S].onComplete(null,!0,i[S].currentOutputSnapshotResolved)),i[S].unwatcher();nc(a,nd(a.transactionQueueTree_,t)),rd(a,a.transactionQueueTree_),Xt(a.eventQueue_,t,b);for(let S=0;S<y.length;S++)ma(y[S])}else{if(p==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{pt("transaction at "+g.toString()+" failed: "+p);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=p}oa(a,t)}},h)}function oa(a,t){const i=k0(a,t),l=Pl(i),o=L0(a,i);return rx(a,o,l),l}function rx(a,t,i){if(t.length===0)return;const l=[];let o=[];const h=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const g=t[m],p=mt(i,g.path);let b=!1,y;if(z(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)b=!0,y=g.abortReason,o=o.concat(yi(a.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=XN)b=!0,y="maxretry",o=o.concat(yi(a.serverSyncTree_,g.currentWriteId,!0));else{const S=I0(a,g.path,h);g.currentInputSnapshot=S;const L=t[m].update(S.val());if(L!==void 0){$o("transaction failed: Data returned ",L,g.path);let O=We(L);typeof L=="object"&&L!=null&&dn(L,".priority")||(O=O.updatePriority(S.getPriority()));const ie=g.currentWriteId,me=tc(a),Re=T0(O,S,me);g.currentOutputSnapshotRaw=O,g.currentOutputSnapshotResolved=Re,g.currentWriteId=ld(a),h.splice(h.indexOf(ie),1),o=o.concat(_0(a.serverSyncTree_,g.path,Re,g.currentWriteId,g.applyLocally)),o=o.concat(yi(a.serverSyncTree_,ie,!0))}else b=!0,y="nodata",o=o.concat(yi(a.serverSyncTree_,g.currentWriteId,!0))}Xt(a.eventQueue_,i,o),o=[],b&&(t[m].status=2,(function(S){setTimeout(S,Math.floor(0))})(t[m].unwatcher),t[m].onComplete&&(y==="nodata"?l.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):l.push(()=>t[m].onComplete(new Error(y),!1,null))))}nc(a,a.transactionQueueTree_);for(let m=0;m<l.length;m++)ma(l[m]);rd(a,a.transactionQueueTree_)}function k0(a,t){let i,l=a.transactionQueueTree_;for(i=se(t);i!==null&&ga(l)===void 0;)l=nd(l,i),t=ke(t),i=se(t);return l}function L0(a,t){const i=[];return U0(a,t,i),i.sort((l,o)=>l.order-o.order),i}function U0(a,t,i){const l=ga(t);if(l)for(let o=0;o<l.length;o++)i.push(l[o]);Jo(t,o=>{U0(a,o,i)})}function nc(a,t){const i=ga(t);if(i){let l=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[l]=i[o],l++);i.length=l,C0(t,i.length>0?i:void 0)}Jo(t,l=>{nc(a,l)})}function od(a,t){const i=Pl(k0(a,t)),l=nd(a.transactionQueueTree_,t);return UN(l,o=>{Vf(a,o)}),Vf(a,l),A0(l,o=>{Vf(a,o)}),i}function Vf(a,t){const i=ga(t);if(i){const l=[];let o=[],u=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(z(u===h-1,"All SENT items should be at beginning of queue."),u=h,i[h].status=3,i[h].abortReason="set"):(z(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(yi(a.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&l.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));u===-1?C0(t,void 0):i.length=u+1,Xt(a.eventQueue_,Pl(t),o);for(let h=0;h<l.length;h++)ma(l[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(a){let t="";const i=a.split("/");for(let l=0;l<i.length;l++)if(i[l].length>0){let o=i[l];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function cx(a){const t={};a.charAt(0)==="?"&&(a=a.substring(1));for(const i of a.split("&")){if(i.length===0)continue;const l=i.split("=");l.length===2?t[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):pt(`Invalid query segment '${i}' in query '${a}'`)}return t}const xy=function(a,t){const i=ux(a),l=i.namespace;i.domain==="firebase.com"&&qn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&i.domain!=="localhost"&&qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||vw();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Hv(i.host,i.secure,l,o,t,"",l!==i.subdomain),path:new xe(i.pathString)}},ux=function(a){let t="",i="",l="",o="",u="",h=!0,m="https",g=443;if(typeof a=="string"){let p=a.indexOf("//");p>=0&&(m=a.substring(0,p-1),a=a.substring(p+2));let b=a.indexOf("/");b===-1&&(b=a.length);let y=a.indexOf("?");y===-1&&(y=a.length),t=a.substring(0,Math.min(b,y)),b<y&&(o=ox(a.substring(b,y)));const S=cx(a.substring(Math.min(a.length,y)));p=t.indexOf(":"),p>=0?(h=m==="https"||m==="wss",g=parseInt(t.substring(p+1),10)):p=t.length;const L=t.slice(0,p);if(L.toLowerCase()==="localhost")i="localhost";else if(L.split(".").length<=2)i=L;else{const O=t.indexOf(".");l=t.substring(0,O).toLowerCase(),i=t.substring(O+1),u=l}"ns"in S&&(u=S.ns)}return{host:t,port:g,domain:i,subdomain:l,secure:h,scheme:m,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fx=(function(){let a=0;const t=[];return function(i){const l=i===a;a=i;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=Ry.charAt(i%64),i=Math.floor(i/64);z(i===0,"Cannot push at time == 0");let h=u.join("");if(l){for(o=11;o>=0&&t[o]===63;o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=Ry.charAt(t[o]);return z(h.length===20,"nextPushId: Length should be 20."),h}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(t,i,l,o){this.eventType=t,this.eventRegistration=i,this.snapshot=l,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ze(this.snapshot.exportVal())}}class dx{constructor(t,i,l){this.eventRegistration=t,this.error=i,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(t,i,l,o){this._repo=t,this._path=i,this._queryParams=l,this._orderByCalled=o}get key(){return ce(this._path)?null:Lh(this._path)}get ref(){return new Vn(this._repo,this._path)}get _queryIdentifier(){const t=my(this._queryParams),i=Dh(t);return i==="{}"?"default":i}get _queryObject(){return my(this._queryParams)}isEqual(t){if(t=_t(t),!(t instanceof cd))return!1;const i=this._repo===t._repo,l=Uh(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&l&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+nA(this._path)}}class Vn extends cd{constructor(t,i){super(t,i,new Bh,!1)}get parent(){const t=Kv(this._path);return t===null?null:new Vn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Il{constructor(t,i,l){this._node=t,this.ref=i,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new xe(t),l=kl(this.ref,t);return new Il(this._node.getChild(i),l,qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,o)=>t(new Il(o,kl(this.ref,l),qe)))}hasChild(t){const i=new xe(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Fs(a,t){return a=_t(a),a._checkNotDeleted("ref"),t!==void 0?kl(a._root,t):a._root}function kl(a,t){return a=_t(a),se(a._path)===null?PN("child","path",t):R0("child","path",t),new Vn(a._repo,Be(a._path,t))}function mx(a,t){a=_t(a),sd("push",a._path),x0("push",t,a._path,!0);const i=M0(a._repo),l=fx(i),o=kl(a,l),u=kl(a,l);let h;return h=Promise.resolve(u),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function px(a){return sd("remove",a._path),uh(a,null)}function uh(a,t){a=_t(a),sd("set",a._path),x0("set",t,a._path,!1);const i=new Ll;return ex(a._repo,a._path,t,null,i.wrapCallback(()=>{})),i.promise}function gx(a,t){GN("update",t,a._path);const i=new Ll;return tx(a._repo,a._path,t,i.wrapCallback(()=>{})),i.promise}function _x(a){a=_t(a);const t=new z0(()=>{}),i=new ic(t);return $N(a._repo,a,i).then(l=>new Il(l,new Vn(a._repo,a._path),a._queryParams.getIndex()))}class ic{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const l=i._queryParams.getIndex();return new hx("value",this,new Il(t.snapshotNode,new Vn(i._repo,i._path),l))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new dx(this,t,i):null}matches(t){return t instanceof ic?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function yx(a,t,i,l,o){const u=new z0(i,void 0),h=new ic(u);return ix(a._repo,a,h),()=>sx(a._repo,a,h)}function vx(a,t,i,l){return yx(a,"value",t)}mN(Vn);vN(Vn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="FIREBASE_DATABASE_EMULATOR_HOST",fh={};let Sx=!1;function Ex(a,t,i,l){const o=t.lastIndexOf(":"),u=t.substring(0,o),h=ua(u);a.repoInfo_=new Hv(t,h,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,i),l&&(a.authTokenProvider_=l)}function Tx(a,t,i,l,o){let u=l||a.options.databaseURL;u===void 0&&(a.options.projectId||qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ct("Using default host for project ",a.options.projectId),u=`${a.options.projectId}-default-rtdb.firebaseio.com`);let h=xy(u,o),m=h.repoInfo,g;typeof process<"u"&&W_&&(g=W_[bx]),g?(u=`http://${g}?ns=${m.namespace}`,h=xy(u,o),m=h.repoInfo):h.repoInfo.secure;const p=new Ow(a.name,a.options,t);YN("Invalid Firebase Database URL",h),ce(h.path)||qn("Database URL must point to the root of a Firebase Database (not including a child path).");const b=wx(m,a,p,new Rw(a,i));return new Ax(b,a)}function Cx(a,t){const i=fh[t];(!i||i[a.key]!==a)&&qn(`Database ${t}(${a.repoInfo_}) has already been deleted.`),ax(a),delete i[a.key]}function wx(a,t,i,l){let o=fh[t.name];o||(o={},fh[t.name]=o);let u=o[a.toURLString()];return u&&qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new WN(a,Sx,i,l),o[a.toURLString()]=u,u}class Ax{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ZN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vn(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Cx(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&qn("Cannot call "+t+" on a deleted database.")}}function Nx(a=Qy(),t){const i=vh(a,"database").getImmediate({identifier:t});if(!i._instanceStarted){const l=U1("database");l&&xx(i,...l)}return i}function xx(a,t,i,l={}){a=_t(a),a._checkNotDeleted("useEmulator");const o=`${t}:${i}`,u=a._repoInternal;if(a._instanceStarted){if(o===a._repoInternal.repoInfo_.host&&es(l,u.repoInfo_.emulatorOptions))return;qn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(u.repoInfo_.nodeAdmin)l.mockUserToken&&qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new yo(yo.OWNER);else if(l.mockUserToken){const m=typeof l.mockUserToken=="string"?l.mockUserToken:z1(l.mockUserToken,a.app.options.projectId);h=new yo(m)}ua(t)&&(Hy(t),By("Database",!0)),Ex(u,o,l,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(a){dw(ha),na(new ts("database",(t,{instanceIdentifier:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return Tx(l,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Ei(Z_,J_,a),Ei(Z_,J_,"esm2020")}jn.prototype.simpleListen=function(a,t){this.sendRequest("q",{p:a},t)};jn.prototype.echo=function(a,t){this.sendRequest("echo",{d:a},t)};Rx();const Ox={apiKey:"AIzaSyDe5lAkO9SOuQ7O_RIzwvz5d58GwNW_ls4",authDomain:"superyap.firebaseapp.com",databaseURL:"https://superyap-default-rtdb.firebaseio.com",projectId:"superyap",storageBucket:"superyap.firebasestorage.app",messagingSenderId:"697948183395",appId:"1:697948183395:web:286e3bf1ce96f03253d156"},j0=Yy(Ox),hh=fw(j0),Dx=new kn,Ks=Nx(j0);class Mx{onValue(t,i){const l=Fs(Ks,t);return vx(l,o=>{const u=o.val();i(u)})}async set(t,i){const l=Fs(Ks,t);await uh(l,i)}async push(t,i){const l=Fs(Ks,t),o=mx(l);await uh(o,{...i,id:o.key})}async updateMessage(t,i,l){const o=Fs(Ks,`${t}/${i}`);await gx(o,l)}async removeMessage(t,i){const l=Fs(Ks,`${t}/${i}`);await px(l)}async get(t){const i=Fs(Ks,t);return(await _x(i)).val()}}const Ut=new Mx,H0=(a,t)=>{const i=[a,t].sort();return`chats/${i[0]}_${i[1]}`},B0=({index:a,className:t=""})=>{const[i,l]=de.useState(`/emojis/emoji_${a}.png`),[o,u]=de.useState(!1);de.useEffect(()=>{l(`/emojis/emoji_${a}.png`),u(!1)},[a]);const h=()=>{i.endsWith(`emoji_${a}.png`)?l(`/emojis/emoji${a}.png`):i.endsWith(`emoji${a}.png`)?l(`/emojis/${a}.png`):u(!0)};return o?T.jsx("div",{className:`inline-flex items-center justify-center bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl ${t}`,title:`Missing sticker: ${a}`,children:T.jsx("span",{className:"text-slate-300 font-chewy text-xl select-none",children:"?"})}):T.jsx("div",{className:`inline-flex items-center justify-center overflow-hidden ${t}`,children:T.jsx("img",{src:i,alt:`Sticker ${a}`,className:"w-full h-full object-contain drop-shadow-md hover:scale-110 transition-transform duration-200",loading:"lazy",onError:h})})},Ix=["","","","","",""],kx=({onReact:a,onDelete:t,onClose:i,isMe:l})=>T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm animate-in fade-in duration-200",onClick:i,children:T.jsx("div",{className:"bg-white rounded-3xl shadow-2xl p-6 w-full max-w-xs animate-in zoom-in-95 duration-200",onClick:o=>o.stopPropagation(),children:T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"space-y-3",children:[T.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] text-center",children:"React"}),T.jsx("div",{className:"grid grid-cols-6 gap-2",children:Ix.map(o=>T.jsx("button",{onClick:()=>a(o),className:"text-2xl hover:scale-125 transition-transform active:scale-95 p-1",children:o},o))})]}),T.jsx("div",{className:"h-px bg-slate-100"}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("button",{onClick:t,className:`w-full py-4 px-4 rounded-2xl flex items-center justify-center gap-2 font-black text-sm uppercase tracking-widest transition-colors ${l?"bg-red-50 text-red-500 hover:bg-red-100":"bg-slate-50 text-slate-400 cursor-not-allowed opacity-50"}`,disabled:!l,children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Message"]}),!l&&T.jsx("p",{className:"text-[9px] text-center text-slate-400 font-bold italic",children:"Only your own messages can be deleted"})]}),T.jsx("button",{onClick:i,className:"w-full py-3 text-slate-500 font-bold text-sm hover:text-slate-900 transition-colors uppercase tracking-widest",children:"Cancel"})]})})}),Lx=(a,t,{threshold:i=500,onStart:l,onCancel:o}={})=>{const[u,h]=de.useState(!1),m=de.useRef(),g=de.useRef(!1),p=de.useCallback(y=>{g.current=!1,l&&l(y),m.current=setTimeout(()=>{g.current||(h(!0),a(y))},i)},[a,i,l]),b=de.useCallback(y=>{g.current=!0,m.current&&clearTimeout(m.current),u&&h(!1),o&&o(y)},[t,u,o]);return{onMouseDown:p,onMouseUp:b,onMouseLeave:b,onTouchStart:p,onTouchEnd:b}},Ux=({msg:a,user:t,contact:i,isMe:l,isLastInGroup:o,onSelect:u,onReact:h})=>{const m=Dy(a.content,i.hashingKey),g=m.startsWith("EMOJI:"),p=g?parseInt(m.split(":")[1],10):-1,b=Lx(()=>u(a));return T.jsxs("div",{className:`flex items-end gap-3 ${l?"flex-row-reverse":""} mb-2`,children:[T.jsx("div",{className:`shrink-0 ${o?"opacity-100":"opacity-0"} w-8 h-8`,children:T.jsx(vi,{id:l?t.id:i.id,username:l?t.username:i.username,className:"w-8 h-8"})}),T.jsxs("div",{className:`flex flex-col ${l?"items-end":"items-start"} max-w-[80%]`,children:[g?T.jsx("div",{className:"p-2 animate-in zoom-in duration-300 transform transition-transform hover:scale-110 cursor-pointer",onDoubleClick:()=>u(a),...b,children:T.jsx(B0,{index:p,className:"w-28 h-28 lg:w-44 lg:h-44"})}):T.jsx("div",{className:`px-5 py-3 rounded-3xl transition-colors cursor-pointer select-none ${l?"bg-slate-900 text-white rounded-br-none hover:bg-black":"bg-slate-100 text-slate-800 rounded-bl-none hover:bg-slate-200"}`,onDoubleClick:()=>u(a),...b,children:T.jsx("p",{className:"text-sm lg:text-base font-bold leading-relaxed whitespace-pre-wrap",children:m})}),a.reactions&&Object.keys(a.reactions).length>0&&T.jsx("div",{className:`flex flex-wrap gap-1 mt-1 ${l?"justify-end":"justify-start"}`,children:Object.entries(a.reactions).map(([y,S])=>T.jsxs("button",{onClick:()=>{u(a),h(y)},className:`flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs border transition-all ${S.includes(t.id)?"bg-slate-900 border-slate-900 text-white":"bg-white border-slate-100 text-slate-600 hover:border-slate-300"}`,children:[T.jsx("span",{className:"text-sm",children:y}),T.jsx("span",{className:"font-black text-[10px]",children:S.length})]},y))}),o&&T.jsx("span",{className:"text-[8px] font-black text-slate-300 mt-1 uppercase tracking-widest",children:new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},zx=40,jx=({contact:a,user:t,onBack:i,hideHeader:l=!1})=>{const[o,u]=de.useState([]),[h,m]=de.useState(""),[g,p]=de.useState(!1),[b,y]=de.useState(null),S=de.useRef(null),L=H0(t.id,a.id);de.useEffect(()=>{const J=Ut.onValue(L,pe=>{if(pe){const Q=Object.values(pe);u(Q)}else u([])});return()=>J()},[L]),de.useEffect(()=>{S.current&&(S.current.scrollTop=S.current.scrollHeight)},[o]);const O=J=>{const pe=A1(J,a.hashingKey),Q={senderId:t.id,content:pe,timestamp:Date.now()};Ut.push(L,Q)},B=J=>{J.preventDefault(),h.trim()&&(O(h),m(""))},ie=J=>{O(`EMOJI:${J}`),p(!1)},me=()=>{b&&(Ut.removeMessage(L,b.id),y(null))},Re=J=>{if(b){const pe=b.reactions||{},Q=pe[J]||[];let F;Q.includes(t.id)?F=Q.filter(Oe=>Oe!==t.id):F=[...Q,t.id];const P={...pe};F.length>0?P[J]=F:delete P[J],Ut.updateMessage(L,b.id,{reactions:P}),y(null)}};return T.jsxs("div",{className:"flex flex-col h-full bg-white animate-in slide-in-from-right duration-500",children:[!l&&T.jsx("div",{className:"h-16 flex items-center justify-between px-6 bg-white border-b border-slate-50 sticky top-0 z-10 shrink-0",children:T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("button",{onClick:i,className:"lg:hidden p-2 -ml-2 hover:bg-slate-50 rounded-full text-slate-400 transition-colors",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M15 19l-7-7 7-7"})})}),T.jsx(vi,{id:a.id,username:a.username,className:"w-10 h-10"}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-black text-slate-900 leading-tight text-sm lg:text-base",children:a.username}),T.jsx("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest",children:"End-to-end Hashed"})]})]})}),T.jsx("div",{ref:S,className:"flex-1 overflow-y-auto px-6 lg:px-12 py-8 space-y-6 bg-white",children:o.map((J,pe)=>{const Q=J.senderId===t.id,F=o[pe+1],P=!F||F.senderId!==J.senderId;return T.jsx(Ux,{msg:J,user:t,contact:a,isMe:Q,isLastInGroup:P,onSelect:y,onReact:Re},J.id||pe)})}),T.jsxs("div",{className:"bg-white shrink-0 border-t border-slate-50 pb-safe",children:[g&&T.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100 animate-in slide-in-from-bottom duration-300",children:T.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-8 md:grid-cols-10 gap-3 max-h-[280px] overflow-y-auto no-scrollbar py-2",children:Array.from({length:zx}).map((J,pe)=>{const Q=pe+1;return T.jsx("button",{type:"button",onClick:()=>ie(Q),className:"aspect-square flex items-center justify-center p-1.5 bg-white rounded-2xl hover:bg-slate-100 hover:shadow-sm transition-all active:scale-90 border border-slate-100 overflow-hidden",children:T.jsx(B0,{index:Q,className:"w-full h-full"})},Q)})})}),T.jsx("div",{className:"p-4 lg:p-6 pb-[calc(1rem+env(safe-area-inset-bottom))] lg:pb-6 max-w-5xl mx-auto w-full",children:T.jsxs("form",{onSubmit:B,className:"flex items-center gap-3 bg-slate-50 rounded-full px-5 py-2 border border-slate-100 focus-within:border-slate-300 focus-within:bg-white transition-all",children:[T.jsx("button",{type:"button",onClick:()=>p(!g),className:`p-2 rounded-full transition-all ${g?"text-slate-900 bg-white rotate-12":"text-slate-400 hover:text-slate-600"}`,children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),T.jsx("input",{type:"text",value:h,onChange:J=>m(J.target.value),placeholder:"Secure hashed message...",className:"flex-1 bg-transparent border-none py-2 text-slate-900 focus:outline-none placeholder-slate-400 font-bold text-sm lg:text-base"}),T.jsx("button",{type:"submit",disabled:!h.trim(),className:"w-10 h-10 bg-slate-900 hover:bg-black rounded-full flex items-center justify-center text-white disabled:opacity-20 transition-all active:scale-90 shrink-0 border-none",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 rotate-90",viewBox:"0 0 20 20",fill:"currentColor",children:T.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})})]}),b&&T.jsx(kx,{isMe:b.senderId===t.id,onDelete:me,onReact:Re,onClose:()=>y(null)})]})},Hx=({user:a,onUpdate:t,onBack:i})=>{const[l,o]=de.useState(!1),u=()=>{navigator.clipboard.writeText(a.id),o(!0),setTimeout(()=>o(!1),2e3)};return T.jsx("div",{className:"h-full bg-white flex flex-col overflow-y-auto animate-in fade-in slide-in-from-bottom duration-500",children:T.jsxs("div",{className:"w-full max-w-2xl mx-auto px-6 py-10 lg:py-16 pb-[calc(2.5rem+env(safe-area-inset-bottom))] lg:pb-16",children:[T.jsxs("div",{className:"mb-10",children:[T.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:"Account"}),T.jsx("p",{className:"text-sm text-slate-400 font-bold mt-1",children:"Manage your identity and encryption keys."})]}),T.jsxs("div",{className:"space-y-10",children:[T.jsxs("section",{className:"flex flex-col sm:flex-row items-center gap-8 p-6 lg:p-8 bg-slate-100 rounded-none border-none",children:[T.jsx("div",{className:"relative group shrink-0",children:T.jsx(vi,{id:a.id,username:a.username,className:"w-24 h-24 text-4xl"})}),T.jsxs("div",{className:"flex-1 text-center sm:text-left min-w-0",children:[T.jsx("h4",{className:"font-black text-slate-800 text-xl mb-1 truncate",children:a.username}),T.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest",children:"Permanent Identity Image"}),T.jsx("p",{className:"mt-2 text-[10px] text-slate-400 font-medium",children:"Profile pictures are automatically generated from your Public Key."})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Display Alias"}),T.jsx("input",{type:"text",value:a.username,onChange:h=>t({username:h.target.value}),className:"w-full bg-slate-100 border-none p-4 rounded-none outline-none font-bold text-base text-slate-700 focus:bg-slate-200"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Master Hash Key"}),T.jsx("input",{type:"password",value:a.hashingKey,onChange:h=>t({hashingKey:h.target.value}),className:"w-full bg-slate-100 border-none p-4 rounded-none outline-none font-bold text-base text-slate-700 focus:bg-slate-200"})]})]}),T.jsx("div",{className:"p-8 bg-slate-100 rounded-none border-none overflow-hidden",children:T.jsxs("div",{className:"flex flex-col gap-5",children:[T.jsxs("div",{className:"min-w-0",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest block mb-2",children:"Public Key"}),T.jsx("code",{className:"text-[11px] font-mono text-slate-900 font-black break-all block bg-white p-3 rounded-none border-none",children:a.id})]}),T.jsxs("button",{onClick:u,className:`w-full lg:w-max px-8 py-3 rounded-full font-black transition-all flex items-center justify-center gap-3 text-sm border-none ${l?"bg-emerald-500 text-white":"bg-slate-900 text-white hover:bg-black shadow-none"}`,children:[l?"Copied":"Copy Key",T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})})]})]})}),T.jsx("button",{onClick:i,className:"w-full bg-slate-100 hover:bg-slate-200 text-slate-900 font-black py-4 rounded-full transition-all active:scale-[0.98] uppercase tracking-widest text-xs border-none",children:"Confirm Changes"}),T.jsx("button",{onClick:()=>eC(hh),className:"w-full bg-red-50 hover:bg-red-100 text-red-500 font-black py-4 rounded-full transition-all active:scale-[0.98] uppercase tracking-widest text-xs border-none mt-4",children:"Logout session"})]})]})})},Bx=({onAdd:a,onBack:t})=>{const[i,l]=de.useState(""),[o,u]=de.useState(""),[h,m]=de.useState(""),[g,p]=de.useState(!1),b=async L=>{if(!(L.length<5)){p(!0);try{const O=await Ut.get(`users/${L}`);O&&u(O.username)}catch(O){console.error("User lookup failed",O)}finally{p(!1)}}},y=L=>{const O=L.target.value;l(O),O.length>=10&&b(O)},S=L=>{if(L.preventDefault(),!i||!o||!h)return;const O={id:i.trim(),username:o.trim(),hashingKey:h.trim(),avatar:"robohash"};a(O)};return T.jsx("div",{className:"h-full bg-white flex flex-col overflow-y-auto animate-in fade-in slide-in-from-bottom duration-500",children:T.jsxs("div",{className:"w-full max-w-2xl mx-auto px-6 py-10 lg:py-16",children:[T.jsxs("div",{className:"mb-10",children:[T.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:"Add Friend"}),T.jsx("p",{className:"text-sm text-slate-400 font-bold mt-1",children:"Connect with their identity key to start chatting."})]}),T.jsxs("form",{onSubmit:S,className:"space-y-10",children:[T.jsxs("section",{className:"flex flex-col sm:flex-row items-center gap-8 p-6 lg:p-8 bg-slate-100 rounded-none border-none",children:[T.jsx("div",{className:"shrink-0",children:T.jsx(vi,{id:i||"temp",username:o||"?",className:"w-24 h-24 text-4xl"})}),T.jsxs("div",{className:"flex-1 text-center sm:text-left min-w-0",children:[T.jsx("h4",{className:"font-black text-slate-800 text-xl mb-1 truncate",children:o||"Friend Alias"}),T.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest",children:"Deterministic Profile Icon"})]})]}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:["Public Identity Key ",g&&T.jsx("span",{className:"animate-pulse ml-2 text-slate-300",children:"Searching..."})]}),T.jsx("input",{type:"text",value:i,onChange:y,placeholder:"Paste UID or Identity Key",className:"w-full bg-slate-100 border-none p-4 rounded-none outline-none font-mono text-sm text-slate-900 font-bold"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Local Alias"}),T.jsx("input",{type:"text",value:o,onChange:L=>u(L.target.value),placeholder:"Name your friend",className:"w-full bg-slate-100 border-none p-4 rounded-none outline-none font-bold text-base text-slate-700"})]}),T.jsxs("div",{className:"bg-slate-100 p-8 rounded-none border-none space-y-4",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest block px-1",children:"Shared Chat Secret"}),T.jsx("input",{type:"password",value:h,onChange:L=>m(L.target.value),placeholder:"Hash Pin",className:"w-full bg-white border-none p-4 rounded-none outline-none font-bold text-base text-slate-700"}),T.jsx("p",{className:"text-[9px] text-slate-400 font-black text-center uppercase tracking-widest opacity-70",children:"Required for end-to-end decryption"})]})]}),T.jsx("button",{type:"submit",disabled:!i||!o||!h,className:"w-full bg-slate-900 hover:bg-black disabled:opacity-30 text-white font-black py-4 rounded-full transition-all active:scale-[0.98] uppercase tracking-widest text-xs border-none shadow-none",children:"Start Hashed Chat"})]})]})})},qx=()=>{const[a,t]=de.useState(null),[i,l]=de.useState(null),[o,u]=de.useState("HOME"),[h,m]=de.useState(null),[g,p]=de.useState([]),[b,y]=de.useState(!0),[S,L]=de.useState(!0);de.useEffect(()=>{const Q=setTimeout(()=>{y(!1)},2e3);return()=>clearTimeout(Q)},[]),de.useEffect(()=>{const Q=$T(hh,async F=>{if(F){l(F);const P=await Ut.get(`users/${F.uid}`);if(P)t(P);else{const Oe={id:F.uid,username:F.displayName||`User_${F.uid.substring(0,5)}`,avatar:F.photoURL||"robohash",hashingKey:"master_key_"+Math.random().toString(36).substring(7)};await Ut.set(`users/${F.uid}`,Oe),t(Oe)}}else l(null),t(null);L(!1)});return()=>Q()},[]),de.useEffect(()=>{if(!a)return;const Q=Ut.onValue(`users/${a.id}/contacts`,F=>{if(F){const P=Object.values(F);p(P)}});return()=>Q()},[a==null?void 0:a.id]),de.useEffect(()=>{if(!a||g.length===0)return;const Q=g.map(F=>{const P=H0(a.id,F.id);return Ut.onValue(P,Oe=>{if(Oe&&Oe.length>0){const it=Object.values(Oe),mn=it[it.length-1];p(zt=>zt.map(Je=>Je.id===F.id?{...Je,lastMessage:mn.content,lastTimestamp:mn.timestamp}:Je))}})});return()=>Q.forEach(F=>F())},[a==null?void 0:a.id,g.length]);const O=async()=>{try{await bC(hh,Dx)}catch(Q){console.error("Login failed",Q)}},B=[...g].sort((Q,F)=>Q.pinned&&!F.pinned?-1:!Q.pinned&&F.pinned?1:(F.lastTimestamp||0)-(Q.lastTimestamp||0)),ie=async Q=>{if(!a)return;const F=g.find(Oe=>Oe.id===Q);if(!F)return;const P=!F.pinned;p(Oe=>Oe.map(it=>it.id===Q?{...it,pinned:P}:it)),await Ut.set(`users/${a.id}/contacts/${Q}/pinned`,P)},me=async Q=>{a&&window.confirm("Are you sure you want to remove this contact? Chats will be preserved.")&&(await Ut.set(`users/${a.id}/contacts/${Q}`,null),p(F=>F.filter(P=>P.id!==Q)),(h==null?void 0:h.id)===Q&&(u("HOME"),m(null)))},Re=async Q=>{if(!a)return;const F={...a,...Q};await Ut.set(`users/${a.id}`,F),t(F)},J=async Q=>{if(!a)return;g.find(P=>P.id===Q.id)||await Ut.set(`users/${a.id}/contacts/${Q.id}`,Q),u("HOME")},pe=Q=>{m(Q),u("CHAT")};return b?T.jsx("div",{className:"fixed inset-0 z-[999] flex flex-col items-center justify-center bg-white animate-out fade-out duration-700 fill-mode-forwards",children:T.jsx("h1",{className:"text-7xl font-chewy font-black text-slate-900 tracking-tight animate-in zoom-in-75 duration-500 uppercase",children:"Super Yap"})}):S?null:i?a?T.jsxs("div",{className:"flex h-[100dvh] w-full bg-white overflow-hidden text-slate-900 animate-in fade-in duration-500",children:[T.jsxs("aside",{className:"hidden lg:flex w-80 bg-slate-50 flex-col shrink-0 border-r border-slate-100",children:[T.jsx("div",{className:"h-16 flex items-center px-6",children:T.jsx("button",{onClick:()=>u("HOME"),className:"font-chewy text-2xl text-slate-900 tracking-wide",children:"Super Yap"})}),T.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4",children:T.jsx(S_,{contacts:B,onChatClick:pe,onPinChat:ie,onRemoveChat:me,activeContactId:h==null?void 0:h.id,isMobile:!1})}),T.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100",children:T.jsxs("button",{onClick:()=>u("DASHBOARD"),className:`flex items-center gap-3 w-full p-3 rounded-2xl transition-all group border-none ${o==="DASHBOARD"?"bg-slate-900 text-white":"hover:bg-white text-slate-700 hover:shadow-sm"}`,children:[T.jsx(vi,{id:a.id,username:a.username,className:"w-10 h-10"}),T.jsxs("div",{className:"flex-1 text-left min-w-0",children:[T.jsx("p",{className:"text-sm font-black truncate",children:a.username}),T.jsx("p",{className:`text-[10px] font-black uppercase tracking-widest ${o==="DASHBOARD"?"text-white/50":"text-slate-400"}`,children:"Settings"})]})]})})]}),T.jsxs("main",{className:"flex-1 flex flex-col relative bg-white min-w-0 overflow-hidden",children:[T.jsxs("header",{className:`h-16 flex items-center justify-between px-6 bg-white border-b border-slate-50 sticky top-0 z-20 shrink-0 ${o==="HOME"&&"lg:hidden"}`,children:[T.jsxs("div",{className:"flex items-center gap-3",children:[o!=="HOME"&&T.jsx("button",{onClick:()=>u("HOME"),className:"p-2 -ml-2 rounded-full text-slate-400 transition-colors hover:bg-slate-100","aria-label":"Back",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M15 19l-7-7 7-7"})})}),T.jsxs("div",{children:[o==="HOME"&&T.jsx("h1",{className:"font-chewy text-2xl text-slate-900",children:"Super Yap"}),o==="CHAT"&&h&&T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx(vi,{id:h.id,username:h.username,className:"w-8 h-8"}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-black text-slate-900 text-sm leading-none",children:h.username}),T.jsx("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest mt-1",children:"Hashed Active"})]})]}),o==="DASHBOARD"&&T.jsx("h1",{className:"font-black text-slate-800 tracking-widest uppercase text-sm",children:"Profile Settings"}),o==="ADD_CONTACT"&&T.jsx("h1",{className:"font-black text-slate-800 tracking-widest uppercase text-sm",children:"Connect with Hash"})]})]}),T.jsx("div",{className:"flex items-center gap-4",children:o==="HOME"&&T.jsx("button",{onClick:()=>u("DASHBOARD"),className:"lg:hidden",children:T.jsx(vi,{id:a.id,username:a.username,className:"w-10 h-10"})})})]}),T.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[o==="HOME"&&T.jsxs("div",{className:"h-full flex flex-col",children:[T.jsx("div",{className:"lg:hidden flex-1 overflow-y-auto",children:T.jsx(S_,{contacts:B,onChatClick:pe,onPinChat:ie,onRemoveChat:me,activeContactId:h==null?void 0:h.id,isMobile:!0})}),T.jsxs("div",{className:"hidden lg:flex h-full flex-col items-center justify-center p-12 text-center",children:[T.jsx("div",{className:"w-24 h-24 bg-slate-50 flex items-center justify-center mb-8 rounded-3xl border border-slate-100",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-slate-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),T.jsx("h2",{className:"text-4xl font-chewy text-slate-800 mb-2 tracking-wide",children:"Ready for lift off?"}),T.jsx("p",{className:"text-slate-400 text-lg max-w-xs mb-10 font-medium",children:"Fast, Hashed, and Minimalist."}),T.jsx("button",{onClick:()=>u("ADD_CONTACT"),className:"bg-slate-900 hover:bg-black text-white font-chewy text-xl py-4 px-12 rounded-full transition-all active:scale-95 flex items-center gap-3 border-none",children:"+ Add Someone"})]})]}),o==="CHAT"&&h&&T.jsx(jx,{contact:h,user:a,onBack:()=>u("HOME"),hideHeader:!0}),o==="DASHBOARD"&&T.jsx(Hx,{user:a,onUpdate:Re,onBack:()=>u("HOME")}),o==="ADD_CONTACT"&&T.jsx(Bx,{onAdd:J,onBack:()=>u("HOME")})]}),o==="HOME"&&T.jsxs("button",{onClick:()=>u("ADD_CONTACT"),className:"absolute bottom-[calc(2rem+env(safe-area-inset-bottom))] right-8 h-16 px-6 bg-slate-900 rounded-full flex items-center justify-center text-white active:scale-90 z-20 transition-all duration-300 hover:scale-105 hover:bg-black shadow-xl border-none",children:[T.jsx("span",{className:"font-chewy text-2xl mr-2",children:"+"}),T.jsx("span",{className:"font-chewy text-xl uppercase tracking-wider",children:"New"})]})]})]}):null:T.jsxs("div",{className:"flex h-[100dvh] w-full flex-col items-center justify-center bg-white p-6 text-center animate-in fade-in duration-500",children:[T.jsx("h1",{className:"text-6xl font-chewy font-black text-slate-900 mb-4",children:"Super Yap"}),T.jsx("p",{className:"text-slate-400 text-xl max-w-xs mb-10 font-medium",children:"Fast, Hashed, and Minimalist."}),T.jsx("button",{onClick:O,className:"bg-slate-900 hover:bg-black text-white font-chewy text-2xl py-5 px-16 rounded-full transition-all active:scale-95 flex items-center gap-4 border-none shadow-xl",children:"Login with Google"})]})},q0=document.getElementById("root");if(!q0)throw new Error("Could not find root element to mount to");const Vx=E1.createRoot(q0);Vx.render(T.jsx(m1.StrictMode,{children:T.jsx(qx,{})}));
